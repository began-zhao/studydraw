import{_ as e}from"./plugin-vue_export-helper.21dcd24c.js";import{o,c,b as n,a as t,d as s,e as p,r as l}from"./app.ff743db7.js";const i={},u=n("h1",{id:"java8-\u65B0\u7279\u6027\u5B9E\u6218",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#java8-\u65B0\u7279\u6027\u5B9E\u6218","aria-hidden":"true"},"#"),s(" Java8 \u65B0\u7279\u6027\u5B9E\u6218")],-1),k=s("\u672C\u6587\u6765\u81EA"),r={href:"https://github.com/cowbi",target:"_blank",rel:"noopener noreferrer"},d=s("cowbi"),m=s("\u7684\u6295\u7A3F~"),v=n("p",null,"Oracle \u4E8E 2014 \u53D1\u5E03\u4E86 Java8\uFF08jdk1.8\uFF09\uFF0C\u8BF8\u591A\u539F\u56E0\u4F7F\u5B83\u6210\u4E3A\u76EE\u524D\u5E02\u573A\u4E0A\u4F7F\u7528\u6700\u591A\u7684 jdk \u7248\u672C\u3002\u867D\u7136\u53D1\u5E03\u8DDD\u4ECA\u5DF2\u5C06\u8FD1 7 \u5E74\uFF0C\u4F46\u5F88\u591A\u7A0B\u5E8F\u5458\u5BF9\u5176\u65B0\u7279\u6027\u8FD8\u662F\u4E0D\u591F\u4E86\u89E3\uFF0C\u5C24\u5176\u662F\u7528\u60EF\u4E86 Java8 \u4E4B\u524D\u7248\u672C\u7684\u8001\u7A0B\u5E8F\u5458\uFF0C\u6BD4\u5982\u6211\u3002",-1),b=s("\u4E3A\u4E86\u4E0D\u8131\u79BB\u961F\u4F0D\u592A\u8FDC\uFF0C\u8FD8\u662F\u6709\u5FC5\u8981\u5BF9\u8FD9\u4E9B\u65B0\u7279\u6027\u505A\u4E00\u4E9B\u603B\u7ED3\u68B3\u7406\u3002\u5B83\u8F83 jdk.7 \u6709\u5F88\u591A\u53D8\u5316\u6216\u8005\u8BF4\u662F\u4F18\u5316\uFF0C\u6BD4\u5982 interface \u91CC\u53EF\u4EE5\u6709\u9759\u6001\u65B9\u6CD5\uFF0C\u5E76\u4E14\u53EF\u4EE5\u6709\u65B9\u6CD5\u4F53\uFF0C\u8FD9\u4E00\u70B9\u5C31\u98A0\u8986\u4E86\u4E4B\u524D\u7684\u8BA4\u77E5\uFF1B"),g=n("code",null,"java.util.HashMap",-1),f=s(" \u6570\u636E\u7ED3\u6784\u91CC\u589E\u52A0\u4E86\u7EA2\u9ED1\u6811\uFF1B\u8FD8\u6709\u4F17\u6240\u5468\u77E5\u7684 Lambda \u8868\u8FBE\u5F0F\u7B49\u7B49\u3002\u672C\u6587\u4E0D\u80FD\u628A\u6240\u6709\u7684\u65B0\u7279\u6027\u90FD\u7ED9\u5927\u5BB6\u4E00\u4E00\u5206\u4EAB\uFF0C\u53EA\u5217\u51FA\u6BD4\u8F83\u5E38\u7528\u7684\u65B0\u7279\u6027\u7ED9\u5927\u5BB6\u505A\u8BE6\u7EC6\u8BB2\u89E3\u3002\u66F4\u591A\u76F8\u5173\u5185\u5BB9\u8BF7\u770B"),y={href:"https://www.oracle.com/java/technologies/javase/8-whats-new.html",target:"_blank",rel:"noopener noreferrer"},h=s("\u5B98\u7F51\u5173\u4E8E Java8 \u7684\u65B0\u7279\u6027\u7684\u4ECB\u7ECD"),w=s("\u3002"),q=p(`<h2 id="interface" tabindex="-1"><a class="header-anchor" href="#interface" aria-hidden="true">#</a> Interface</h2><p>interface \u7684\u8BBE\u8BA1\u521D\u8877\u662F\u9762\u5411\u62BD\u8C61\uFF0C\u63D0\u9AD8\u6269\u5C55\u6027\u3002\u8FD9\u4E5F\u7559\u6709\u4E00\u70B9\u9057\u61BE\uFF0CInterface \u4FEE\u6539\u7684\u65F6\u5019\uFF0C\u5B9E\u73B0\u5B83\u7684\u7C7B\u4E5F\u5FC5\u987B\u8DDF\u7740\u6539\u3002</p><p>\u4E3A\u4E86\u89E3\u51B3\u63A5\u53E3\u7684\u4FEE\u6539\u4E0E\u73B0\u6709\u7684\u5B9E\u73B0\u4E0D\u517C\u5BB9\u7684\u95EE\u9898\u3002\u65B0 interface \u7684\u65B9\u6CD5\u53EF\u4EE5\u7528<code>default</code> \u6216 <code>static</code>\u4FEE\u9970\uFF0C\u8FD9\u6837\u5C31\u53EF\u4EE5\u6709\u65B9\u6CD5\u4F53\uFF0C\u5B9E\u73B0\u7C7B\u4E5F\u4E0D\u5FC5\u91CD\u5199\u6B64\u65B9\u6CD5\u3002</p><p>\u4E00\u4E2A interface \u4E2D\u53EF\u4EE5\u6709\u591A\u4E2A\u65B9\u6CD5\u88AB\u5B83\u4EEC\u4FEE\u9970\uFF0C\u8FD9 2 \u4E2A\u4FEE\u9970\u7B26\u7684\u533A\u522B\u4E3B\u8981\u4E5F\u662F\u666E\u901A\u65B9\u6CD5\u548C\u9759\u6001\u65B9\u6CD5\u7684\u533A\u522B\u3002</p><ol><li><code>default</code>\u4FEE\u9970\u7684\u65B9\u6CD5\uFF0C\u662F\u666E\u901A\u5B9E\u4F8B\u65B9\u6CD5\uFF0C\u53EF\u4EE5\u7528<code>this</code>\u8C03\u7528\uFF0C\u53EF\u4EE5\u88AB\u5B50\u7C7B\u7EE7\u627F\u3001\u91CD\u5199\u3002</li><li><code>static</code>\u4FEE\u9970\u7684\u65B9\u6CD5\uFF0C\u4F7F\u7528\u4E0A\u548C\u4E00\u822C\u7C7B\u9759\u6001\u65B9\u6CD5\u4E00\u6837\u3002\u4F46\u5B83\u4E0D\u80FD\u88AB\u5B50\u7C7B\u7EE7\u627F\uFF0C\u53EA\u80FD\u7528<code>Interface</code>\u8C03\u7528\u3002</li></ol><p>\u6211\u4EEC\u6765\u770B\u4E00\u4E2A\u5B9E\u9645\u7684\u4F8B\u5B50\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">InterfaceNew</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">sm</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;interface\u63D0\u4F9B\u7684\u65B9\u5F0F\u5B9E\u73B0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">sm2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;interface\u63D0\u4F9B\u7684\u65B9\u5F0F\u5B9E\u73B0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">def</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;interface default\u65B9\u6CD5&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">def2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;interface default2\u65B9\u6CD5&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//\u987B\u8981\u5B9E\u73B0\u7C7B\u91CD\u5199</span>
    <span class="token keyword">void</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">InterfaceNew1</span> <span class="token punctuation">{</span>
    <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">def</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;InterfaceNew1 default\u65B9\u6CD5&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5982\u679C\u6709\u4E00\u4E2A\u7C7B\u65E2\u5B9E\u73B0\u4E86 <code>InterfaceNew</code> \u63A5\u53E3\u53C8\u5B9E\u73B0\u4E86 <code>InterfaceNew1</code>\u63A5\u53E3\uFF0C\u5B83\u4EEC\u90FD\u6709<code>def()</code>\uFF0C\u5E76\u4E14 <code>InterfaceNew</code> \u63A5\u53E3\u548C <code>InterfaceNew1</code>\u63A5\u53E3\u6CA1\u6709\u7EE7\u627F\u5173\u7CFB\u7684\u8BDD\uFF0C\u8FD9\u65F6\u5C31\u5FC5\u987B\u91CD\u5199<code>def()</code>\u3002\u4E0D\u7136\u7684\u8BDD\uFF0C\u7F16\u8BD1\u7684\u65F6\u5019\u5C31\u4F1A\u62A5\u9519\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">InterfaceNewImpl</span> <span class="token keyword">implements</span> <span class="token class-name">InterfaceNew</span> <span class="token punctuation">,</span> <span class="token class-name">InterfaceNew1</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">InterfaceNewImpl</span> interfaceNew <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InterfaceNewImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        interfaceNew<span class="token punctuation">.</span><span class="token function">def</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">def</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">InterfaceNew1</span><span class="token punctuation">.</span><span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">def</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u5728 Java 8 \uFF0C\u63A5\u53E3\u548C\u62BD\u8C61\u7C7B\u6709\u4EC0\u4E48\u533A\u522B\u7684\uFF1F</strong></p><p>\u5F88\u591A\u5C0F\u4F19\u4F34\u8BA4\u4E3A\uFF1A\u201C\u65E2\u7136 interface \u4E5F\u53EF\u4EE5\u6709\u81EA\u5DF1\u7684\u65B9\u6CD5\u5B9E\u73B0\uFF0C\u4F3C\u4E4E\u548C abstract class \u6CA1\u591A\u5927\u533A\u522B\u4E86\u3002\u201D</p><p>\u5176\u5B9E\u5B83\u4EEC\u8FD8\u662F\u6709\u533A\u522B\u7684</p><ol><li><p>interface \u548C class \u7684\u533A\u522B\uFF0C\u597D\u50CF\u662F\u5E9F\u8BDD\uFF0C\u4E3B\u8981\u6709\uFF1A</p><ul><li>\u63A5\u53E3\u591A\u5B9E\u73B0\uFF0C\u7C7B\u5355\u7EE7\u627F</li><li>\u63A5\u53E3\u7684\u65B9\u6CD5\u662F public abstract \u4FEE\u9970\uFF0C\u53D8\u91CF\u662F public static final \u4FEE\u9970\u3002 abstract class \u53EF\u4EE5\u7528\u5176\u4ED6\u4FEE\u9970\u7B26</li></ul></li><li><p>interface \u7684\u65B9\u6CD5\u662F\u66F4\u50CF\u662F\u4E00\u4E2A\u6269\u5C55\u63D2\u4EF6\u3002\u800C abstract class \u7684\u65B9\u6CD5\u662F\u8981\u7EE7\u627F\u7684\u3002</p></li></ol><p>\u5F00\u59CB\u6211\u4EEC\u4E5F\u63D0\u5230\uFF0Cinterface \u65B0\u589E<code>default</code>\u548C<code>static</code>\u4FEE\u9970\u7684\u65B9\u6CD5\uFF0C\u4E3A\u4E86\u89E3\u51B3\u63A5\u53E3\u7684\u4FEE\u6539\u4E0E\u73B0\u6709\u7684\u5B9E\u73B0\u4E0D\u517C\u5BB9\u7684\u95EE\u9898\uFF0C\u5E76\u4E0D\u662F\u4E3A\u4E86\u8981\u66FF\u4EE3<code>abstract class</code>\u3002\u5728\u4F7F\u7528\u4E0A\uFF0C\u8BE5\u7528 abstract class \u7684\u5730\u65B9\u8FD8\u662F\u8981\u7528 abstract class\uFF0C\u4E0D\u8981\u56E0\u4E3A interface \u7684\u65B0\u7279\u6027\u800C\u5C06\u4E4B\u66FF\u6362\u3002</p><p><strong>\u8BB0\u4F4F\u63A5\u53E3\u6C38\u8FDC\u548C\u7C7B\u4E0D\u4E00\u6837\u3002</strong></p><h2 id="functional-interface-\u51FD\u6570\u5F0F\u63A5\u53E3" tabindex="-1"><a class="header-anchor" href="#functional-interface-\u51FD\u6570\u5F0F\u63A5\u53E3" aria-hidden="true">#</a> functional interface \u51FD\u6570\u5F0F\u63A5\u53E3</h2><p><strong>\u5B9A\u4E49</strong>\uFF1A\u4E5F\u79F0 SAM \u63A5\u53E3\uFF0C\u5373 Single Abstract Method interfaces\uFF0C\u6709\u4E14\u53EA\u6709\u4E00\u4E2A\u62BD\u8C61\u65B9\u6CD5\uFF0C\u4F46\u53EF\u4EE5\u6709\u591A\u4E2A\u975E\u62BD\u8C61\u65B9\u6CD5\u7684\u63A5\u53E3\u3002</p><p>\u5728 java 8 \u4E2D\u4E13\u95E8\u6709\u4E00\u4E2A\u5305\u653E\u51FD\u6570\u5F0F\u63A5\u53E3<code>java.util.function</code>\uFF0C\u8BE5\u5305\u4E0B\u7684\u6240\u6709\u63A5\u53E3\u90FD\u6709 <code>@FunctionalInterface</code> \u6CE8\u89E3\uFF0C\u63D0\u4F9B\u51FD\u6570\u5F0F\u7F16\u7A0B\u3002</p><p>\u5728\u5176\u4ED6\u5305\u4E2D\u4E5F\u6709\u51FD\u6570\u5F0F\u63A5\u53E3\uFF0C\u5176\u4E2D\u4E00\u4E9B\u6CA1\u6709<code>@FunctionalInterface</code> \u6CE8\u89E3\uFF0C\u4F46\u662F\u53EA\u8981\u7B26\u5408\u51FD\u6570\u5F0F\u63A5\u53E3\u7684\u5B9A\u4E49\u5C31\u662F\u51FD\u6570\u5F0F\u63A5\u53E3\uFF0C\u4E0E\u662F\u5426\u6709</p><p><code>@FunctionalInterface</code>\u6CE8\u89E3\u65E0\u5173\uFF0C\u6CE8\u89E3\u53EA\u662F\u5728\u7F16\u8BD1\u65F6\u8D77\u5230\u5F3A\u5236\u89C4\u8303\u5B9A\u4E49\u7684\u4F5C\u7528\u3002\u5176\u5728 Lambda \u8868\u8FBE\u5F0F\u4E2D\u6709\u5E7F\u6CDB\u7684\u5E94\u7528\u3002</p><h2 id="lambda-\u8868\u8FBE\u5F0F" tabindex="-1"><a class="header-anchor" href="#lambda-\u8868\u8FBE\u5F0F" aria-hidden="true">#</a> Lambda \u8868\u8FBE\u5F0F</h2><p>\u63A5\u4E0B\u6765\u8C08\u4F17\u6240\u5468\u77E5\u7684 Lambda \u8868\u8FBE\u5F0F\u3002\u5B83\u662F\u63A8\u52A8 Java 8 \u53D1\u5E03\u7684\u6700\u91CD\u8981\u65B0\u7279\u6027\u3002\u662F\u7EE7\u6CDB\u578B(<code>Generics</code>)\u548C\u6CE8\u89E3(<code>Annotation</code>)\u4EE5\u6765\u6700\u5927\u7684\u53D8\u5316\u3002</p><p>\u4F7F\u7528 Lambda \u8868\u8FBE\u5F0F\u53EF\u4EE5\u4F7F\u4EE3\u7801\u53D8\u7684\u66F4\u52A0\u7B80\u6D01\u7D27\u51D1\u3002\u8BA9 java \u4E5F\u80FD\u652F\u6301\u7B80\u5355\u7684<em>\u51FD\u6570\u5F0F\u7F16\u7A0B</em>\u3002</p><blockquote><p>Lambda \u8868\u8FBE\u5F0F\u662F\u4E00\u4E2A\u533F\u540D\u51FD\u6570\uFF0Cjava 8 \u5141\u8BB8\u628A\u51FD\u6570\u4F5C\u4E3A\u53C2\u6570\u4F20\u9012\u8FDB\u65B9\u6CD5\u4E2D\u3002</p></blockquote><h3 id="\u8BED\u6CD5\u683C\u5F0F" tabindex="-1"><a class="header-anchor" href="#\u8BED\u6CD5\u683C\u5F0F" aria-hidden="true">#</a> \u8BED\u6CD5\u683C\u5F0F</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token punctuation">(</span>parameters<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> expression \u6216
<span class="token punctuation">(</span>parameters<span class="token punctuation">)</span> <span class="token operator">-&gt;</span><span class="token punctuation">{</span> statements<span class="token punctuation">;</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="lambda-\u5B9E\u6218" tabindex="-1"><a class="header-anchor" href="#lambda-\u5B9E\u6218" aria-hidden="true">#</a> Lambda \u5B9E\u6218</h3><p>\u6211\u4EEC\u7528\u5E38\u7528\u7684\u5B9E\u4F8B\u6765\u611F\u53D7 Lambda \u5E26\u6765\u7684\u4FBF\u5229</p><h4 id="\u66FF\u4EE3\u533F\u540D\u5185\u90E8\u7C7B" tabindex="-1"><a class="header-anchor" href="#\u66FF\u4EE3\u533F\u540D\u5185\u90E8\u7C7B" aria-hidden="true">#</a> \u66FF\u4EE3\u533F\u540D\u5185\u90E8\u7C7B</h4><p>\u8FC7\u53BB\u7ED9\u65B9\u6CD5\u4F20\u52A8\u6001\u53C2\u6570\u7684\u552F\u4E00\u65B9\u6CD5\u662F\u4F7F\u7528\u5185\u90E8\u7C7B\u3002\u6BD4\u5982</p><p><strong>1.<code>Runnable</code> \u63A5\u53E3</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;The runable now is using!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//\u7528lambda</span>
<span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;It&#39;s a lambda function!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>2.<code>Comparator</code> \u63A5\u53E3</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> strings <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>strings<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> o1<span class="token punctuation">,</span> <span class="token class-name">Integer</span> o2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> o1 <span class="token operator">-</span> o2<span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//Lambda</span>
<span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>strings<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span> o1<span class="token punctuation">,</span> <span class="token class-name">Integer</span> o2<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> o1 <span class="token operator">-</span> o2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//\u5206\u89E3\u5F00</span>
<span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> comperator <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span> o1<span class="token punctuation">,</span> <span class="token class-name">Integer</span> o2<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> o1 <span class="token operator">-</span> o2<span class="token punctuation">;</span>
<span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>strings<span class="token punctuation">,</span> comperator<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>3.<code>Listener</code> \u63A5\u53E3</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">JButton</span> button <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
button<span class="token punctuation">.</span><span class="token function">addItemListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ItemListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">itemStateChanged</span><span class="token punctuation">(</span><span class="token class-name">ItemEvent</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   e<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//lambda</span>
button<span class="token punctuation">.</span><span class="token function">addItemListener</span><span class="token punctuation">(</span>e <span class="token operator">-&gt;</span> e<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>4.\u81EA\u5B9A\u4E49\u63A5\u53E3</strong></p><p>\u4E0A\u9762\u7684 3 \u4E2A\u4F8B\u5B50\u662F\u6211\u4EEC\u5728\u5F00\u53D1\u8FC7\u7A0B\u4E2D\u6700\u5E38\u89C1\u7684\uFF0C\u4ECE\u4E2D\u4E5F\u80FD\u4F53\u4F1A\u5230 Lambda \u5E26\u6765\u7684\u4FBF\u6377\u4E0E\u6E05\u723D\u3002\u5B83\u53EA\u4FDD\u7559\u5B9E\u9645\u7528\u5230\u7684\u4EE3\u7801\uFF0C\u628A\u65E0\u7528\u4EE3\u7801\u5168\u90E8\u7701\u7565\u3002\u90A3\u5B83\u5BF9\u63A5\u53E3\u6709\u6CA1\u6709\u8981\u6C42\u5462\uFF1F\u6211\u4EEC\u53D1\u73B0\u8FD9\u4E9B\u533F\u540D\u5185\u90E8\u7C7B\u53EA\u91CD\u5199\u4E86\u63A5\u53E3\u7684\u4E00\u4E2A\u65B9\u6CD5\uFF0C\u5F53\u7136\u4E5F\u53EA\u6709\u4E00\u4E2A\u65B9\u6CD5\u987B\u8981\u91CD\u5199\u3002\u8FD9\u5C31\u662F\u6211\u4EEC\u4E0A\u6587\u63D0\u5230\u7684<strong>\u51FD\u6570\u5F0F\u63A5\u53E3</strong>\uFF0C\u4E5F\u5C31\u662F\u8BF4\u53EA\u8981\u65B9\u6CD5\u7684\u53C2\u6570\u662F\u51FD\u6570\u5F0F\u63A5\u53E3\u90FD\u53EF\u4EE5\u7528 Lambda \u8868\u8FBE\u5F0F\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@FunctionalInterface</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token annotation punctuation">@FunctionalInterface</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Runnable</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6211\u4EEC\u81EA\u5B9A\u4E49\u4E00\u4E2A\u51FD\u6570\u5F0F\u63A5\u53E3</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@FunctionalInterface</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">LambdaInterface</span> <span class="token punctuation">{</span>
 <span class="token keyword">void</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//\u4F7F\u7528</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LambdaClass</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">forEg</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">lambdaInterfaceDemo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u81EA\u5B9A\u4E49\u51FD\u6570\u5F0F\u63A5\u53E3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//\u51FD\u6570\u5F0F\u63A5\u53E3\u53C2\u6570</span>
    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">lambdaInterfaceDemo</span><span class="token punctuation">(</span><span class="token class-name">LambdaInterface</span> i<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u96C6\u5408\u8FED\u4EE3" tabindex="-1"><a class="header-anchor" href="#\u96C6\u5408\u8FED\u4EE3" aria-hidden="true">#</a> \u96C6\u5408\u8FED\u4EE3</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">void</span> <span class="token function">lamndaFor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> strings <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//\u4F20\u7EDFforeach</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> s <span class="token operator">:</span> strings<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//Lambda foreach</span>
        strings<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//or</span>
        strings<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 				<span class="token comment">//map</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span>v<span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u65B9\u6CD5\u7684\u5F15\u7528" tabindex="-1"><a class="header-anchor" href="#\u65B9\u6CD5\u7684\u5F15\u7528" aria-hidden="true">#</a> \u65B9\u6CD5\u7684\u5F15\u7528</h4><p>Java 8 \u5141\u8BB8\u4F7F\u7528 <code>::</code> \u5173\u952E\u5B57\u6765\u4F20\u9012\u65B9\u6CD5\u6216\u8005\u6784\u9020\u51FD\u6570\u5F15\u7528\uFF0C\u65E0\u8BBA\u5982\u4F55\uFF0C\u8868\u8FBE\u5F0F\u8FD4\u56DE\u7684\u7C7B\u578B\u5FC5\u987B\u662F functional-interface\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LambdaClassSuper</span> <span class="token punctuation">{</span>
    <span class="token class-name">LambdaInterface</span> <span class="token function">sf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LambdaClass</span> <span class="token keyword">extends</span> <span class="token class-name">LambdaClassSuper</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">LambdaInterface</span> <span class="token function">staticF</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">LambdaInterface</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//1.\u8C03\u7528\u9759\u6001\u51FD\u6570\uFF0C\u8FD4\u56DE\u7C7B\u578B\u5FC5\u987B\u662Ffunctional-interface</span>
        <span class="token class-name">LambdaInterface</span> t <span class="token operator">=</span> <span class="token class-name">LambdaClass</span><span class="token operator">::</span><span class="token function">staticF</span><span class="token punctuation">;</span>

        <span class="token comment">//2.\u5B9E\u4F8B\u65B9\u6CD5\u8C03\u7528</span>
        <span class="token class-name">LambdaClass</span> lambdaClass <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LambdaClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">LambdaInterface</span> lambdaInterface <span class="token operator">=</span> lambdaClass<span class="token operator">::</span><span class="token function">f</span><span class="token punctuation">;</span>

        <span class="token comment">//3.\u8D85\u7C7B\u4E0A\u7684\u65B9\u6CD5\u8C03\u7528</span>
        <span class="token class-name">LambdaInterface</span> superf <span class="token operator">=</span> <span class="token keyword">super</span><span class="token operator">::</span><span class="token function">sf</span><span class="token punctuation">;</span>

        <span class="token comment">//4. \u6784\u9020\u65B9\u6CD5\u8C03\u7528</span>
        <span class="token class-name">LambdaInterface</span> tt <span class="token operator">=</span> <span class="token class-name">LambdaClassSuper</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u8BBF\u95EE\u53D8\u91CF" tabindex="-1"><a class="header-anchor" href="#\u8BBF\u95EE\u53D8\u91CF" aria-hidden="true">#</a> \u8BBF\u95EE\u53D8\u91CF</h4><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>strings<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span> o1<span class="token punctuation">,</span> <span class="token class-name">Integer</span> o2<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> o1 <span class="token operator">-</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//i =3;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>lambda \u8868\u8FBE\u5F0F\u53EF\u4EE5\u5F15\u7528\u5916\u8FB9\u53D8\u91CF\uFF0C\u4F46\u662F\u8BE5\u53D8\u91CF\u9ED8\u8BA4\u62E5\u6709 final \u5C5E\u6027\uFF0C\u4E0D\u80FD\u88AB\u4FEE\u6539\uFF0C\u5982\u679C\u4FEE\u6539\uFF0C\u7F16\u8BD1\u65F6\u5C31\u62A5\u9519\u3002</p><h2 id="stream" tabindex="-1"><a class="header-anchor" href="#stream" aria-hidden="true">#</a> Stream</h2><p>java \u65B0\u589E\u4E86 <code>java.util.stream</code> \u5305\uFF0C\u5B83\u548C\u4E4B\u524D\u7684\u6D41\u5927\u540C\u5C0F\u5F02\u3002\u4E4B\u524D\u63A5\u89E6\u6700\u591A\u7684\u662F\u8D44\u6E90\u6D41\uFF0C\u6BD4\u5982<code>java.io.FileInputStream</code>\uFF0C\u901A\u8FC7\u6D41\u628A\u6587\u4EF6\u4ECE\u4E00\u4E2A\u5730\u65B9\u8F93\u5165\u5230\u53E6\u4E00\u4E2A\u5730\u65B9\uFF0C\u5B83\u53EA\u662F\u5185\u5BB9\u642C\u8FD0\u5DE5\uFF0C\u5BF9\u6587\u4EF6\u5185\u5BB9\u4E0D\u505A\u4EFB\u4F55<em>CRUD</em>\u3002</p><p><code>Stream</code>\u4F9D\u7136\u4E0D\u5B58\u50A8\u6570\u636E\uFF0C\u4E0D\u540C\u7684\u662F\u5B83\u53EF\u4EE5\u68C0\u7D22(Retrieve)\u548C\u903B\u8F91\u5904\u7406\u96C6\u5408\u6570\u636E\u3001\u5305\u62EC\u7B5B\u9009\u3001\u6392\u5E8F\u3001\u7EDF\u8BA1\u3001\u8BA1\u6570\u7B49\u3002\u53EF\u4EE5\u60F3\u8C61\u6210\u662F Sql \u8BED\u53E5\u3002</p><p>\u5B83\u7684\u6E90\u6570\u636E\u53EF\u4EE5\u662F <code>Collection</code>\u3001<code>Array</code> \u7B49\u3002\u7531\u4E8E\u5B83\u7684\u65B9\u6CD5\u53C2\u6570\u90FD\u662F\u51FD\u6570\u5F0F\u63A5\u53E3\u7C7B\u578B\uFF0C\u6240\u4EE5\u4E00\u822C\u548C Lambda \u914D\u5408\u4F7F\u7528\u3002</p><h3 id="\u6D41\u7C7B\u578B" tabindex="-1"><a class="header-anchor" href="#\u6D41\u7C7B\u578B" aria-hidden="true">#</a> \u6D41\u7C7B\u578B</h3><ol><li>stream \u4E32\u884C\u6D41</li><li>parallelStream \u5E76\u884C\u6D41\uFF0C\u53EF\u591A\u7EBF\u7A0B\u6267\u884C</li></ol><h3 id="\u5E38\u7528\u65B9\u6CD5" tabindex="-1"><a class="header-anchor" href="#\u5E38\u7528\u65B9\u6CD5" aria-hidden="true">#</a> \u5E38\u7528\u65B9\u6CD5</h3><p>\u63A5\u4E0B\u6765\u6211\u4EEC\u770B<code>java.util.stream.Stream</code>\u5E38\u7528\u65B9\u6CD5</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
* \u8FD4\u56DE\u4E00\u4E2A\u4E32\u884C\u6D41
*/</span>
<span class="token keyword">default</span> <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> <span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token doc-comment comment">/**
* \u8FD4\u56DE\u4E00\u4E2A\u5E76\u884C\u6D41
*/</span>
<span class="token keyword">default</span> <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> <span class="token function">parallelStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token doc-comment comment">/**
* \u8FD4\u56DET\u7684\u6D41
*/</span>
<span class="token keyword">public</span> <span class="token keyword">static</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">of</span><span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">)</span>

<span class="token doc-comment comment">/**
* \u8FD4\u56DE\u5176\u5143\u7D20\u662F\u6307\u5B9A\u503C\u7684\u987A\u5E8F\u6D41\u3002
*/</span>
<span class="token keyword">public</span> <span class="token keyword">static</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">of</span><span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> values<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token doc-comment comment">/**
* \u8FC7\u6EE4\uFF0C\u8FD4\u56DE\u7531\u4E0E\u7ED9\u5B9Apredicate\u5339\u914D\u7684\u8BE5\u6D41\u7684\u5143\u7D20\u7EC4\u6210\u7684\u6D41
*/</span>
<span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">filter</span><span class="token punctuation">(</span><span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> predicate<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
* \u6B64\u6D41\u7684\u6240\u6709\u5143\u7D20\u662F\u5426\u4E0E\u63D0\u4F9B\u7684predicate\u5339\u914D\u3002
*/</span>
<span class="token keyword">boolean</span> <span class="token function">allMatch</span><span class="token punctuation">(</span><span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> predicate<span class="token punctuation">)</span>

<span class="token doc-comment comment">/**
* \u6B64\u6D41\u4EFB\u610F\u5143\u7D20\u662F\u5426\u6709\u4E0E\u63D0\u4F9B\u7684predicate\u5339\u914D\u3002
*/</span>
<span class="token keyword">boolean</span> <span class="token function">anyMatch</span><span class="token punctuation">(</span><span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> predicate<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
* \u8FD4\u56DE\u4E00\u4E2A Stream\u7684\u6784\u5EFA\u5668\u3002
*/</span>
<span class="token keyword">public</span> <span class="token keyword">static</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Builder</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
* \u4F7F\u7528 Collector\u5BF9\u6B64\u6D41\u7684\u5143\u7D20\u8FDB\u884C\u5F52\u7EB3
*/</span>
<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">,</span> <span class="token class-name">A</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">R</span> <span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collector</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">A</span><span class="token punctuation">,</span> <span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> collector<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * \u8FD4\u56DE\u6B64\u6D41\u4E2D\u7684\u5143\u7D20\u6570\u3002
*/</span>
<span class="token keyword">long</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
* \u8FD4\u56DE\u7531\u8BE5\u6D41\u7684\u4E0D\u540C\u5143\u7D20\uFF08\u6839\u636E Object.equals(Object) \uFF09\u7EC4\u6210\u7684\u6D41\u3002
*/</span>
<span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">distinct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * \u904D\u5386
*/</span>
<span class="token keyword">void</span> <span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> action<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
* \u7528\u4E8E\u83B7\u53D6\u6307\u5B9A\u6570\u91CF\u7684\u6D41\uFF0C\u622A\u77ED\u957F\u5EA6\u4E0D\u80FD\u8D85\u8FC7 maxSize \u3002
*/</span>
<span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">limit</span><span class="token punctuation">(</span><span class="token keyword">long</span> maxSize<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
* \u7528\u4E8E\u6620\u5C04\u6BCF\u4E2A\u5143\u7D20\u5230\u5BF9\u5E94\u7684\u7ED3\u679C
*/</span>
<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> <span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">R</span><span class="token punctuation">&gt;</span></span> mapper<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
* \u6839\u636E\u63D0\u4F9B\u7684 Comparator\u8FDB\u884C\u6392\u5E8F\u3002
*/</span>
<span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">sorted</span><span class="token punctuation">(</span><span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> comparator<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
* \u5728\u4E22\u5F03\u6D41\u7684\u7B2C\u4E00\u4E2A n\u5143\u7D20\u540E\uFF0C\u8FD4\u56DE\u7531\u8BE5\u6D41\u7684 n\u5143\u7D20\u7EC4\u6210\u7684\u6D41\u3002
*/</span>
<span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">skip</span><span class="token punctuation">(</span><span class="token keyword">long</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
* \u8FD4\u56DE\u4E00\u4E2A\u5305\u542B\u6B64\u6D41\u7684\u5143\u7D20\u7684\u6570\u7EC4\u3002
*/</span>
<span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
* \u4F7F\u7528\u63D0\u4F9B\u7684 generator\u51FD\u6570\u8FD4\u56DE\u4E00\u4E2A\u5305\u542B\u6B64\u6D41\u7684\u5143\u7D20\u7684\u6570\u7EC4\uFF0C\u4EE5\u5206\u914D\u8FD4\u56DE\u7684\u6570\u7EC4\uFF0C\u4EE5\u53CA\u5206\u533A\u6267\u884C\u6216\u8C03\u6574\u5927\u5C0F\u53EF\u80FD\u9700\u8981\u7684\u4EFB\u4F55\u5176\u4ED6\u6570\u7EC4\u3002
*/</span>
<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">A</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">A</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">toArray</span><span class="token punctuation">(</span><span class="token class-name">IntFunction</span><span class="token operator">&lt;</span><span class="token class-name">A</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> generator<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
* \u5408\u5E76\u6D41
*/</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">concat</span><span class="token punctuation">(</span><span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> a<span class="token punctuation">,</span> <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> b<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5B9E\u6218" tabindex="-1"><a class="header-anchor" href="#\u5B9E\u6218" aria-hidden="true">#</a> \u5B9E\u6218</h3><p>\u672C\u6587\u5217\u51FA <code>Stream</code> \u5177\u6709\u4EE3\u8868\u6027\u7684\u65B9\u6CD5\u4E4B\u4F7F\u7528\uFF0C\u66F4\u591A\u7684\u4F7F\u7528\u65B9\u6CD5\u8FD8\u662F\u8981\u770B Api\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> strings <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;def&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;gkh&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;abc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u8FD4\u56DE\u7B26\u5408\u6761\u4EF6\u7684stream</span>
    <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> stringStream <span class="token operator">=</span> strings<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>s <span class="token operator">-&gt;</span> <span class="token string">&quot;abc&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u8BA1\u7B97\u6D41\u7B26\u5408\u6761\u4EF6\u7684\u6D41\u7684\u6570\u91CF</span>
    <span class="token keyword">long</span> count <span class="token operator">=</span> stringStream<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//forEach\u904D\u5386-&gt;\u6253\u5370\u5143\u7D20</span>
    strings<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//limit \u83B7\u53D6\u52301\u4E2A\u5143\u7D20\u7684stream</span>
    <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> limit <span class="token operator">=</span> strings<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//toArray \u6BD4\u5982\u6211\u4EEC\u60F3\u770B\u8FD9\u4E2AlimitStream\u91CC\u9762\u662F\u4EC0\u4E48\uFF0C\u6BD4\u5982\u8F6C\u6362\u6210String[],\u6BD4\u5982\u5FAA\u73AF</span>
    <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> array <span class="token operator">=</span> limit<span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//map \u5BF9\u6BCF\u4E2A\u5143\u7D20\u8FDB\u884C\u64CD\u4F5C\u8FD4\u56DE\u65B0\u6D41</span>
    <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> strings<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>s <span class="token operator">-&gt;</span> s <span class="token operator">+</span> <span class="token string">&quot;22&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//sorted \u6392\u5E8F\u5E76\u6253\u5370</span>
    strings<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//Collectors collect \u628Aabc\u653E\u5165\u5BB9\u5668\u4E2D</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> collect <span class="token operator">=</span> strings<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>string <span class="token operator">-&gt;</span> <span class="token string">&quot;abc&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u628Alist\u8F6C\u4E3Astring\uFF0C\u5404\u5143\u7D20\u7528\uFF0C\u53F7\u9694\u5F00</span>
    <span class="token class-name">String</span> mergedString <span class="token operator">=</span> strings<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>string <span class="token operator">-&gt;</span> <span class="token operator">!</span>string<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">joining</span><span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//\u5BF9\u6570\u7EC4\u7684\u7EDF\u8BA1\uFF0C\u6BD4\u5982\u7528</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> number <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">IntSummaryStatistics</span> statistics <span class="token operator">=</span> number<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mapToInt</span><span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> x<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">summaryStatistics</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u5217\u8868\u4E2D\u6700\u5927\u7684\u6570 : &quot;</span><span class="token operator">+</span>statistics<span class="token punctuation">.</span><span class="token function">getMax</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u5217\u8868\u4E2D\u6700\u5C0F\u7684\u6570 : &quot;</span><span class="token operator">+</span>statistics<span class="token punctuation">.</span><span class="token function">getMin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u5E73\u5747\u6570 : &quot;</span><span class="token operator">+</span>statistics<span class="token punctuation">.</span><span class="token function">getAverage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u6240\u6709\u6570\u4E4B\u548C : &quot;</span><span class="token operator">+</span>statistics<span class="token punctuation">.</span><span class="token function">getSum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//concat \u5408\u5E76\u6D41</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> strings2 <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">&quot;xyz&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;jqx&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>strings2<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>strings<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//\u6CE8\u610F \u4E00\u4E2AStream\u53EA\u80FD\u64CD\u4F5C\u4E00\u6B21\uFF0C\u4E0D\u80FD\u65AD\u5F00\uFF0C\u5426\u5219\u4F1A\u62A5\u9519\u3002</span>
    <span class="token class-name">Stream</span> stream <span class="token operator">=</span> strings<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u7B2C\u4E00\u6B21\u4F7F\u7528</span>
    stream<span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u7B2C\u4E8C\u6B21\u4F7F\u7528</span>
    stream<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u62A5\u9519 java.lang.IllegalStateException: stream has already been operated upon or closed</span>

    <span class="token comment">//\u4F46\u662F\u53EF\u4EE5\u8FD9\u6837, \u8FDE\u7EED\u4F7F\u7528</span>
    stream<span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5EF6\u8FDF\u6267\u884C" tabindex="-1"><a class="header-anchor" href="#\u5EF6\u8FDF\u6267\u884C" aria-hidden="true">#</a> \u5EF6\u8FDF\u6267\u884C</h3><p>\u5728\u6267\u884C\u8FD4\u56DE <code>Stream</code> \u7684\u65B9\u6CD5\u65F6\uFF0C\u5E76\u4E0D\u7ACB\u523B\u6267\u884C\uFF0C\u800C\u662F\u7B49\u8FD4\u56DE\u4E00\u4E2A\u975E <code>Stream</code> \u7684\u65B9\u6CD5\u540E\u624D\u6267\u884C\u3002\u56E0\u4E3A\u62FF\u5230 <code>Stream</code> \u5E76\u4E0D\u80FD\u76F4\u63A5\u7528\uFF0C\u800C\u662F\u9700\u8981\u5904\u7406\u6210\u4E00\u4E2A\u5E38\u89C4\u7C7B\u578B\u3002\u8FD9\u91CC\u7684 <code>Stream</code> \u53EF\u4EE5\u60F3\u8C61\u6210\u662F\u4E8C\u8FDB\u5236\u6D41\uFF082 \u4E2A\u5B8C\u5168\u4E0D\u4E00\u6837\u7684\u4E1C\u4E1C\uFF09\uFF0C\u62FF\u5230\u4E5F\u770B\u4E0D\u61C2\u3002</p><p>\u6211\u4EEC\u4E0B\u9762\u5206\u89E3\u4E00\u4E0B <code>filter</code> \u65B9\u6CD5\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">laziness</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> strings <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;def&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;gkh&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;abc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> stream <span class="token operator">=</span> strings<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Predicate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token class-name">Object</span> o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Predicate.test \u6267\u884C&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

   <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;count \u6267\u884C&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   stream<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/*-------\u6267\u884C\u7ED3\u679C--------*/</span>
count \u6267\u884C
<span class="token class-name">Predicate</span><span class="token punctuation">.</span>test \u6267\u884C
<span class="token class-name">Predicate</span><span class="token punctuation">.</span>test \u6267\u884C
<span class="token class-name">Predicate</span><span class="token punctuation">.</span>test \u6267\u884C
<span class="token class-name">Predicate</span><span class="token punctuation">.</span>test \u6267\u884C
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6309\u6267\u884C\u987A\u5E8F\u5E94\u8BE5\u662F\u5148\u6253\u5370 4 \u6B21\u300C<code>Predicate.test</code> \u6267\u884C\u300D\uFF0C\u518D\u6253\u5370\u300C<code>count</code> \u6267\u884C\u300D\u3002\u5B9E\u9645\u7ED3\u679C\u6070\u6070\u76F8\u53CD\u3002\u8BF4\u660E filter \u4E2D\u7684\u65B9\u6CD5\u5E76\u6CA1\u6709\u7ACB\u523B\u6267\u884C\uFF0C\u800C\u662F\u7B49\u8C03\u7528<code>count()</code>\u65B9\u6CD5\u540E\u624D\u6267\u884C\u3002</p><p>\u4E0A\u9762\u90FD\u662F\u4E32\u884C <code>Stream</code> \u7684\u5B9E\u4F8B\u3002\u5E76\u884C <code>parallelStream</code> \u5728\u4F7F\u7528\u65B9\u6CD5\u4E0A\u548C\u4E32\u884C\u4E00\u6837\u3002\u4E3B\u8981\u533A\u522B\u662F <code>parallelStream</code> \u53EF\u591A\u7EBF\u7A0B\u6267\u884C\uFF0C\u662F\u57FA\u4E8E ForkJoin \u6846\u67B6\u5B9E\u73B0\u7684\uFF0C\u6709\u65F6\u95F4\u5927\u5BB6\u53EF\u4EE5\u4E86\u89E3\u4E00\u4E0B <code>ForkJoin</code> \u6846\u67B6\u548C <code>ForkJoinPool</code>\u3002\u8FD9\u91CC\u53EF\u4EE5\u7B80\u5355\u7684\u7406\u89E3\u5B83\u662F\u901A\u8FC7\u7EBF\u7A0B\u6C60\u6765\u5B9E\u73B0\u7684\uFF0C\u8FD9\u6837\u5C31\u4F1A\u6D89\u53CA\u5230\u7EBF\u7A0B\u5B89\u5168\uFF0C\u7EBF\u7A0B\u6D88\u8017\u7B49\u95EE\u9898\u3002\u4E0B\u9762\u6211\u4EEC\u901A\u8FC7\u4EE3\u7801\u6765\u4F53\u9A8C\u4E00\u4E0B\u5E76\u884C\u6D41\u7684\u591A\u7EBF\u7A0B\u6267\u884C\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">parallelStreamTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> numbers <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   numbers<span class="token punctuation">.</span><span class="token function">parallelStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>num<span class="token operator">-&gt;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;&gt;&gt;&quot;</span><span class="token operator">+</span>num<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//\u6267\u884C\u7ED3\u679C</span>
main<span class="token operator">&gt;&gt;</span><span class="token number">5</span>
<span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">2</span><span class="token operator">&gt;&gt;</span><span class="token number">4</span>
<span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">11</span><span class="token operator">&gt;&gt;</span><span class="token number">1</span>
<span class="token class-name">ForkJoinPool</span><span class="token punctuation">.</span>commonPool<span class="token operator">-</span>worker<span class="token operator">-</span><span class="token number">9</span><span class="token operator">&gt;&gt;</span><span class="token number">2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4ECE\u7ED3\u679C\u4E2D\u6211\u4EEC\u770B\u5230\uFF0Cfor-each \u7528\u5230\u7684\u662F\u591A\u7EBF\u7A0B\u3002</p><h3 id="\u5C0F\u7ED3" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7ED3" aria-hidden="true">#</a> \u5C0F\u7ED3</h3><p>\u4ECE\u6E90\u7801\u548C\u5B9E\u4F8B\u4E2D\u6211\u4EEC\u53EF\u4EE5\u603B\u7ED3\u51FA\u4E00\u4E9B stream \u7684\u7279\u70B9</p><ol><li>\u901A\u8FC7\u7B80\u5355\u7684\u94FE\u5F0F\u7F16\u7A0B\uFF0C\u4F7F\u5F97\u5B83\u53EF\u4EE5\u65B9\u4FBF\u5730\u5BF9\u904D\u5386\u5904\u7406\u540E\u7684\u6570\u636E\u8FDB\u884C\u518D\u5904\u7406\u3002</li><li>\u65B9\u6CD5\u53C2\u6570\u90FD\u662F\u51FD\u6570\u5F0F\u63A5\u53E3\u7C7B\u578B</li><li>\u4E00\u4E2A Stream \u53EA\u80FD\u64CD\u4F5C\u4E00\u6B21\uFF0C\u64CD\u4F5C\u5B8C\u5C31\u5173\u95ED\u4E86\uFF0C\u7EE7\u7EED\u4F7F\u7528\u8FD9\u4E2A stream \u4F1A\u62A5\u9519\u3002</li><li>Stream \u4E0D\u4FDD\u5B58\u6570\u636E\uFF0C\u4E0D\u6539\u53D8\u6570\u636E\u6E90</li></ol><h2 id="optional" tabindex="-1"><a class="header-anchor" href="#optional" aria-hidden="true">#</a> Optional</h2>`,73),S=s("\u5728"),j={href:"https://share.weiyun.com/ThuqEbD5",target:"_blank",rel:"noopener noreferrer"},T=s("\u963F\u91CC\u5DF4\u5DF4\u5F00\u53D1\u624B\u518C\u5173\u4E8E Optional \u7684\u4ECB\u7ECD"),D=s("\u4E2D\u8FD9\u6837\u5199\u5230\uFF1A"),x=p(`<blockquote><p>\u9632\u6B62 NPE\uFF0C\u662F\u7A0B\u5E8F\u5458\u7684\u57FA\u672C\u4FEE\u517B\uFF0C\u6CE8\u610F NPE \u4EA7\u751F\u7684\u573A\u666F\uFF1A</p><p>1\uFF09 \u8FD4\u56DE\u7C7B\u578B\u4E3A\u57FA\u672C\u6570\u636E\u7C7B\u578B\uFF0Creturn \u5305\u88C5\u6570\u636E\u7C7B\u578B\u7684\u5BF9\u8C61\u65F6\uFF0C\u81EA\u52A8\u62C6\u7BB1\u6709\u53EF\u80FD\u4EA7\u751F NPE\u3002</p><p>\u53CD\u4F8B\uFF1Apublic int f() { return Integer \u5BF9\u8C61}\uFF0C \u5982\u679C\u4E3A null\uFF0C\u81EA\u52A8\u89E3\u7BB1\u629B NPE\u3002</p><p>2\uFF09 \u6570\u636E\u5E93\u7684\u67E5\u8BE2\u7ED3\u679C\u53EF\u80FD\u4E3A null\u3002</p><p>3\uFF09 \u96C6\u5408\u91CC\u7684\u5143\u7D20\u5373\u4F7F isNotEmpty\uFF0C\u53D6\u51FA\u7684\u6570\u636E\u5143\u7D20\u4E5F\u53EF\u80FD\u4E3A null\u3002</p><p>4\uFF09 \u8FDC\u7A0B\u8C03\u7528\u8FD4\u56DE\u5BF9\u8C61\u65F6\uFF0C\u4E00\u5F8B\u8981\u6C42\u8FDB\u884C\u7A7A\u6307\u9488\u5224\u65AD\uFF0C\u9632\u6B62 NPE\u3002</p><p>5\uFF09 \u5BF9\u4E8E Session \u4E2D\u83B7\u53D6\u7684\u6570\u636E\uFF0C\u5EFA\u8BAE\u8FDB\u884C NPE \u68C0\u67E5\uFF0C\u907F\u514D\u7A7A\u6307\u9488\u3002</p><p>6\uFF09 \u7EA7\u8054\u8C03\u7528 obj.getA().getB().getC()\uFF1B\u4E00\u8FDE\u4E32\u8C03\u7528\uFF0C\u6613\u4EA7\u751F NPE\u3002</p><p>\u6B63\u4F8B\uFF1A\u4F7F\u7528 JDK8 \u7684 Optional \u7C7B\u6765\u9632\u6B62 NPE \u95EE\u9898\u3002</p></blockquote><p>\u4ED6\u5EFA\u8BAE\u4F7F\u7528 <code>Optional</code> \u89E3\u51B3 NPE\uFF08<code>java.lang.NullPointerException</code>\uFF09\u95EE\u9898\uFF0C\u5B83\u5C31\u662F\u4E3A NPE \u800C\u751F\u7684\uFF0C\u5176\u4E2D\u53EF\u4EE5\u5305\u542B\u7A7A\u503C\u6216\u975E\u7A7A\u503C\u3002\u4E0B\u9762\u6211\u4EEC\u901A\u8FC7\u6E90\u7801\u9010\u6B65\u63ED\u5F00 <code>Optional</code> \u7684\u7EA2\u76D6\u5934\u3002</p><p>\u5047\u8BBE\u6709\u4E00\u4E2A <code>Zoo</code> \u7C7B\uFF0C\u91CC\u9762\u6709\u4E2A\u5C5E\u6027 <code>Dog</code>\uFF0C\u9700\u6C42\u8981\u83B7\u53D6 <code>Dog</code> \u7684 <code>age</code>\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Zoo</span> <span class="token punctuation">{</span>
   <span class="token keyword">private</span> <span class="token class-name">Dog</span> dog<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token punctuation">{</span>
   <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4F20\u7EDF\u89E3\u51B3 NPE \u7684\u529E\u6CD5\u5982\u4E0B\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Zoo</span> zoo <span class="token operator">=</span> <span class="token function">getZoo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>zoo <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token class-name">Dog</span> dog <span class="token operator">=</span> zoo<span class="token punctuation">.</span><span class="token function">getDog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">if</span><span class="token punctuation">(</span>dog <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">int</span> age <span class="token operator">=</span> dog<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5C42\u5C42\u5224\u65AD\u5BF9\u8C61\u975E\u7A7A\uFF0C\u6709\u4EBA\u8BF4\u8FD9\u79CD\u65B9\u5F0F\u5F88\u4E11\u964B\u4E0D\u4F18\u96C5\uFF0C\u6211\u5E76\u4E0D\u8FD9\u4E48\u8BA4\u4E3A\u3002\u53CD\u800C\u89C9\u5F97\u5F88\u6574\u6D01\uFF0C\u6613\u8BFB\uFF0C\u6613\u61C2\u3002\u4F60\u4EEC\u89C9\u5F97\u5462\uFF1F</p><p><code>Optional</code> \u662F\u8FD9\u6837\u7684\u5B9E\u73B0\u7684\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Optional</span><span class="token punctuation">.</span><span class="token function">ofNullable</span><span class="token punctuation">(</span>zoo<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>o <span class="token operator">-&gt;</span> o<span class="token punctuation">.</span><span class="token function">getDog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>d <span class="token operator">-&gt;</span> d<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ifPresent</span><span class="token punctuation">(</span>age <span class="token operator">-&gt;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u662F\u4E0D\u662F\u7B80\u6D01\u4E86\u5F88\u591A\u5462\uFF1F</p><h3 id="\u5982\u4F55\u521B\u5EFA\u4E00\u4E2A-optional" tabindex="-1"><a class="header-anchor" href="#\u5982\u4F55\u521B\u5EFA\u4E00\u4E2A-optional" aria-hidden="true">#</a> \u5982\u4F55\u521B\u5EFA\u4E00\u4E2A Optional</h3><p>\u4E0A\u4F8B\u4E2D<code>Optional.ofNullable</code>\u662F\u5176\u4E2D\u4E00\u79CD\u521B\u5EFA Optional \u7684\u65B9\u5F0F\u3002\u6211\u4EEC\u5148\u770B\u4E00\u4E0B\u5B83\u7684\u542B\u4E49\u548C\u5176\u4ED6\u521B\u5EFA Optional \u7684\u6E90\u7801\u65B9\u6CD5\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
* Common instance for <span class="token punctuation">{</span><span class="token keyword">@code</span> <span class="token code-section"><span class="token code language-java"><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span></span><span class="token punctuation">}</span>. \u5168\u5C40EMPTY\u5BF9\u8C61
*/</span>
<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> EMPTY <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
* Optional\u7EF4\u62A4\u7684\u503C
*/</span>
<span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">T</span> value<span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
* \u5982\u679Cvalue\u662Fnull\u5C31\u8FD4\u56DEEMPTY\uFF0C\u5426\u5219\u5C31\u8FD4\u56DEof(T)
*/</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">ofNullable</span><span class="token punctuation">(</span><span class="token class-name">T</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">return</span> value <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">of</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token doc-comment comment">/**
* \u8FD4\u56DE EMPTY \u5BF9\u8C61
*/</span>
<span class="token keyword">public</span> <span class="token keyword">static</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> t <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span> EMPTY<span class="token punctuation">;</span>
   <span class="token keyword">return</span> t<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token doc-comment comment">/**
* \u8FD4\u56DEOptional\u5BF9\u8C61
*/</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">of</span><span class="token punctuation">(</span><span class="token class-name">T</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token doc-comment comment">/**
* \u79C1\u6709\u6784\u9020\u65B9\u6CD5\uFF0C\u7ED9value\u8D4B\u503C
*/</span>
<span class="token keyword">private</span> <span class="token class-name">Optional</span><span class="token punctuation">(</span><span class="token class-name">T</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">requireNonNull</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token doc-comment comment">/**
* \u6240\u4EE5\u5982\u679Cof(T value) \u7684value\u662Fnull\uFF0C\u4F1A\u629B\u51FANullPointerException\u5F02\u5E38\uFF0C\u8FD9\u6837\u8C8C\u4F3C\u5C31\u6CA1\u5904\u7406NPE\u95EE\u9898
*/</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">T</span> <span class="token function">requireNonNull</span><span class="token punctuation">(</span><span class="token class-name">T</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
         <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NullPointerException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>ofNullable</code> \u65B9\u6CD5\u548C<code>of</code>\u65B9\u6CD5\u552F\u4E00\u533A\u522B\u5C31\u662F\u5F53 value \u4E3A null \u65F6\uFF0C<code>ofNullable</code> \u8FD4\u56DE\u7684\u662F<code>EMPTY</code>\uFF0Cof \u4F1A\u629B\u51FA <code>NullPointerException</code> \u5F02\u5E38\u3002\u5982\u679C\u9700\u8981\u628A <code>NullPointerException</code> \u66B4\u6F0F\u51FA\u6765\u5C31\u7528 <code>of</code>\uFF0C\u5426\u5219\u5C31\u7528 <code>ofNullable</code>\u3002</p><h3 id="map-\u76F8\u5173\u65B9\u6CD5\u3002" tabindex="-1"><a class="header-anchor" href="#map-\u76F8\u5173\u65B9\u6CD5\u3002" aria-hidden="true">#</a> <code>map()</code>\u76F8\u5173\u65B9\u6CD5\u3002</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
* \u5982\u679Cvalue\u4E3Anull\uFF0C\u8FD4\u56DEEMPTY\uFF0C\u5426\u5219\u8FD4\u56DEOptional\u5C01\u88C5\u7684\u53C2\u6570\u503C
*/</span>
<span class="token keyword">public</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> <span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> mapper<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">requireNonNull</span><span class="token punctuation">(</span>mapper<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isPresent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token class-name">Optional</span><span class="token punctuation">.</span><span class="token function">ofNullable</span><span class="token punctuation">(</span>mapper<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token doc-comment comment">/**
* \u5982\u679Cvalue\u4E3Anull\uFF0C\u8FD4\u56DEEMPTY\uFF0C\u5426\u5219\u8FD4\u56DEOptional\u5C01\u88C5\u7684\u53C2\u6570\u503C\uFF0C\u5982\u679C\u53C2\u6570\u503C\u8FD4\u56DEnull\u4F1A\u629B NullPointerException
*/</span>
<span class="token keyword">public</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span></span> <span class="token function">flatMap</span><span class="token punctuation">(</span><span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">,</span> <span class="token class-name">Optional</span><span class="token punctuation">&lt;</span><span class="token class-name">U</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> mapper<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">requireNonNull</span><span class="token punctuation">(</span>mapper<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isPresent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">requireNonNull</span><span class="token punctuation">(</span>mapper<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong><code>map()</code> \u548C <code>flatMap()</code> \u6709\u4EC0\u4E48\u533A\u522B\u7684\uFF1F</strong></p><p><strong>1.\u53C2\u6570\u4E0D\u4E00\u6837\uFF0C<code>map</code> \u7684\u53C2\u6570\u4E0A\u9762\u770B\u5230\u8FC7\uFF0C<code>flatMap</code> \u7684\u53C2\u6570\u662F\u8FD9\u6837</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">ZooFlat</span> <span class="token punctuation">{</span>
        <span class="token keyword">private</span> <span class="token class-name">DogFlat</span> dog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DogFlat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token class-name">DogFlat</span> <span class="token function">getDog</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> dog<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">DogFlat</span> <span class="token punctuation">{</span>
        <span class="token keyword">private</span> <span class="token keyword">int</span> age <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">public</span> <span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token class-name">Optional</span><span class="token punctuation">.</span><span class="token function">ofNullable</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token class-name">ZooFlat</span> zooFlat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ZooFlat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Optional</span><span class="token punctuation">.</span><span class="token function">ofNullable</span><span class="token punctuation">(</span>zooFlat<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>o <span class="token operator">-&gt;</span> o<span class="token punctuation">.</span><span class="token function">getDog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span>d <span class="token operator">-&gt;</span> d<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ifPresent</span><span class="token punctuation">(</span>age <span class="token operator">-&gt;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>2.<code>flatMap()</code> \u53C2\u6570\u8FD4\u56DE\u503C\u5982\u679C\u662F null \u4F1A\u629B <code>NullPointerException</code>\uFF0C\u800C <code>map()</code> \u8FD4\u56DE<code>EMPTY</code>\u3002</strong></p><h3 id="\u5224\u65AD-value-\u662F\u5426\u4E3A-null" tabindex="-1"><a class="header-anchor" href="#\u5224\u65AD-value-\u662F\u5426\u4E3A-null" aria-hidden="true">#</a> \u5224\u65AD value \u662F\u5426\u4E3A null</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
* value\u662F\u5426\u4E3Anull
*/</span>
<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isPresent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> value <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token doc-comment comment">/**
* \u5982\u679Cvalue\u4E0D\u4E3Anull\u6267\u884Cconsumer.accept
*/</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">ifPresent</span><span class="token punctuation">(</span><span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> consumer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
    consumer<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u83B7\u53D6-value" tabindex="-1"><a class="header-anchor" href="#\u83B7\u53D6-value" aria-hidden="true">#</a> \u83B7\u53D6 value</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
* Return the value if present, otherwise invoke <span class="token punctuation">{</span><span class="token keyword">@code</span> <span class="token code-section"><span class="token code language-java">other</span></span><span class="token punctuation">}</span> and return
* the result of that invocation.
* \u5982\u679Cvalue != null \u8FD4\u56DEvalue\uFF0C\u5426\u5219\u8FD4\u56DEother\u7684\u6267\u884C\u7ED3\u679C
*/</span>
<span class="token keyword">public</span> <span class="token class-name">T</span> <span class="token function">orElseGet</span><span class="token punctuation">(</span><span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> other<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> value <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">?</span> value <span class="token operator">:</span> other<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
* \u5982\u679Cvalue != null \u8FD4\u56DEvalue\uFF0C\u5426\u5219\u8FD4\u56DET
*/</span>
<span class="token keyword">public</span> <span class="token class-name">T</span> <span class="token function">orElse</span><span class="token punctuation">(</span><span class="token class-name">T</span> other<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> value <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">?</span> value <span class="token operator">:</span> other<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
* \u5982\u679Cvalue != null \u8FD4\u56DEvalue\uFF0C\u5426\u5219\u629B\u51FA\u53C2\u6570\u8FD4\u56DE\u7684\u5F02\u5E38
*/</span>
<span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">X</span> <span class="token keyword">extends</span> <span class="token class-name">Throwable</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">T</span> <span class="token function">orElseThrow</span><span class="token punctuation">(</span><span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">X</span><span class="token punctuation">&gt;</span></span> exceptionSupplier<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">X</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> value<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> exceptionSupplier<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token doc-comment comment">/**
* value\u4E3Anull\u629B\u51FANoSuchElementException\uFF0C\u4E0D\u4E3A\u7A7A\u8FD4\u56DEvalue\u3002
*/</span>
<span class="token keyword">public</span> <span class="token class-name">T</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NoSuchElementException</span><span class="token punctuation">(</span><span class="token string">&quot;No value present&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u8FC7\u6EE4\u503C" tabindex="-1"><a class="header-anchor" href="#\u8FC7\u6EE4\u503C" aria-hidden="true">#</a> \u8FC7\u6EE4\u503C</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token doc-comment comment">/**
* 1. \u5982\u679C\u662Fempty\u8FD4\u56DEempty
* 2. predicate.test(value)==true \u8FD4\u56DEthis\uFF0C\u5426\u5219\u8FD4\u56DEempty
*/</span>
<span class="token keyword">public</span> <span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">filter</span><span class="token punctuation">(</span><span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> predicate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">requireNonNull</span><span class="token punctuation">(</span>predicate<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isPresent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span>
            <span class="token keyword">return</span> predicate<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token keyword">this</span> <span class="token operator">:</span> <span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5C0F\u7ED3-1" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7ED3-1" aria-hidden="true">#</a> \u5C0F\u7ED3</h3><p>\u770B\u5B8C <code>Optional</code> \u6E90\u7801\uFF0C<code>Optional</code> \u7684\u65B9\u6CD5\u771F\u7684\u975E\u5E38\u7B80\u5355\uFF0C\u503C\u5F97\u6CE8\u610F\u7684\u662F\u5982\u679C\u575A\u51B3\u4E0D\u60F3\u770B\u89C1 <code>NPE</code>\uFF0C\u5C31\u4E0D\u8981\u7528 <code>of() </code>\u3001 <code>get()</code> \u3001<code>flatMap(..)</code>\u3002\u6700\u540E\u518D\u7EFC\u5408\u7528\u4E00\u4E0B <code>Optional</code> \u7684\u9AD8\u9891\u65B9\u6CD5\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Optional</span><span class="token punctuation">.</span><span class="token function">ofNullable</span><span class="token punctuation">(</span>zoo<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>o <span class="token operator">-&gt;</span> o<span class="token punctuation">.</span><span class="token function">getDog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>d <span class="token operator">-&gt;</span> d<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>v<span class="token operator">-&gt;</span>v<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">orElse</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="date-time-api" tabindex="-1"><a class="header-anchor" href="#date-time-api" aria-hidden="true">#</a> Date-Time API</h2><p>\u8FD9\u662F\u5BF9<code>java.util.Date</code>\u5F3A\u6709\u529B\u7684\u8865\u5145\uFF0C\u89E3\u51B3\u4E86 Date \u7C7B\u7684\u5927\u90E8\u5206\u75DB\u70B9\uFF1A</p><ol><li>\u975E\u7EBF\u7A0B\u5B89\u5168</li><li>\u65F6\u533A\u5904\u7406\u9EBB\u70E6</li><li>\u5404\u79CD\u683C\u5F0F\u5316\u3001\u548C\u65F6\u95F4\u8BA1\u7B97\u7E41\u7410</li><li>\u8BBE\u8BA1\u6709\u7F3A\u9677\uFF0CDate \u7C7B\u540C\u65F6\u5305\u542B\u65E5\u671F\u548C\u65F6\u95F4\uFF1B\u8FD8\u6709\u4E00\u4E2A java.sql.Date\uFF0C\u5BB9\u6613\u6DF7\u6DC6\u3002</li></ol><p>\u6211\u4EEC\u4ECE\u5E38\u7528\u7684\u65F6\u95F4\u5B9E\u4F8B\u6765\u5BF9\u6BD4 java.util.Date \u548C\u65B0 Date \u6709\u4EC0\u4E48\u533A\u522B\u3002\u7528<code>java.util.Date</code>\u7684\u4EE3\u7801\u8BE5\u6539\u6539\u4E86\u3002</p><h3 id="java-time-\u4E3B\u8981\u7C7B" tabindex="-1"><a class="header-anchor" href="#java-time-\u4E3B\u8981\u7C7B" aria-hidden="true">#</a> java.time \u4E3B\u8981\u7C7B</h3><p><code>java.util.Date</code> \u65E2\u5305\u542B\u65E5\u671F\u53C8\u5305\u542B\u65F6\u95F4\uFF0C\u800C <code>java.time</code> \u628A\u5B83\u4EEC\u8FDB\u884C\u4E86\u5206\u79BB</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token keyword">class</span> <span class="token comment">//\u65E5\u671F+\u65F6\u95F4 format: yyyy-MM-ddTHH:mm:ss.SSS</span>
<span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token keyword">class</span> <span class="token comment">//\u65E5\u671F format: yyyy-MM-dd</span>
<span class="token class-name">LocalTime</span><span class="token punctuation">.</span><span class="token keyword">class</span> <span class="token comment">//\u65F6\u95F4 format: HH:mm:ss</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u683C\u5F0F\u5316" tabindex="-1"><a class="header-anchor" href="#\u683C\u5F0F\u5316" aria-hidden="true">#</a> \u683C\u5F0F\u5316</h3><p><strong>Java 8 \u4E4B\u524D:</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">oldFormat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token class-name">Date</span> now <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//format yyyy-MM-dd HH:mm:ss</span>
    <span class="token class-name">SimpleDateFormat</span> sdf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy-MM-dd&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> date  <span class="token operator">=</span> sdf<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;date format : %s&quot;</span><span class="token punctuation">,</span> date<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//format HH:mm:ss</span>
    <span class="token class-name">SimpleDateFormat</span> sdft <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">&quot;HH:mm:ss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> time <span class="token operator">=</span> sdft<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;time format : %s&quot;</span><span class="token punctuation">,</span> time<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//format yyyy-MM-dd HH:mm:ss</span>
    <span class="token class-name">SimpleDateFormat</span> sdfdt <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> datetime <span class="token operator">=</span> sdfdt<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;dateTime format : %s&quot;</span><span class="token punctuation">,</span> datetime<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Java 8 \u4E4B\u540E:</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">newFormat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//format yyyy-MM-dd</span>
    <span class="token class-name">LocalDate</span> date <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;date format : %s&quot;</span><span class="token punctuation">,</span> date<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//format HH:mm:ss</span>
    <span class="token class-name">LocalTime</span> time <span class="token operator">=</span> <span class="token class-name">LocalTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withNano</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;time format : %s&quot;</span><span class="token punctuation">,</span> time<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//format yyyy-MM-dd HH:mm:ss</span>
    <span class="token class-name">LocalDateTime</span> dateTime <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">DateTimeFormatter</span> dateTimeFormatter <span class="token operator">=</span> <span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span><span class="token function">ofPattern</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> dateTimeStr <span class="token operator">=</span> dateTime<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>dateTimeFormatter<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;dateTime format : %s&quot;</span><span class="token punctuation">,</span> dateTimeStr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5B57\u7B26\u4E32\u8F6C\u65E5\u671F\u683C\u5F0F" tabindex="-1"><a class="header-anchor" href="#\u5B57\u7B26\u4E32\u8F6C\u65E5\u671F\u683C\u5F0F" aria-hidden="true">#</a> \u5B57\u7B26\u4E32\u8F6C\u65E5\u671F\u683C\u5F0F</h3><p><strong>Java 8 \u4E4B\u524D:</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//\u5DF2\u5F03\u7528</span>
<span class="token class-name">Date</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">&quot;2021-01-26&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//\u66FF\u6362\u4E3A</span>
<span class="token class-name">SimpleDateFormat</span> sdf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy-MM-dd&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Date</span> date1 <span class="token operator">=</span> sdf<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;2021-01-26&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Java 8 \u4E4B\u540E:</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">LocalDate</span> date <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2021</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;2021-01-26&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">LocalDateTime</span> dateTime <span class="token operator">=</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2021</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;2021-01-26 12:12:22&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">LocalTime</span> time <span class="token operator">=</span> <span class="token class-name">LocalTime</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">LocalTime</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;12:12:22&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Java 8 \u4E4B\u524D</strong> \u8F6C\u6362\u90FD\u9700\u8981\u501F\u52A9 <code>SimpleDateFormat</code> \u7C7B\uFF0C\u800C<strong>Java 8 \u4E4B\u540E</strong>\u53EA\u9700\u8981 <code>LocalDate</code>\u3001<code>LocalTime</code>\u3001<code>LocalDateTime</code>\u7684 <code>of</code> \u6216 <code>parse</code> \u65B9\u6CD5\u3002</p><h3 id="\u65E5\u671F\u8BA1\u7B97" tabindex="-1"><a class="header-anchor" href="#\u65E5\u671F\u8BA1\u7B97" aria-hidden="true">#</a> \u65E5\u671F\u8BA1\u7B97</h3><p>\u4E0B\u9762\u4EC5\u4EE5<strong>\u4E00\u5468\u540E\u65E5\u671F</strong>\u4E3A\u4F8B\uFF0C\u5176\u4ED6\u5355\u4F4D\uFF08\u5E74\u3001\u6708\u3001\u65E5\u30011/2 \u65E5\u3001\u65F6\u7B49\u7B49\uFF09\u5927\u540C\u5C0F\u5F02\u3002\u53E6\u5916\uFF0C\u8FD9\u4E9B\u5355\u4F4D\u90FD\u5728 <em>java.time.temporal.ChronoUnit</em> \u679A\u4E3E\u4E2D\u5B9A\u4E49\u3002</p><p><strong>Java 8 \u4E4B\u524D:</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     <span class="token comment">//\u4E00\u5468\u540E\u7684\u65E5\u671F</span>
     <span class="token class-name">SimpleDateFormat</span> formatDate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy-MM-dd&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token class-name">Calendar</span> ca <span class="token operator">=</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     ca<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>DATE<span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token class-name">Date</span> d <span class="token operator">=</span> ca<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token class-name">String</span> after <span class="token operator">=</span> formatDate<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u4E00\u5468\u540E\u65E5\u671F\uFF1A&quot;</span> <span class="token operator">+</span> after<span class="token punctuation">)</span><span class="token punctuation">;</span>

   <span class="token comment">//\u7B97\u4E24\u4E2A\u65E5\u671F\u95F4\u9694\u591A\u5C11\u5929\uFF0C\u8BA1\u7B97\u95F4\u9694\u591A\u5C11\u5E74\uFF0C\u591A\u5C11\u6708\u65B9\u6CD5\u7C7B\u4F3C</span>
     <span class="token class-name">String</span> dates1 <span class="token operator">=</span> <span class="token string">&quot;2021-12-23&quot;</span><span class="token punctuation">;</span>
   <span class="token class-name">String</span> dates2 <span class="token operator">=</span> <span class="token string">&quot;2021-02-26&quot;</span><span class="token punctuation">;</span>
     <span class="token class-name">SimpleDateFormat</span> format <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy-MM-dd&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token class-name">Date</span> date1 <span class="token operator">=</span> format<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>dates1<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token class-name">Date</span> date2 <span class="token operator">=</span> format<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>dates2<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token keyword">int</span> day <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>date1<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> date2<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">3600</span> <span class="token operator">*</span> <span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>dates2 <span class="token operator">+</span> <span class="token string">&quot;\u548C&quot;</span> <span class="token operator">+</span> dates2 <span class="token operator">+</span> <span class="token string">&quot;\u76F8\u5DEE&quot;</span> <span class="token operator">+</span> day <span class="token operator">+</span> <span class="token string">&quot;\u5929&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token comment">//\u7ED3\u679C\uFF1A2021-12-23\u548C2021-12-23\u76F8\u5DEE300\u5929</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Java 8 \u4E4B\u540E:</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">pushWeek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     <span class="token comment">//\u4E00\u5468\u540E\u7684\u65E5\u671F</span>
     <span class="token class-name">LocalDate</span> localDate <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token comment">//\u65B9\u6CD51</span>
     <span class="token class-name">LocalDate</span> after <span class="token operator">=</span> localDate<span class="token punctuation">.</span><span class="token function">plus</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token class-name">ChronoUnit</span><span class="token punctuation">.</span>WEEKS<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token comment">//\u65B9\u6CD52</span>
     <span class="token class-name">LocalDate</span> after2 <span class="token operator">=</span> localDate<span class="token punctuation">.</span><span class="token function">plusWeeks</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u4E00\u5468\u540E\u65E5\u671F\uFF1A&quot;</span> <span class="token operator">+</span> after<span class="token punctuation">)</span><span class="token punctuation">;</span>

     <span class="token comment">//\u7B97\u4E24\u4E2A\u65E5\u671F\u95F4\u9694\u591A\u5C11\u5929\uFF0C\u8BA1\u7B97\u95F4\u9694\u591A\u5C11\u5E74\uFF0C\u591A\u5C11\u6708</span>
     <span class="token class-name">LocalDate</span> date1 <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;2021-02-26&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token class-name">LocalDate</span> date2 <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;2021-12-23&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token class-name">Period</span> period <span class="token operator">=</span> <span class="token class-name">Period</span><span class="token punctuation">.</span><span class="token function">between</span><span class="token punctuation">(</span>date1<span class="token punctuation">,</span> date2<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;date1 \u5230 date2 \u76F8\u9694\uFF1A&quot;</span>
                <span class="token operator">+</span> period<span class="token punctuation">.</span><span class="token function">getYears</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\u5E74&quot;</span>
                <span class="token operator">+</span> period<span class="token punctuation">.</span><span class="token function">getMonths</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\u6708&quot;</span>
                <span class="token operator">+</span> period<span class="token punctuation">.</span><span class="token function">getDays</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\u5929&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		 <span class="token comment">//\u6253\u5370\u7ED3\u679C\u662F \u201Cdate1 \u5230 date2 \u76F8\u9694\uFF1A0\u5E749\u670827\u5929\u201D</span>
     <span class="token comment">//\u8FD9\u91CCperiod.getDays()\u5F97\u5230\u7684\u5929\u662F\u629B\u53BB\u5E74\u6708\u4EE5\u5916\u7684\u5929\u6570\uFF0C\u5E76\u4E0D\u662F\u603B\u5929\u6570</span>
     <span class="token comment">//\u5982\u679C\u8981\u83B7\u53D6\u7EAF\u7CB9\u7684\u603B\u5929\u6570\u5E94\u8BE5\u7528\u4E0B\u9762\u7684\u65B9\u6CD5</span>
     <span class="token keyword">long</span> day <span class="token operator">=</span> date2<span class="token punctuation">.</span><span class="token function">toEpochDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> date1<span class="token punctuation">.</span><span class="token function">toEpochDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>date2 <span class="token operator">+</span> <span class="token string">&quot;\u548C&quot;</span> <span class="token operator">+</span> date2 <span class="token operator">+</span> <span class="token string">&quot;\u76F8\u5DEE&quot;</span> <span class="token operator">+</span> day <span class="token operator">+</span> <span class="token string">&quot;\u5929&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token comment">//\u6253\u5370\u7ED3\u679C\uFF1A2021-12-23\u548C2021-12-23\u76F8\u5DEE300\u5929</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u83B7\u53D6\u6307\u5B9A\u65E5\u671F" tabindex="-1"><a class="header-anchor" href="#\u83B7\u53D6\u6307\u5B9A\u65E5\u671F" aria-hidden="true">#</a> \u83B7\u53D6\u6307\u5B9A\u65E5\u671F</h3><p>\u9664\u4E86\u65E5\u671F\u8BA1\u7B97\u7E41\u7410\uFF0C\u83B7\u53D6\u7279\u5B9A\u4E00\u4E2A\u65E5\u671F\u4E5F\u5F88\u9EBB\u70E6\uFF0C\u6BD4\u5982\u83B7\u53D6\u672C\u6708\u6700\u540E\u4E00\u5929\uFF0C\u7B2C\u4E00\u5929\u3002</p><p><strong>Java 8 \u4E4B\u524D:</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token class-name">SimpleDateFormat</span> format <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy-MM-dd&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//\u83B7\u53D6\u5F53\u524D\u6708\u7B2C\u4E00\u5929\uFF1A</span>
        <span class="token class-name">Calendar</span> c <span class="token operator">=</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        c<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>DAY_OF_MONTH<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> first <span class="token operator">=</span> format<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;first day:&quot;</span> <span class="token operator">+</span> first<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//\u83B7\u53D6\u5F53\u524D\u6708\u6700\u540E\u4E00\u5929</span>
        <span class="token class-name">Calendar</span> ca <span class="token operator">=</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ca<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>DAY_OF_MONTH<span class="token punctuation">,</span> ca<span class="token punctuation">.</span><span class="token function">getActualMaximum</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>DAY_OF_MONTH<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> last <span class="token operator">=</span> format<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>ca<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;last day:&quot;</span> <span class="token operator">+</span> last<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//\u5F53\u5E74\u6700\u540E\u4E00\u5929</span>
        <span class="token class-name">Calendar</span> currCal <span class="token operator">=</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Calendar</span> calendar <span class="token operator">=</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        calendar<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        calendar<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>YEAR<span class="token punctuation">,</span> currCal<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>YEAR<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        calendar<span class="token punctuation">.</span><span class="token function">roll</span><span class="token punctuation">(</span><span class="token class-name">Calendar</span><span class="token punctuation">.</span>DAY_OF_YEAR<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Date</span> time <span class="token operator">=</span> calendar<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;last day:&quot;</span> <span class="token operator">+</span> format<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Java 8 \u4E4B\u540E:</strong></p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">getDayNew</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">LocalDate</span> today <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u83B7\u53D6\u5F53\u524D\u6708\u7B2C\u4E00\u5929\uFF1A</span>
    <span class="token class-name">LocalDate</span> firstDayOfThisMonth <span class="token operator">=</span> today<span class="token punctuation">.</span><span class="token keyword">with</span><span class="token punctuation">(</span><span class="token class-name">TemporalAdjusters</span><span class="token punctuation">.</span><span class="token function">firstDayOfMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// \u53D6\u672C\u6708\u6700\u540E\u4E00\u5929</span>
    <span class="token class-name">LocalDate</span> lastDayOfThisMonth <span class="token operator">=</span> today<span class="token punctuation">.</span><span class="token keyword">with</span><span class="token punctuation">(</span><span class="token class-name">TemporalAdjusters</span><span class="token punctuation">.</span><span class="token function">lastDayOfMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u53D6\u4E0B\u4E00\u5929\uFF1A</span>
    <span class="token class-name">LocalDate</span> nextDay <span class="token operator">=</span> lastDayOfThisMonth<span class="token punctuation">.</span><span class="token function">plusDays</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//\u5F53\u5E74\u6700\u540E\u4E00\u5929</span>
    <span class="token class-name">LocalDate</span> lastday <span class="token operator">=</span> today<span class="token punctuation">.</span><span class="token keyword">with</span><span class="token punctuation">(</span><span class="token class-name">TemporalAdjusters</span><span class="token punctuation">.</span><span class="token function">lastDayOfYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//2021\u5E74\u6700\u540E\u4E00\u4E2A\u5468\u65E5\uFF0C\u5982\u679C\u7528Calendar\u662F\u4E0D\u5F97\u70E6\u6B7B\u3002</span>
    <span class="token class-name">LocalDate</span> lastMondayOf2021 <span class="token operator">=</span> <span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&quot;2021-12-31&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">with</span><span class="token punctuation">(</span><span class="token class-name">TemporalAdjusters</span><span class="token punctuation">.</span><span class="token function">lastInMonth</span><span class="token punctuation">(</span><span class="token class-name">DayOfWeek</span><span class="token punctuation">.</span>SUNDAY<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>java.time.temporal.TemporalAdjusters</code> \u91CC\u9762\u8FD8\u6709\u5F88\u591A\u4FBF\u6377\u7684\u7B97\u6CD5\uFF0C\u8FD9\u91CC\u5C31\u4E0D\u5E26\u5927\u5BB6\u770B Api \u4E86\uFF0C\u90FD\u5F88\u7B80\u5355\uFF0C\u770B\u4E86\u79D2\u61C2\u3002</p><h3 id="jdbc-\u548C-java8" tabindex="-1"><a class="header-anchor" href="#jdbc-\u548C-java8" aria-hidden="true">#</a> JDBC \u548C java8</h3><p>\u73B0\u5728 jdbc \u65F6\u95F4\u7C7B\u578B\u548C java8 \u65F6\u95F4\u7C7B\u578B\u5BF9\u5E94\u5173\u7CFB\u662F</p><ol><li><code>Date</code> ---&gt; <code>LocalDate</code></li><li><code>Time</code> ---&gt; <code>LocalTime</code></li><li><code>Timestamp</code> ---&gt; <code>LocalDateTime</code></li></ol><p>\u800C\u4E4B\u524D\u7EDF\u7EDF\u5BF9\u5E94 <code>Date</code>\uFF0C\u4E5F\u53EA\u6709 <code>Date</code>\u3002</p><h3 id="\u65F6\u533A" tabindex="-1"><a class="header-anchor" href="#\u65F6\u533A" aria-hidden="true">#</a> \u65F6\u533A</h3><blockquote><p>\u65F6\u533A\uFF1A\u6B63\u5F0F\u7684\u65F6\u533A\u5212\u5206\u4E3A\u6BCF\u9694\u7ECF\u5EA6 15\xB0 \u5212\u5206\u4E00\u4E2A\u65F6\u533A\uFF0C\u5168\u7403\u5171 24 \u4E2A\u65F6\u533A\uFF0C\u6BCF\u4E2A\u65F6\u533A\u76F8\u5DEE 1 \u5C0F\u65F6\u3002\u4F46\u4E3A\u4E86\u884C\u653F\u4E0A\u7684\u65B9\u4FBF\uFF0C\u5E38\u5C06 1 \u4E2A\u56FD\u5BB6\u6216 1 \u4E2A\u7701\u4EFD\u5212\u5728\u4E00\u8D77\uFF0C\u6BD4\u5982\u6211\u56FD\u5E45\u5458\u5BBD\u5E7F\uFF0C\u5927\u6982\u6A2A\u8DE8 5 \u4E2A\u65F6\u533A\uFF0C\u5B9E\u9645\u4E0A\u53EA\u7528\u4E1C\u516B\u65F6\u533A\u7684\u6807\u51C6\u65F6\u5373\u5317\u4EAC\u65F6\u95F4\u4E3A\u51C6\u3002</p></blockquote><p><code>java.util.Date</code> \u5BF9\u8C61\u5B9E\u8D28\u4E0A\u5B58\u7684\u662F 1970 \u5E74 1 \u6708 1 \u65E5 0 \u70B9\uFF08 GMT\uFF09\u81F3 Date \u5BF9\u8C61\u6240\u8868\u793A\u65F6\u523B\u6240\u7ECF\u8FC7\u7684\u6BEB\u79D2\u6570\u3002\u4E5F\u5C31\u662F\u8BF4\u4E0D\u7BA1\u5728\u54EA\u4E2A\u65F6\u533A new Date\uFF0C\u5B83\u8BB0\u5F55\u7684\u6BEB\u79D2\u6570\u90FD\u4E00\u6837\uFF0C\u548C\u65F6\u533A\u65E0\u5173\u3002\u4F46\u5728\u4F7F\u7528\u4E0A\u5E94\u8BE5\u628A\u5B83\u8F6C\u6362\u6210\u5F53\u5730\u65F6\u95F4\uFF0C\u8FD9\u5C31\u6D89\u53CA\u5230\u4E86\u65F6\u95F4\u7684\u56FD\u9645\u5316\u3002<code>java.util.Date</code> \u672C\u8EAB\u5E76\u4E0D\u652F\u6301\u56FD\u9645\u5316\uFF0C\u9700\u8981\u501F\u52A9 <code>TimeZone</code>\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//\u5317\u4EAC\u65F6\u95F4\uFF1AWed Jan 27 14:05:29 CST 2021</span>
<span class="token class-name">Date</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">SimpleDateFormat</span> bjSdf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//\u5317\u4EAC\u65F6\u533A</span>
bjSdf<span class="token punctuation">.</span><span class="token function">setTimeZone</span><span class="token punctuation">(</span><span class="token class-name">TimeZone</span><span class="token punctuation">.</span><span class="token function">getTimeZone</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Shanghai&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u6BEB\u79D2\u6570:&quot;</span> <span class="token operator">+</span> date<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, \u5317\u4EAC\u65F6\u95F4:&quot;</span> <span class="token operator">+</span> bjSdf<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//\u4E1C\u4EAC\u65F6\u533A</span>
<span class="token class-name">SimpleDateFormat</span> tokyoSdf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
tokyoSdf<span class="token punctuation">.</span><span class="token function">setTimeZone</span><span class="token punctuation">(</span><span class="token class-name">TimeZone</span><span class="token punctuation">.</span><span class="token function">getTimeZone</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Tokyo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// \u8BBE\u7F6E\u4E1C\u4EAC\u65F6\u533A</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u6BEB\u79D2\u6570:&quot;</span> <span class="token operator">+</span> date<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, \u4E1C\u4EAC\u65F6\u95F4:&quot;</span> <span class="token operator">+</span> tokyoSdf<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//\u5982\u679C\u76F4\u63A5print\u4F1A\u81EA\u52A8\u8F6C\u6210\u5F53\u524D\u65F6\u533A\u7684\u65F6\u95F4</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//Wed Jan 27 14:05:29 CST 2021</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728\u65B0\u7279\u6027\u4E2D\u5F15\u5165\u4E86 <code>java.time.ZonedDateTime </code> \u6765\u8868\u793A\u5E26\u65F6\u533A\u7684\u65F6\u95F4\u3002\u5B83\u53EF\u4EE5\u770B\u6210\u662F <code>LocalDateTime + ZoneId</code>\u3002</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//\u5F53\u524D\u65F6\u533A\u65F6\u95F4</span>
<span class="token class-name">ZonedDateTime</span> zonedDateTime <span class="token operator">=</span> <span class="token class-name">ZonedDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u5F53\u524D\u65F6\u533A\u65F6\u95F4: &quot;</span> <span class="token operator">+</span> zonedDateTime<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//\u4E1C\u4EAC\u65F6\u95F4</span>
<span class="token class-name">ZoneId</span> zoneId <span class="token operator">=</span> <span class="token class-name">ZoneId</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token class-name">ZoneId</span><span class="token punctuation">.</span>SHORT_IDS<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;JST&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">ZonedDateTime</span> tokyoTime <span class="token operator">=</span> zonedDateTime<span class="token punctuation">.</span><span class="token function">withZoneSameInstant</span><span class="token punctuation">(</span>zoneId<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u4E1C\u4EAC\u65F6\u95F4: &quot;</span> <span class="token operator">+</span> tokyoTime<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ZonedDateTime \u8F6C LocalDateTime</span>
<span class="token class-name">LocalDateTime</span> localDateTime <span class="token operator">=</span> tokyoTime<span class="token punctuation">.</span><span class="token function">toLocalDateTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u4E1C\u4EAC\u65F6\u95F4\u8F6C\u5F53\u5730\u65F6\u95F4: &quot;</span> <span class="token operator">+</span> localDateTime<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//LocalDateTime \u8F6C ZonedDateTime</span>
<span class="token class-name">ZonedDateTime</span> localZoned <span class="token operator">=</span> localDateTime<span class="token punctuation">.</span><span class="token function">atZone</span><span class="token punctuation">(</span><span class="token class-name">ZoneId</span><span class="token punctuation">.</span><span class="token function">systemDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\u672C\u5730\u65F6\u533A\u65F6\u95F4: &quot;</span> <span class="token operator">+</span> localZoned<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//\u6253\u5370\u7ED3\u679C</span>
\u5F53\u524D\u65F6\u533A\u65F6\u95F4<span class="token operator">:</span> <span class="token number">2021</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">27</span>T14<span class="token operator">:</span><span class="token number">43</span><span class="token operator">:</span><span class="token number">58.735</span><span class="token operator">+</span><span class="token number">08</span><span class="token operator">:</span><span class="token number">00</span><span class="token punctuation">[</span><span class="token class-name">Asia</span><span class="token operator">/</span><span class="token class-name">Shanghai</span><span class="token punctuation">]</span>
\u4E1C\u4EAC\u65F6\u95F4<span class="token operator">:</span> <span class="token number">2021</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">27</span>T15<span class="token operator">:</span><span class="token number">43</span><span class="token operator">:</span><span class="token number">58.735</span><span class="token operator">+</span><span class="token number">09</span><span class="token operator">:</span><span class="token number">00</span><span class="token punctuation">[</span><span class="token class-name">Asia</span><span class="token operator">/</span><span class="token class-name">Tokyo</span><span class="token punctuation">]</span>
\u4E1C\u4EAC\u65F6\u95F4\u8F6C\u5F53\u5730\u65F6\u95F4<span class="token operator">:</span> <span class="token number">2021</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">27</span>T15<span class="token operator">:</span><span class="token number">43</span><span class="token operator">:</span><span class="token number">58.735</span>
\u5F53\u5730\u65F6\u533A\u65F6\u95F4<span class="token operator">:</span> <span class="token number">2021</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">27</span>T15<span class="token operator">:</span><span class="token number">53</span><span class="token operator">:</span><span class="token number">35.618</span><span class="token operator">+</span><span class="token number">08</span><span class="token operator">:</span><span class="token number">00</span><span class="token punctuation">[</span><span class="token class-name">Asia</span><span class="token operator">/</span><span class="token class-name">Shanghai</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5C0F\u7ED3-2" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7ED3-2" aria-hidden="true">#</a> \u5C0F\u7ED3</h3><p>\u901A\u8FC7\u4E0A\u9762\u6BD4\u8F83\u65B0\u8001 <code>Date</code> \u7684\u4E0D\u540C\uFF0C\u5F53\u7136\u53EA\u5217\u51FA\u90E8\u5206\u529F\u80FD\u4E0A\u7684\u533A\u522B\uFF0C\u66F4\u591A\u529F\u80FD\u8FD8\u5F97\u81EA\u5DF1\u53BB\u6316\u6398\u3002\u603B\u4E4B date-time-api \u7ED9\u65E5\u671F\u64CD\u4F5C\u5E26\u6765\u4E86\u798F\u5229\u3002\u5728\u65E5\u5E38\u5DE5\u4F5C\u4E2D\u9047\u5230 date \u7C7B\u578B\u7684\u64CD\u4F5C\uFF0C\u7B2C\u4E00\u8003\u8651\u7684\u662F date-time-api\uFF0C\u5B9E\u5728\u89E3\u51B3\u4E0D\u4E86\u518D\u8003\u8651\u8001\u7684 Date\u3002</p><h2 id="\u603B\u7ED3" tabindex="-1"><a class="header-anchor" href="#\u603B\u7ED3" aria-hidden="true">#</a> \u603B\u7ED3</h2><p>\u6211\u4EEC\u68B3\u7406\u603B\u7ED3\u7684 java 8 \u65B0\u7279\u6027\u6709</p><ul><li>Interface &amp; functional Interface</li><li>Lambda</li><li>Stream</li><li>Optional</li><li>Date time-api</li></ul><p>\u8FD9\u4E9B\u90FD\u662F\u5F00\u53D1\u5F53\u4E2D\u6BD4\u8F83\u5E38\u7528\u7684\u7279\u6027\u3002\u68B3\u7406\u4E0B\u6765\u53D1\u73B0\u5B83\u4EEC\u771F\u9999\uFF0C\u800C\u6211\u5374\u6CA1\u6709\u66F4\u65E9\u7684\u5E94\u7528\u3002\u603B\u89C9\u5F97\u5B66\u4E60 java 8 \u65B0\u7279\u6027\u6BD4\u8F83\u9EBB\u70E6\uFF0C\u4E00\u76F4\u4F7F\u7528\u8001\u7684\u5B9E\u73B0\u65B9\u5F0F\u3002\u5176\u5B9E\u8FD9\u4E9B\u65B0\u7279\u6027\u51E0\u5929\u5C31\u53EF\u4EE5\u638C\u63E1\uFF0C\u4E00\u4F46\u638C\u63E1\uFF0C\u6548\u7387\u4F1A\u6709\u5F88\u5927\u7684\u63D0\u9AD8\u3002\u5176\u5B9E\u6211\u4EEC\u6DA8\u5DE5\u8D44\u4E5F\u662F\u6DA8\u7684\u5B66\u4E60\u7684\u94B1\uFF0C\u4E0D\u5B66\u4E60\u7EC8\u7A76\u4F1A\u88AB\u6DD8\u6C70\uFF0C35 \u5C81\u5371\u673A\u4F1A\u63D0\u524D\u6765\u4E34\u3002</p>`,76);function L(I,N){const a=l("ExternalLinkIcon");return o(),c("div",null,[u,n("blockquote",null,[n("p",null,[k,n("a",r,[d,t(a)]),m])]),v,n("p",null,[b,g,f,n("a",y,[h,t(a)]),w]),q,n("p",null,[S,n("a",j,[T,t(a)]),D]),x])}var E=e(i,[["render",L],["__file","java8-common-new-features.html.vue"]]);export{E as default};
