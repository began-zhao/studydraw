import{_ as l}from"./plugin-vue_export-helper.21dcd24c.js";import{o as i,c as o,b as n,a as t,e as a,d as s,r as d}from"./app.3f5e5dc0.js";var p="/assets/Untitled.a0f3ec3c.png",c="/assets/Untitled1.7a404176.png",r="/assets/Untitled2.785e4910.png",u="/assets/Untitled3.0bc00e92.png",v="/assets/Untitled4.b159d5b9.png",m="/assets/Untitled5.efbb05ec.png",g="/assets/Untitled6.3ba1fbe3.png",h="/assets/Untitled7.a0d99efc.png",b="/assets/Untitled8.3f0e3041.png",k="/assets/Untitled9.b1b069ac.png",x="/assets/Untitled10.ce49d986.png",y="/assets/Untitled11.10220604.png",f="/assets/Untitled12.29d6ab71.png",_="/assets/Untitled13.d73653d1.png",A="/assets/Untitled14.d8f46365.png",H="data:image/png;base64,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",q="/assets/Untitled16.2b826dec.png",N="/assets/Untitled17.4727eb18.png",w="/assets/Untitled18.aa388767.png",D="/assets/Untitled19.3c3669f6.png",U="/assets/Untitled20.03ed3c69.png",j="/assets/Untitled21.d04f7e1f.png",O="/assets/Untitled22.183782e8.png",R="/assets/Untitled23.b931ca1c.png",P="/assets/Untitled24.0979c6fe.png",M="/assets/Untitled25.84596e1f.png",L="/assets/Untitled26.5d5bd49d.png";const S={},z=a(`<h2 id="hadoop\u8FD0\u884C\u73AF\u5883\u642D\u5EFA-\u5F00\u53D1\u91CD\u70B9" tabindex="-1"><a class="header-anchor" href="#hadoop\u8FD0\u884C\u73AF\u5883\u642D\u5EFA-\u5F00\u53D1\u91CD\u70B9" aria-hidden="true">#</a> Hadoop\u8FD0\u884C\u73AF\u5883\u642D\u5EFA\uFF08\u5F00\u53D1\u91CD\u70B9\uFF09</h2><h2 id="_1-1-\u6A21\u677F\u865A\u62DF\u673A\u73AF\u5883\u51C6\u5907" tabindex="-1"><a class="header-anchor" href="#_1-1-\u6A21\u677F\u865A\u62DF\u673A\u73AF\u5883\u51C6\u5907" aria-hidden="true">#</a> 1.1 \u6A21\u677F\u865A\u62DF\u673A\u73AF\u5883\u51C6\u5907</h2><p>\u5B89\u88C5\u865A\u62DF\u673A\uFF0C\u53EF\u53C2\u8003k8s\u4E2D\u7684\u4ECB\u7ECD\u6587\u7AE0</p><blockquote><p>\u865A\u62DF\u673A\u5904\u7406\u5668\u914D\u7F6E\uFF1A\u6240\u6709\u865A\u62DF\u673A\u5904\u7406\u5668\u5185\u6838\u6570&lt;\u5F53\u524D\u865A\u62DF\u673Acpu\u6570\u91CF</p></blockquote><p>\u521B\u5EFA\u65B0\u7684\u78C1\u76D8\uFF1A\u78C1\u76D8\u5927\u5C0F\u63A8\u8350\u4E3A50G</p><p><strong>1\uFF09\u3001\u5B89\u88C5epel-release</strong></p><p>\u6CE8\uFF1AExtra Packages for EnterpriseLinux \u662F\u4E3A \u201C\u7EA2\u5E3D\u7CFB\u201D\u7684\u64CD\u4F5C\u7CFB\u7EDF\u63D0\u4F9B\u989D\u5916\u7684\u8F6F\u4EF6\u5305\uFF0C\u9002\u7528\u4E8ERHEL\u3001CentOS\u548CScientific Linux \u3002\u76F8\u5F53\u4E8E\u662F\u4E00\u4E2A\u8F6F\u4EF6\u4ED3\u5E93\uFF0C\u5927\u591A\u6570rpm\u5305\u5728\u5B98\u65B9\u7684 repository \u4E2D\u662F\u627E\u4E0D\u5230\u7684</p><p><code>yum install -y epel-release</code></p><blockquote><p>\u6CE8\u610F\uFF1A\u5982\u679C Linux \u5B89\u88C5\u7684\u662F\u6700\u5C0F\u7CFB\u7EDF\u7248\uFF0C\u8FD8\u9700\u8981\u5B89\u88C5\u5982\u4E0B\u5DE5\u5177\uFF1B\u5982\u679C\u5B89\u88C5\u7684\u662FLinux \u684C\u9762\u6807\u51C6\u7248\uFF0C\u4E0D\u9700\u8981\u6267\u884C\u5982\u4E0B\u64CD\u4F5C</p></blockquote><ul class="task-list-container"><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-0" disabled="disabled"><label class="task-list-item-label" for="task-item-0"> net-tool:\u5DE5\u5177\u5305\u96C6\u5408\uFF0C\u5305\u542Bifconfig\u7B49\u547D\u4EE4<code>yum install -y net-tools</code></label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-1" disabled="disabled"><label class="task-list-item-label" for="task-item-1"> vim\uFF1A\u7F16\u8F91\u5668<code>yum install -y vim</code></label></li></ul><p><strong>2\uFF09\u3001\u5173\u95ED\u9632\u706B\u6A2F\uFF0C\u5173\u95ED\u9632\u706B\u5899\u5F00\u542F\u81EA\u542F</strong></p><p><code>systemctl stop firewalld</code></p><p><code>systemctl disable firewalld.service</code></p><blockquote><p>\u6CE8\u610F\uFF1A\u5728\u4F01\u4E1A\u5F00\u53D1\u4E2D\uFF0C\u901A\u5E38\u5355\u4E2A\u670D\u52A1\u5668\u7684\u9632\u706B\u5899\u662F\u5173\u95ED\u7684\u3002\u516C\u53F8\u6574\u4F53\u4F1A\u5BF9\u5916\u8BBE\u7F6E\u975E\u5E38\u5B89\u5168\u7684\u9632\u706B\u5899</p></blockquote><p><strong>3\uFF09\u3001\u521B\u5EFA\u7528\u6237\uFF0C\u5E76\u4FEE\u6539\u7528\u6237\u5BC6\u7801:begin123</strong></p><p><code>useradd begin</code></p><p><code>passwd begin</code></p><p><strong>4\uFF09\u3001\u914D\u7F6Ebegin\u7528\u6237\u5177\u6709root\u6743\u9650\u3002\u65B9\u4FBF\u540E\u671Fsudo\u6267\u884Croot\u6743\u9650\u7684\u547D\u4EE4</strong></p><p>vim /etc/sudoers</p><p>\u4FEE\u6539/etc/sudoers \u6587\u4EF6\uFF0C\u5728%wheel \u8FD9\u884C\u4E0B\u9762\u6DFB\u52A0\u4E00\u884C\uFF0C\u5982\u4E0B\u6240\u793A\uFF1A</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>## <span class="token class-name">Allow</span> root <span class="token keyword">to</span> <span class="token namespace">run</span> any commands amywhere
root    ALL<span class="token operator">=</span><span class="token punctuation">(</span>ALL<span class="token punctuation">)</span>     ALL
## <span class="token class-name">Allow</span> people in group wheel <span class="token keyword">to</span> <span class="token namespace">run</span> all commands
<span class="token operator">%</span>wheel ALL<span class="token operator">=</span><span class="token punctuation">(</span>ALL<span class="token punctuation">)</span>    ALL
begin  ALL<span class="token operator">=</span><span class="token punctuation">(</span>ALL<span class="token punctuation">)</span>  NOPASSWD<span class="token operator">:</span>ALL        <span class="token operator">&lt;</span><span class="token operator">--</span><span class="token operator">--</span>\u6B64\u884C
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6CE8\u610F\uFF1Abegin\u8FD9\u4E00\u884C\u4E0D\u8981\u76F4\u63A5\u653E\u5230root \u884C\u4E0B\u9762\uFF0C\u56E0\u4E3A\u6240\u6709\u7684\u7528\u6237\u90FD\u5C5E\u4E8Ewheel\u7EC4\uFF0C\u4F60\u5148\u914D\u7F6E\u4E86begin \u5177\u6709\u514D\u5BC6\u529F\u80FD\uFF0C\u4F46\u662F\u7A0B\u5E8F\u6267\u884C\u5230 %wheel \u884C\u662F\uFF0C\u8BE5\u529F\u80FD\u53C8\u88AB\u8986\u76D6\u56DE\u9700\u8981\u5BC6\u7801\u3002\u6240\u4EE5\u8FD9\u91CC\u8981\u653E\u5230 %wheel \u8FD9\u884C\u4E0B\u9762\u3002</p><p><strong>5\uFF09\u3001\u5728/opt\u76EE\u5F55\u4E0B\u521B\u5EFA\u6587\u4EF6\u5939\uFF0C\u5E76\u4FEE\u6539\u6240\u5C5E\u4E3B\u548C\u6240\u5C5E\u7EC4</strong></p><p><img src="`+p+'" alt="Untitled" loading="lazy"></p><p><strong>6\uFF09\u3001\u5378\u8F7D\u865A\u62DF\u673A\u81EA\u5E26\u7684JDK</strong></p><p>\u6700\u5C0F\u5316\u5B89\u88C5\u5FFD\u7565\u6B64\u6B65</p><h3 id="\u514B\u9686\u865A\u62DF\u673A" tabindex="-1"><a class="header-anchor" href="#\u514B\u9686\u865A\u62DF\u673A" aria-hidden="true">#</a> \u514B\u9686\u865A\u62DF\u673A</h3><p><img src="'+c+`" alt="Untitled" loading="lazy"></p><ul><li>\u9009\u62E9\u5B8C\u6574\u514B\u9686</li><li>\u914D\u7F6E\u9759\u6001IP\u5730\u5740<code>cd /etc/sysconfig/network-scripts</code></li></ul><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>TYPE<span class="token operator">=</span><span class="token string">&quot;Ethernet&quot;</span>
PROXY_METHOD<span class="token operator">=</span><span class="token string">&quot;none&quot;</span>
BROWSER_ONLY<span class="token operator">=</span><span class="token string">&quot;no&quot;</span>
BOOTPROTO<span class="token operator">=</span><span class="token string">&quot;static&quot;</span>
DEFROUTE<span class="token operator">=</span><span class="token string">&quot;yes&quot;</span>
IPV4_FAILURE_FATAL<span class="token operator">=</span><span class="token string">&quot;no&quot;</span>
IPV6INIT<span class="token operator">=</span><span class="token string">&quot;yes&quot;</span>
IPV6_AUTOCONF<span class="token operator">=</span><span class="token string">&quot;yes&quot;</span>
IPV6_DEFROUTE<span class="token operator">=</span><span class="token string">&quot;yes&quot;</span>
IPV6_FAILURE_FATAL<span class="token operator">=</span><span class="token string">&quot;no&quot;</span>
IPV6_ADDR_GEN_MODE<span class="token operator">=</span><span class="token string">&quot;stable-privacy&quot;</span>
NAME<span class="token operator">=</span><span class="token string">&quot;ens33&quot;</span>
UUID<span class="token operator">=</span><span class="token string">&quot;2ffdc083-6d7c-441d-a5f6-313c80b9dd74&quot;</span>
DEVICE<span class="token operator">=</span><span class="token string">&quot;ens33&quot;</span>
ONBOOT<span class="token operator">=</span><span class="token string">&quot;yes&quot;</span>
IPADDR<span class="token operator">=</span><span class="token number">192.168</span><span class="token number">.158</span><span class="token number">.130</span>
NETMASK<span class="token operator">=</span><span class="token number">255.255</span><span class="token number">.255</span><span class="token number">.0</span>
GATEWAY<span class="token operator">=</span><span class="token number">192.168</span><span class="token number">.158</span><span class="token number">.2</span>
DNS<span class="token operator">=</span><span class="token number">8.8</span><span class="token number">.8</span><span class="token number">.8</span>
ZONE<span class="token operator">=</span><span class="token keyword">public</span>
NM_CONTROLLED<span class="token operator">=</span>no
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\u8BBE\u7F6E\u8DEF\u7531</li></ul><ol><li><strong>route -n --\u68C0\u67E5\u8DEF\u7531</strong></li><li><strong>vim /etc/resolv.conf --\u6DFB\u52A0DNS</strong></li></ol><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">Generated</span> by <span class="token class-name">NetworkManager</span>

search localdomain
nameserver <span class="token number">114.114</span><span class="token number">.114</span><span class="token number">.114</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3\u3001<strong>\u6DFB\u52A0\u6C38\u4E45\u9759\u6001\u8DEF\u7531</strong></p><p><code>vi /etc/sysconfig/network-scripts/route-ens33</code>\uFF08\u6CA1\u6709\u8BE5\u6587\u4EF6\u5C31\u65B0\u5EFA\u4E00\u4E2A\uFF09</p><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code><span class="token number">192.168</span><span class="token number">.158</span><span class="token number">.0</span><span class="token operator">/</span><span class="token number">24</span> via <span class="token number">192.168</span><span class="token number">.158</span><span class="token number">.2</span>
<span class="token number">0.0</span><span class="token number">.0</span><span class="token number">.0</span><span class="token operator">/</span><span class="token number">0</span> via <span class="token number">192.168</span><span class="token number">.158</span><span class="token number">.2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>4\u3001\u91CD\u542F\u7F51\u5361\uFF0C\u5B8C\u6210</p><p><strong><code>service network restart</code> --\u91CD\u542F\u7F51\u5361\uFF0C\u4F7F\u4E4B\u751F\u6548</strong></p><h3 id="\u5B89\u88C5jdk-hadoop" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5jdk-hadoop" aria-hidden="true">#</a> \u5B89\u88C5JDK&amp;Hadoop</h3><h3 id="\u5B89\u88C5jdk" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5jdk" aria-hidden="true">#</a> \u5B89\u88C5JDK</h3><ol><li>\u8FDB\u5165\u6307\u5B9A\u76EE\u5F55\uFF0C\u6CA1\u6709\u65B0\u5EFA\u4E00\u4E2A <code>cd /opt/software</code></li></ol><p><img src="`+r+'" alt="Untitled" loading="lazy"></p><ol><li>\u89E3\u538B\u5230\u6307\u5B9A\u76EE\u5F55 <code>tar -zxvf jdk-\u2026..jar -C /opt/module/</code></li></ol><p><img src="'+u+'" alt="Untitled" loading="lazy"></p><p><img src="'+v+'" alt="Untitled" loading="lazy"></p><ol><li>\u914D\u7F6Ejava\u73AF\u5883\u53D8\u91CF</li></ol><p>\u521B\u5EFA\u6587\u4EF6 <code>sudo vim my_env.sh</code> \u6CE8\u610F\u8DEF\u5F84</p><p><img src="'+m+'" alt="Untitled" loading="lazy"></p><p>\u6DFB\u52A0\u5185\u5BB9\u5982\u4E0B\uFF0CJAVA_HOME\u4E3Ajdk\u5B89\u88C5\u5305\u8DEF\u5F84\uFF1A</p><p><img src="'+g+'" alt="Untitled" loading="lazy"></p><p>\u6DFB\u52A0\u5B8C\u6210\u540E\u5237\u65B0\u914D\u7F6E\uFF0C\u5B8C\u6210 <code>source /etc/profile</code></p><p><img src="'+h+'" alt="Untitled" loading="lazy"></p><h3 id="\u5B89\u88C5hadoop" tabindex="-1"><a class="header-anchor" href="#\u5B89\u88C5hadoop" aria-hidden="true">#</a> \u5B89\u88C5Hadoop</h3><ol><li>\u540C\u6837\u89E3\u538B\u5230\u6307\u5B9A\u76EE\u5F55<code>tar -zxvf hadoop-3.1.3.tar.gz -C /opt/module</code></li></ol><p><img src="'+b+'" alt="Untitled" loading="lazy"></p><ol><li>\u914D\u7F6E\u73AF\u5883\u53D8\u91CF</li></ol><p><img src="'+k+'" alt="Untitled" loading="lazy"></p><ol><li>\u5237\u65B0\u914D\u7F6E\uFF0C\u5B8C\u6210<code>source /etc/profile</code></li></ol><h3 id="\u4E86\u89E3\u76EE\u5F55\u57FA\u672C\u4FE1\u606F" tabindex="-1"><a class="header-anchor" href="#\u4E86\u89E3\u76EE\u5F55\u57FA\u672C\u4FE1\u606F" aria-hidden="true">#</a> \u4E86\u89E3\u76EE\u5F55\u57FA\u672C\u4FE1\u606F</h3><p><img src="'+x+'" alt="Untitled" loading="lazy"></p><p><img src="'+y+`" alt="Untitled" loading="lazy"></p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>
bin\u548Cetc\u76EE\u5F55\u4E0B\u5E38\u7528\u5230\u7684\uFF1A
hdfs:\u5B58\u50A8\u76F8\u5173\u547D\u4EE4
mapred:\u8BA1\u7B97\u76F8\u5173\u547D\u4EE4
yarn:\u8D44\u6E90\u8C03\u5EA6\u76F8\u5173\u547D\u4EE4
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="hadoop\u8FD0\u884C\u6A21\u5F0F" tabindex="-1"><a class="header-anchor" href="#hadoop\u8FD0\u884C\u6A21\u5F0F" aria-hidden="true">#</a> Hadoop\u8FD0\u884C\u6A21\u5F0F</h2><h3 id="_1\u3001\u672C\u5730\u8FD0\u884C\u6A21\u5F0F" tabindex="-1"><a class="header-anchor" href="#_1\u3001\u672C\u5730\u8FD0\u884C\u6A21\u5F0F" aria-hidden="true">#</a> 1\u3001\u672C\u5730\u8FD0\u884C\u6A21\u5F0F</h3>`,64),E=s("\u53C2\u8003\u5B98\u65B9\u6587\u6863\uFF1A"),$={href:"https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/SingleCluster.html#Standalone_Operation",target:"_blank",rel:"noopener noreferrer"},I=s("Apache Hadoop 3.3.4 \u2013 Hadoop: Setting up a Single Node Cluster."),B=a(`<h3 id="_2\u3001\u4F2A\u5206\u5E03\u5F0F\u8FD0\u884C\u6A21\u5F0F-\u7565" tabindex="-1"><a class="header-anchor" href="#_2\u3001\u4F2A\u5206\u5E03\u5F0F\u8FD0\u884C\u6A21\u5F0F-\u7565" aria-hidden="true">#</a> 2\u3001\u4F2A\u5206\u5E03\u5F0F\u8FD0\u884C\u6A21\u5F0F\uFF0C\u7565</h3><h3 id="_3\u3001\u5B8C\u5168\u5206\u5E03\u5F0F\u8FD0\u884C\u6A21\u5F0F" tabindex="-1"><a class="header-anchor" href="#_3\u3001\u5B8C\u5168\u5206\u5E03\u5F0F\u8FD0\u884C\u6A21\u5F0F" aria-hidden="true">#</a> 3\u3001\u5B8C\u5168\u5206\u5E03\u5F0F\u8FD0\u884C\u6A21\u5F0F</h3><p>\u5206\u6790\uFF1A</p><ol><li>\u51C6\u59073\u53F0\u5BA2\u6237\u673A\uFF08\u5173\u95ED\u9632\u706B\u5899\u3001\u9759\u6001IP\u3001\u4E3B\u673A\u540D\u79F0\uFF09</li><li>\u5B89\u88C5JDK</li><li>\u914D\u7F6E\u73AF\u5883\u53D8\u91CF</li><li>\u5B89\u88C5Hadoop</li><li>\u914D\u7F6E\u73AF\u5883\u53D8\u91CF</li><li>\u914D\u7F6E\u96C6\u7FA4</li><li>\u5355\u70B9\u542F\u52A8</li><li>\u914D\u7F6Essh</li><li>\u7FA4\u8D77\u5E76\u6D4B\u8BD5\u96C6\u7FA4</li></ol><h3 id="_3-1-\u865A\u62DF\u673A\u51C6\u5907-\u53C2\u8003\u4E0A\u6587" tabindex="-1"><a class="header-anchor" href="#_3-1-\u865A\u62DF\u673A\u51C6\u5907-\u53C2\u8003\u4E0A\u6587" aria-hidden="true">#</a> <strong>3.1 \u865A\u62DF\u673A\u51C6\u5907\uFF0C\u53C2\u8003\u4E0A\u6587</strong></h3><h3 id="_3-2-\u7F16\u5199\u96C6\u7FA4\u5206\u53D1\u811A\u672Cxsync" tabindex="-1"><a class="header-anchor" href="#_3-2-\u7F16\u5199\u96C6\u7FA4\u5206\u53D1\u811A\u672Cxsync" aria-hidden="true">#</a> <strong>3.2 \u7F16\u5199\u96C6\u7FA4\u5206\u53D1\u811A\u672Cxsync</strong></h3><ul><li><p><strong>scp\uFF08secure copy\uFF09\u5B89\u5168\u62F7\u8D1D</strong></p><ol><li><p>scp \u5B9A\u4E49\uFF1Ascp \u53EF\u4EE5\u5B9E\u73B0\u670D\u52A1\u5668\u4E0E\u670D\u52A1\u5668\u4E4B\u95F4\u7684\u6570\u636E\u62F7\u8D1D\u3002\uFF08from server1 to server2\uFF09</p></li><li><p>\u57FA\u672C\u8BED\u6CD5</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>scp   -r    $pdir/$fname          $user@$host:$pdir/$fname 
\u547D\u4EE4  \u9012\u5F52  \u8981\u62F7\u8D1D\u7684\u6587\u4EF6\u8DEF\u5F84/\u540D\u79F0  \u76EE\u7684\u5730\u7528\u6237@\u4E3B\u673A\uFF1A\u76EE\u7684\u5730\u8DEF\u5F84/\u540D\u79F0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>\u6848\u4F8B\u5B9E\u64CD</p><p>\u524D\u63D0\uFF1A\u5728 hadoop102\u3001hadoop103\u3001hadoop104\u90FD\u5DF2\u7ECF\u521B\u5EFA\u597D\u7684/opt/module\u3001/opt/software \u4E24\u4E2A\u76EE\u5F55\uFF0C\u5E76\u4E14\u5DF2\u7ECF\u628A\u8FD9\u4E24\u4E2A\u76EE\u5F55\u4FEE\u6539\u4E3A begin:begin</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>sudo chown begin:begin -R /opt/module
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol><li>\u5728 hadoop102 \u4E0A\uFF0C\u5C06hadoop102\u4E2D/opt/module/jdk1.8.0_212 \u76EE\u5F55\u62F7\u8D1D\u5230hadoop103\u4E0A</li></ol><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>scp -r /opt/module/jdk1.8.0_212 begin@hadoop103:/opt/module
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>b. \u5728 hadoop103 \u4E0A\uFF0C\u5C06hadoop102\u4E2D/opt/module/hadoop-3.1.3\u76EE\u5F55\u62F7\u8D1D\u5230hadoop103\u4E0A</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>scp -r begin@hadoop102:/opt/module/hadoop3.1.3 /opt/module/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol></li><li><p><strong>rsync \u8FDC\u7A0B\u540C\u6B65\u5DE5\u5177</strong></p><p>rsync \u4E3B\u8981\u7528\u4E8E\u5907\u4EFD\u955C\u50CF\u3002\u5177\u6709\u901F\u5EA6\u5FEB\u3001\u907F\u514D\u590D\u5236\u76F8\u540C\u5185\u5BB9\u548C\u652F\u6301\u7B26\u53F7\u94FE\u63A5\u7684\u4F18\u70B9\u3002rsync \u548C scp \u533A\u522B\uFF1A\u7528 rsync \u505A\u6587\u4EF6\u7684\u590D\u5236\u8981\u6BD4 scp \u7684\u901F\u5EA6\u5FEB\uFF0Crsync \u53EA\u5BF9\u5DEE\u5F02\u6587\u4EF6\u66F4\u65B0\u3002scp \u662F\u628A\u6240\u6709\u6587\u4EF6\u90FD\u590D\u5236\u8FC7\u53BB\u3002</p><ol><li>\u57FA\u672C\u8BED\u6CD5</li></ol><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>rsync  -av      $pdir/$fname           $user@$host:$pdir/fname
\u547D\u4EE4   \u9009\u9879\u53C2\u6570  \u8981\u62F7\u8D1D\u7684\u6587\u4EF6\u8DEF\u5F84/\u540D\u79F0  \u76EE\u7684\u5730\u7528\u6237@\u4E3B\u673A\uFF1A\u76EE\u7684\u5730\u8DEF\u5F84/\u540D\u79F0

--------
\u9009\u9879\u53C2\u6570\u8BF4\u660E\uFF1A
-a  :\u5F52\u6863\u62F7\u8D1D
-v  :\u663E\u793A\u590D\u5236\u8FC7\u7A0B
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li>\u6848\u4F8B\u5B9E\u64CD</li></ol><p>a. \u5220\u9664 hadoop103 \u4E2D/opt/module/hadoop-3.1.3/wcinput</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>rm -rf wcinput
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>b. \u540C\u6B65 hadoop102 \u4E2D\u7684 /opt/module/hadoop-3.1.3 \u5230 hadoop103</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>rsync  -av  hadoop-3.1.3/ begin@hadoop103:/opt/module/hadoop-3.1.3
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p><strong>xsync\u96C6\u7FA4\u5206\u53D1\u811A\u672C</strong></p></li></ul><ol><li><p>\u9700\u6C42\uFF1A\u5FAA\u73AF\u590D\u5236\u6587\u4EF6\u5230\u6240\u6709\u8282\u70B9\u7684\u76F8\u540C\u76EE\u5F55\u4E0B</p></li><li><p>\u9700\u6C42\u5206\u6790\uFF1A</p><ol><li>rsync\u547D\u4EE4\u539F\u59CB\u62F7\u8D1D</li></ol><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>rsync -av  /opt/module   begin@hadoop104:/opt/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>b. \u671F\u671B\u811A\u672C\uFF1A</p><p>xsync\u8981\u540C\u6B65\u7684\u6587\u4EF6\u540D\u79F0</p><p>c. \u671F\u671B\u811A\u672C\u5728\u4EFB\u4F55\u8DEF\u5F84\u90FD\u80FD\u4F7F\u7528\uFF08\u811A\u672C\u653E\u5728\u58F0\u660E\u4E86\u5168\u5C40\u73AF\u5883\u53D8\u91CF\u7684\u8DEF\u5F84\uFF09</p><p><img src="`+f+'" alt="Untitled" loading="lazy"></p></li></ol><h3 id="_3-3-ssh\u65E0\u5BC6\u767B\u5F55\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_3-3-ssh\u65E0\u5BC6\u767B\u5F55\u914D\u7F6E" aria-hidden="true">#</a> <strong>3.3 SSH\u65E0\u5BC6\u767B\u5F55\u914D\u7F6E</strong></h3><ol><li><p>\u811A\u672C\u5B9E\u73B0</p><ol><li>\u5728 /home/begin/bin \u76EE\u5F55\u4E0B\u521B\u5EFAxsync\u6587\u4EF6</li></ol><p><img src="'+_+`" alt="Untitled" loading="lazy"></p><p>\u5728\u8BE5\u6587\u4EF6\u4E2D\u7F16\u5199\u5982\u4E0B\u4EE3\u7801</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>
#!/bin/bash

#1.\u5224\u65AD\u53C2\u6570\u683C\u5F0F
if [ $# -lt 1 ]
then
		echo Not Enough Arguement!
		exit;
fi
#2.\u904D\u5386\u96C6\u7FA4\u6240\u6709\u673A\u5668
for host in hadop102 hadoop103 hadoop104
do
	echo ------------------ $host ---------------------------
	#3.\u904D\u5386\u6240\u6709\u76EE\u5F55\uFF0C\u6328\u4E2A\u53D1\u9001
	
	for file in $@
	do
		#4.\u5224\u65AD\u6587\u4EF6\u662F\u5426\u5B58\u5728
		if [ -e $file ]
				then
						#5.\u83B7\u53D6\u7236\u76EE\u5F55
						pdir=$(cd -P $(dirname $file); pwd)
						
						#6.\u83B7\u53D6\u5F53\u524D\u6587\u4EF6\u7684\u540D\u79F0
						fname=$(basename $file)
						ssh $host &quot;mkdir -p $pdir&quot;
						rsync -av $pdir/$fname $host:$pdir
				else
						echo $file does not exists!
		fi
	done
done				 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>b. \u4FEE\u6539\u811A\u672C xsync \u5177\u6709\u6267\u884C\u6743\u9650</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>chmod +x xsync
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>c. \u6D4B\u8BD5\u811A\u672C</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>xsync /opt/software
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>d. \u5C06\u811A\u672C\u590D\u5236\u5230/bin\u4E2D\uFF0C\u4EE5\u4FBF\u5168\u5C40\u8C03\u7528</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>sudo cp xsync /bin/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>e. \u540C\u6B65\u73AF\u5883\u53D8\u91CF\u914D\u7F6E(root \u6240\u6709\u8005),<code>\u6CE8\u610F\u76EE\u5F55</code></p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>[begin@hadoop102 ~] sudo ./bin/xsync /etc/profile.d/my_env.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>\u6CE8\u610F\uFF1A\u5982\u679C\u4F7F\u7528\u4E86 sudo \uFF0C\u90A3\u4E48 xsync \u4E00\u5B9A\u8981\u7ED9\u5B83\u7684\u8DEF\u5F84\u8865\u5168</p></blockquote><p>\u8BA9\u73AF\u5883\u53D8\u91CF\u751F\u6548 <code>source /etc/profile</code></p><ol><li><p>\u914D\u7F6E ssh</p><ul><li><p>\u57FA\u672C\u8BED\u6CD5</p><p>ssh\u53E6\u4E00\u53F0\u7535\u8111\u7684IP\u5730\u5740</p></li><li><p>ssh \u94FE\u63A5\u662F\u51FA\u73B0Host Key verification failed \u7684\u89E3\u51B3\u65B9\u6CD5</p></li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code> ssh hadoop103
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u5982\u679C\u51FA\u73B0\u5982\u4E0B\u5185\u5BB9</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>Are you sure you want to continue connecting (yes/no)?
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u8F93\u5165 yes ,\u5E76\u56DE\u8F66</p><ul><li>\u9000\u56DE\u5230 hadoop102</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>[begin@hadoop103 ~]$ exit
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>\u65E0\u79D8\u94A5\u914D\u7F6E</p><ul><li>\u514D\u5BC6\u767B\u5F55\u539F\u7406</li></ul><p><img src="`+A+'" alt="Untitled" loading="lazy"></p><ol><li>\u751F\u6210 rsa \u516C\u94A5\u79C1\u94A5\uFF0C\u6CE8\u610F\u6587\u4EF6\u76EE\u5F55\uFF0C\u4E09\u6B21\u56DE\u8F66\u76F4\u63A5\u786E\u5B9A\u5C31\u597D</li></ol><p><img src="'+H+'" alt="Untitled" loading="lazy"></p><p><img src="'+q+'" alt="Untitled" loading="lazy"></p><ol><li>\u516C\u94A5\u62F7\u8D1D\u81F3\u5176\u4ED6\u670D\u52A1\u5668\uFF0C\u7B2C\u4E00\u6B21\u9700\u8981\u5BC6\u7801</li></ol><p><img src="'+N+'" alt="Untitled" loading="lazy"></p><ol><li>\u5B8C\u6210\u540E\u53EF\u76F4\u63A5\u94FE\u63A5</li></ol><p><img src="'+w+'" alt="Untitled" loading="lazy"></p><ol><li>\u514D\u5BC6\u767B\u5F55\u6587\u4EF6</li></ol><p><img src="'+D+'" alt="Untitled" loading="lazy"></p></li></ol></li></ol><h3 id="_3-4-\u96C6\u7FA4\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_3-4-\u96C6\u7FA4\u914D\u7F6E" aria-hidden="true">#</a> 3.4 \u96C6\u7FA4\u914D\u7F6E</h3>',11),T=a("<li><p><strong>\u96C6\u7FA4\u90E8\u7F72\u89C4\u5212</strong></p><p>\u6CE8\u610F\uFF1A</p><blockquote><p>NameNode \u548C SecondaryNameNode \u4E0D\u8981\u5B89\u88C5\u5728\u540C\u4E00\u53F0\u670D\u52A1\u5668</p></blockquote><blockquote><p>ResourceManager \u4E5F\u5F88\u6D88\u8017\u5185\u5B58\uFF0C\u4E0D\u8981\u548CNameNode\u3001SecondaryNameNode \u914D\u7F6E\u5728\u540C\u4E00\u53F0\u673A\u5668\u4E0A\u3002</p></blockquote><table><thead><tr><th></th><th>hadoop102</th><th>hadoop103</th><th>hadoop104</th></tr></thead><tbody><tr><td>HDFS</td><td>NameNode</td><td></td><td></td></tr><tr><td>DataNode</td><td></td><td></td><td></td></tr><tr><td>DataNode</td><td>SecondaryNameNode</td><td></td><td></td></tr><tr><td>DataNode</td><td></td><td></td><td></td></tr><tr><td>YARN</td><td></td><td></td><td></td></tr><tr><td>NodeManager</td><td>ResourceManager</td><td></td><td></td></tr><tr><td>NodeManager</td><td></td><td></td><td></td></tr><tr><td>NodeManager</td><td></td><td></td><td></td></tr></tbody></table></li>",1),F=a("<p><strong>\u914D\u7F6E\u6587\u4EF6\u8BF4\u660E</strong></p><p>Hadoop \u914D\u7F6E\u6587\u4EF6\u5206\u4E24\u7C7B\uFF1A\u9ED8\u8BA4\u914D\u7F6E\u6587\u4EF6\u548C\u81EA\u5B9A\u4E49\u914D\u7F6E\u6587\u4EF6\uFF0C\u53EA\u6709\u7528\u6237\u60F3\u4FEE\u6539\u67D0\u4E00\u9ED8\u8BA4\u914D\u7F6E\u503C\u65F6\uFF0C\u624D\u9700\u8981\u4FEE\u6539\u81EA\u5B9A\u4E49\u914D\u7F6E\u6587\u4EF6\uFF0C\u66F4\u6539\u76F8\u5E94\u5C5E\u6027\u503C\u3002</p><p>\uFF081\uFF09\u9ED8\u8BA4\u914D\u7F6E\u6587\u4EF6\uFF1A</p><table><thead><tr><th>\u8981\u83B7\u53D6\u7684\u9ED8\u8BA4\u6587\u4EF6</th><th>\u6587\u4EF6\u5B58\u653E\u5728 Hadoop \u7684 jar \u5305\u4E2D\u7684\u4F4D\u7F6E</th></tr></thead><tbody><tr><td>[core-default.xml]</td><td>hadoop-common-3.1.3.jar/core-default.xml</td></tr><tr><td>[hdfs-default.xml]</td><td>hadoop-hdfs-3.1.3.jar/hdfs-default.xml</td></tr><tr><td>[yarn-default.xml]</td><td>hadoop-yarn-common-3.1.3.jar/yarn-default.xml</td></tr><tr><td>[mapred-default.xml]</td><td>hadoop-mapreduce-client-core-3.1.3.jar/mapred-default.xml</td></tr></tbody></table><p>(2)\u3001\u81EA\u5B9A\u4E49\u914D\u7F6E\u6587\u4EF6\uFF1A</p><p>core-site.xml\u3001hdfs-site.xml\u3001yarn-site.xml\u3001mapred-site.xml \u56DB\u4E2A\u914D\u7F6E\u6587\u4EF6\u5B58\u653E\u5728 $HADOOP_HOME/etc/hadoop \u8FD9\u4E2A\u8DEF\u5F84\u4E0A\uFF0C\u7528\u6237\u53EF\u4EE5\u6839\u636E\u9879\u76EE\u9700\u6C42\u91CD\u65B0\u8FDB\u884C\u4FEE\u6539\u914D\u7F6E\u3002</p><blockquote><p>\u6CE8\u610F\uFF1AHadoop2.x\u548CHadoop3.x\u7684\u81EA\u5B9A\u4E49\u914D\u7F6E\u6587\u4EF6\u6709\u4E00\u4E9B\u6539\u53D8</p></blockquote>",7),C=s("Hadoop2.x\uFF1Acore-site.xml\u3001hdfs-site.xml\u3001mapred-site.xml\u3001yarn-site.xml\u3001slaves Hadoop3.x\uFF1Acore-site.xml\u3001hdfs-site.xml\u3001mapred-site.xml\u3001yarn-site.xml\u3001workers "),Y={href:"http://hadoop-env.sh/",target:"_blank",rel:"noopener noreferrer"},V=s("hadoop-env.sh"),Z=s(": \u7528\u4E8E\u5B9A\u4E49hadoop\u8FD0\u884C\u73AF\u5883\u76F8\u5173\u7684\u914D\u7F6E\u4FE1\u606F\uFF0C\u6BD4\u5982\u914D\u7F6EJAVA_HOME\u73AF\u5883\u53D8\u91CF\u3001\u4E3Ahadoop\u7684JVM\u6307\u5B9A\u7279\u5B9A\u7684\u9009\u9879\u3001\u6307\u5B9A\u65E5\u5FD7\u6587\u4EF6\u6240\u5728\u7684\u76EE\u5F55\u8DEF\u5F84\u4EE5\u53CAmaster\u548Cslave\u6587\u4EF6\u7684\u4F4D\u7F6E\u7B49\uFF1B"),J=n("p",null,"core-site.xml: \u7528\u4E8E\u5B9A\u4E49\u7CFB\u7EDF\u7EA7\u522B\u7684\u53C2\u6570\uFF0C\u5982HDFS URL\u3001Hadoop\u7684\u4E34\u65F6\u76EE\u5F55\u4EE5\u53CA\u7528\u4E8Erack-aware\u96C6\u7FA4\u4E2D\u7684\u914D\u7F6E\u6587\u4EF6\u7684\u914D\u7F6E\u7B49\uFF0C\u6B64\u4E2D\u7684\u53C2\u6570\u5B9A\u4E49\u4F1A\u8986\u76D6core-default.xml\u6587\u4EF6\u4E2D\u7684\u9ED8\u8BA4\u914D\u7F6E",-1),K=n("p",null,"hdfs-site.xml: HDFS\u7684\u76F8\u5173\u8BBE\u5B9A\uFF0C\u5982\u6587\u4EF6\u526F\u672C\u7684\u4E2A\u6570\u3001\u5757\u5927\u5C0F\u53CA\u662F\u5426\u4F7F\u7528\u5F3A\u5236\u6743\u9650\u7B49\uFF0C\u6B64\u4E2D\u7684\u53C2\u6570\u5B9A\u4E49\u4F1A\u8986\u76D6hdfs-default.xml\u6587\u4EF6\u4E2D\u7684\u9ED8\u8BA4\u914D\u7F6E\uFF1B",-1),W=n("p",null,"mapred-site.xml\uFF1AHDFS\u7684\u76F8\u5173\u8BBE\u5B9A\uFF0C\u5982reduce\u4EFB\u52A1\u7684\u9ED8\u8BA4\u4E2A\u6570\u3001\u4EFB\u52A1\u6240\u80FD\u591F\u4F7F\u7528\u5185\u5B58\u7684\u9ED8\u8BA4\u4E0A\u4E0B\u9650\u7B49\uFF0C\u6B64\u4E2D\u7684\u53C2\u6570\u5B9A\u4E49\u4F1A\u8986\u76D6mapred-default.xml\u6587\u4EF6\u4E2D\u7684\u9ED8\u8BA4\u914D\u7F6E\uFF1B",-1),Q=a(`<li><p><strong>\u914D\u7F6E\u96C6\u7FA4</strong></p><blockquote><p>\u5148\u5728\u5355\u4E2A\u8282\u70B9\u4E0A\u914D\u7F6E\u597D\uFF0C\u7136\u540E\u5728\u5411\u96C6\u7FA4\u5206\u53D1\u6587\u4EF6\u3002</p></blockquote><ul><li>\u8FDB\u5165\u914D\u7F6E\u6587\u4EF6\u76EE\u5F55</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>[begin@hadoop102 ~]$ cd $HADOOP_HOME/etc/hadoop
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>\uFF081\uFF09\u6838\u5FC3\u914D\u7F6E\u6587\u4EF6</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>[begin@hadoop102 hadoop]$ vim core-site.xml

# \u5728\u8BE5\u6587\u4EF6\u4E2D\u7F16\u5199\u5982\u4E0B\u914D\u7F6E
<span class="token comment">&lt;!-- \u6307\u5B9AHDFS\u4E2DNameNode\u7684\u5730\u5740  //\u5185\u90E8\u901A\u4FE1\u5730\u5740\uFF0CWeb\u7AEF\u65E0\u6CD5\u901A\u8FC78020\u8BBF\u95EE --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>fs.defaultFS<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
      	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>hdfs://hadoop102:8020<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
      	<span class="token comment">&lt;!-- &lt;value&gt;hdfs://hadoop100:9000&lt;/value&gt; --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- \u6307\u5B9A Hadoop \u6570\u636E\u5B58\u50A8\u7684\u76EE\u5F55 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>hadoop.tmp.dir<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>/opt/module/hadoop-3.1.3/data<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- \u914D\u7F6E HDFS \u7F51\u9875\u767B\u5F55\u4F7F\u7528\u7684\u9759\u6001\u7528\u6237\u4E3A begin--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>hadoop.http.staticuser.user<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>begin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- \u6CE8\uFF1A\u653E\u5728 &lt;configuration&gt; &lt;/configuration&gt; \u4E2D\u95F4 --&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\uFF082\uFF09HDFS\u914D\u7F6E\u6587\u4EF6</li></ul><p>\u914D\u7F6E<code>hadoop-env.sh</code></p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>[xqzhao@hadoop100 hadoop]$ vim hadoop-env.sh

# \u4FEE\u6539\u5982\u4E0B\u9009\u9879
export JAVA_HOME=/opt/module/jdk1.8.0_144
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u914D\u7F6E<code>hdfs-site.xml</code></p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>[begin@hadoop102 hadoop]$ vim hdfs-site.xml

# \u5728\u8BE5\u6587\u4EF6\u4E2D\u7F16\u5199\u5982\u4E0B\u914D\u7F6E
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>dfs.replication<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- NameNode Web \u7AEF\u8BBF\u95EE\u5730\u5740--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>dfs.namenode.http-address<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>hadoop102:9870<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- SecondaryNameNode Web\u7AEF\u8BBF\u95EE\u5730\u5740 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>dfs.namenode.secondary.http-address<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>hadoop104:9868<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>(3) MapReduce\u914D\u7F6E\u6587\u4EF6</li></ul><p>\u914D\u7F6E<code>mapred-env.sh</code></p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>[xqzhao@hadoop100 hadoop]$ vim mapred-env.sh

# \u4FEE\u6539\u5982\u4E0B\u9009\u9879
export JAVA_HOME=/opt/module/jdk1.8.0_144
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u914D\u7F6E<code>mapred-site.xml</code></p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>[begin@hadoop102 hadoop]$ vim mapred-site.xml

# \u5728\u8BE5\u6587\u4EF6\u4E2D\u589E\u52A0\u5982\u4E0B\u914D\u7F6E
<span class="token comment">&lt;!-- \u6307\u5B9AMR\u8FD0\u884C\u5728Yarn\u4E0A --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>mapreduce.framework.name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>yarn<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>(4) YARN\u914D\u7F6E\u6587\u4EF6</li></ul><p>\u914D\u7F6E<code>yarn-env.sh</code></p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>[xqzhao@hadoop100 hadoop]$ vim yarn-env.sh

# \u4FEE\u6539\u5982\u4E0B\u9009\u9879
export JAVA_HOME=/opt/module/jdk1.8.0_144
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u914D\u7F6E<code>yarn-site.xml</code></p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>[begin@hadoop102 hadoop]$ vim yarn-site.xml

# \u5728\u8BE5\u6587\u4EF6\u4E2D\u589E\u52A0\u5982\u4E0B\u914D\u7F6E
<span class="token comment">&lt;!-- \u6307\u5B9A MapReduce \u8D70 shuffle --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>yarn.nodemanager.aux-services<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>mapreduce_shuffle<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- \u6307\u5B9A YARN \u7684 ResourceManager \u7684\u5730\u5740 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>yarn.resourcemanager.hostname<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>hadoop103<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- \u73AF\u5883\u53D8\u91CF\u7684\u7EE7\u627F //\u53EF\u4EE5\u8BA4\u4E3A\u662F\u89E3\u51B3\u4E86\u4E00\u4E2A\u5C0FBug --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>yarn.nodemanager.env-whitelist<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>			
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>JAVA_HOME,HADOOP_COMMON_HOME,HADOOP_HDFS_HOME,HADOOP_CONF_DIR,CLASSPATH_PREPEND_DISTCACHE,HADOOP_YARN_HOME,HADOOP_MAPRED_HOME<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>\u5728\u96C6\u7FA4\u4E0A\u5206\u53D1\u914D\u7F6E\u597D\u7684Hadoop\u914D\u7F6E\u6587\u4EF6</strong></p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>[begin@hadoop102 etc]$ pwd
/opt/module/hadoop-3.1.3/etc
-----\u6CE8\u610F\u76EE\u5F55-----
[begin@hadoop102 etc]$ xsync hadoop/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>\u67E5\u770B\u6587\u4EF6\u5206\u53D1\u60C5\u51B5</strong></p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>[begin@hadoop102 hadoop]$ cat /opt/module/hadoop-3.1.3/etc/hadoop/core-site.xml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li>`,3),X=a(`<h3 id="_3-5-\u7FA4\u8D77\u96C6\u7FA4" tabindex="-1"><a class="header-anchor" href="#_3-5-\u7FA4\u8D77\u96C6\u7FA4" aria-hidden="true">#</a> 3.5 \u7FA4\u8D77\u96C6\u7FA4</h3><ol><li><strong><strong>\u914D\u7F6Eworkers</strong></strong></li></ol><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>[begin@hadoop102 etc]$ cd /opt/module/hadoop-3.1.3/etc/hadoop
[begin@hadoop102 hadoop]$ vim workers
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728\u8BE5\u6587\u4EF6\u4E2D\u589E\u52A0\u5982\u4E0B\u5185\u5BB9\uFF1A</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>hadoop100
hadoop101
hadoop102
# \u6CE8\u610F\uFF1A\u8BE5\u6587\u4EF6\u4E2D\u6DFB\u52A0\u7684\u5185\u5BB9\u7ED3\u5C3E\u4E0D\u5141\u8BB8\u6709\u7A7A\u683C\uFF0C\u6587\u4EF6\u4E2D\u4E0D\u5141\u8BB8\u6709\u7A7A\u884C\u3002
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u540C\u6B65\u5206\u53D1\u6240\u6709\u8282\u70B9\u914D\u7F6E\u6587\u4EF6\uFF1A</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>[begin@hadoop102 hadoop]$ xsync workers
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol><li>\u542F\u52A8\u96C6\u7FA4</li></ol>`,8),G=a(`<li><p>(1) \u5982\u679C\u96C6\u7FA4\u662F<code>**\u7B2C\u4E00\u6B21\u542F\u52A8**</code>\uFF0C\u9700\u8981<strong>\u683C\u5F0F\u5316</strong>\xA0<code>NameNode</code>\u3002(<strong><code>\u683C\u5F0F\u5316</code></strong>)</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>#\u56DE\u5230\u521D\u59CB\u76EE\u5F55
[begin@hadoop102 hadoop-3.1.3]$ pwd
/opt/module/hadoop-3.1.3
#\u521D\u59CB\u5316
[begin@hadoop102 hadoop-3.1.3]$ hdfs namenode -format
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><strong><code>\u6CE8\u610F</code></strong>\uFF1A\u683C\u5F0F\u5316 NameNode ,\u4F1A\u4EA7\u751F\u65B0\u7684\u96C6\u7FA4 id\uFF0C\u5BFC\u81F4 NameNode \u548C DataNode \u7684\u96C6\u7FA4 id \u4E0D\u4E00\u81F4,\u96C6\u7FA4\u627E\u4E0D\u5230\u5DF2\u5F80\u6570\u636E\u3002\u5982\u679C\u96C6\u7FA4\u5728\u8FD0\u884C\u8FC7\u7A0B\u4E2D\u62A5\u9519\uFF0C\u9700\u8981\u91CD\u65B0\u683C\u5F0F\u5316 NameNode \u7684\u8BDD\uFF0C\u4E00\u5B9A\u8981\u5148<code>\u505C\u6B62</code>\u4E0A\u6B21\u542F\u52A8\u7684\u6240\u6709\xA0<code>namenode</code>\u548C\xA0<code>datanode</code>\u8FDB\u7A0B\uFF0C\u7136\u540E\u518D\u5220\u9664\u96C6\u7FA4\u4E2D\u6BCF\u53F0\u865A\u62DF\u673A\u4E0A\u7684\xA0<code>data</code>\u548C<code>logs</code>\u76EE\u5F55\u3002</p></blockquote><p>\u51FA\u73B0\u5982\u4E0B\u4E24\u4E2A\u6587\u4EF6\u8868\u793A\u521D\u59CB\u5316\u6210\u529F\uFF1A</p><p><img src="`+U+`" alt="Untitled" loading="lazy"></p></li><li><p>(2) \u542F\u52A8<code>HDFS</code></p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>#\u542F\u52A8
[begin@hadoop102 hadoop-3.1.3]$ sbin/start-dfs.sh
#\u67E5\u770B102
[begin@hadoop102 hadoop-3.1.3]$ jps
2720 Jps
2455 DataNode
2331 NameNode
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>#\u67E5\u770B103
[begin@hadoop103 ~]$ jps
1749 DataNode
1802 Jps
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>#\u67E5\u770B104
[begin@hadoop104 ~]$ jps 
2880 SecondaryNameNode
2917 Jps
2781 DataNode
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5B8C\u6210\u540E\u53EF\u5728\u6D4F\u89C8\u5668\u6253\u5F00\u5982\u4E0B\u754C\u9762<code>http://hadoop102:9870/</code>\uFF0C\u6253\u4E0D\u5F00\u8BF7\u68C0\u67E5\u9632\u706B\u5899\u548Chost\u6587\u4EF6</p><p><img src="`+j+`" alt="Untitled" loading="lazy"></p></li><li><p>(3) \u5728\u914D\u7F6E\u4E86<code>ResourceManger</code>\u7684\u8282\u70B9(<code>Hadoop103</code>)\u542F\u52A8<code>YARN</code></p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>#\u6CE8\u610F\u8981\u5230\u914D\u7F6E\u4E86 ResourceManager \u7684\u8282\u70B9\u6267\u884C\u547D\u4EE4\uFF0C\u8FD9\u91CC\u662F103
[begin@hadoop103 hadoop-3.1.3]$ sbin/start-yarn.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>[begin@hadoop103 hadoop-3.1.3]$ sbin/start-yarn.sh 
Starting resourcemanager
resourcemanager is running as process 2009.  Stop it first.
Starting nodemanagers
hadoop102: nodemanager is running as process 2874.  Stop it first.
hadoop103: nodemanager is running as process 2140.  Stop it first.
[begin@hadoop103 hadoop-3.1.3]$ jps
1749 DataNode
2009 ResourceManager
2827 Jps
2140 NodeManager
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u6CE8\u610F\uFF1A<code>NameNode</code>\u548C<code>ResourceManger</code>\u5982\u679C\u4E0D\u662F\u540C\u4E00\u53F0\u673A\u5668\uFF0C\u4E0D\u80FD\u5728<code>NameNode</code>\u4E0A\u542F\u52A8 YARN\uFF0C\u5E94\u8BE5\u5728<code>ResouceManager</code>\u6240\u5728\u7684\u673A\u5668\u4E0A\u542F\u52A8YARN\u3002</p></blockquote></li>`,3),nn=n("p",null,[s("(4) Web\u7AEF\u67E5\u770B HDFS \u7684 "),n("code",null,"NameNode")],-1),sn=s("\u6D4F\u89C8\u5668\u4E2D\u8F93\u5165\uFF1A"),an={href:"http://hadoop102:9087",target:"_blank",rel:"noopener noreferrer"},en=s("http://hadoop102:9087"),tn=s(" \u5982\u4E0B\u56FE\uFF1A"),ln=n("p",null,[n("img",{src:O,alt:"Untitled",loading:"lazy"})],-1),on=n("p",null,[s("Web\u7AEF\u67E5\u770B YARN \u7684 "),n("code",null,"ResourceManager")],-1),dn=s("\u6D4F\u89C8\u5668\u4E2D\u8F93\u5165\uFF1A"),pn={href:"http://hadoop103:8088",target:"_blank",rel:"noopener noreferrer"},cn=s("http://hadoop103:8088"),rn=s(" \u5982\u4E0B\u56FE:"),un=n("p",null,[n("img",{src:R,alt:"Untitled",loading:"lazy"})],-1),vn=a(`<li><p>(5) \u5728\xA0<code>Hadoop102</code>\xA0\u4E0A\u542F\u52A8\xA0<strong><code>\u5386\u53F2\u670D\u52A1\u5668</code></strong></p><p>\u4E3A\u4E86\u67E5\u770B\u7A0B\u5E8F\u7684\u5386\u53F2\u8FD0\u884C\u60C5\u51B5\uFF0C\u9700\u8981\u914D\u7F6E\u4E00\u4E0B\u5386\u53F2\u670D\u52A1\u5668\u3002\u5177\u4F53\u914D\u7F6E\u6B65\u9AA4\u5982\u4E0B\uFF1A</p><ol><li>\u914D\u7F6E mapred-site.xml</li></ol><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>#\u8FDB\u5165\u5230\u6307\u5B9A\u8DEF\u5F84\u4E0B
[begin@hadoop102 hadoop]$ pwd
/opt/module/hadoop-3.1.3/etc/hadoop
[begin@hadoop102 hadoop]vim mapred-site.xml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5728\u8BE5\u6587\u4EF6\u91CC\u9762\u589E\u52A0\u5982\u4E0B\u914D\u7F6E</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- \u5386\u53F2\u670D\u52A1\u5668\u5730\u5740 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>mapreduce.jobhistory.adress<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>hadoop102:10020<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- \u5386\u53F2\u670D\u52A1\u5668web\u7AEF\u5730\u5740 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>mapreduce.jobhistory.webapp.adress<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>hadoop102:19888<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li>\u5206\u53D1\u914D\u7F6E</li></ol><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>[begin@hadoop102 hadoop] xsync mapred-site.xml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol><li>\u5728 hadoop102 \u542F\u52A8\u5386\u53F2\u670D\u52A1\u5668\uFF1B\u6CE8\u610F\uFF1A\u542F\u52A8\u524D\u9700\u8981\u91CD\u542F yarn \u8BFB\u53D6\u4E0A\u9762\u914D\u7F6E</li></ol><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>[begin@hadoop102 hadoop-3.1.3]bin/mapred --daemon start historyserver
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol><li>\u67E5\u770B\u5386\u53F2\u670D\u52A1\u5668\u662F\u5426\u542F\u52A8</li></ol><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>[begin@hadoop102 hadoop-3.1.3]$ jps
1364 NameNode
2730 Jps
1436 DataNode
2444 NodeManager
2668 JobHistoryServer
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li>\u67E5\u770B JobHistory</li></ol><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>[begin@hadoop102 hadoop-3.1.3]$ sbin/mr-jobhistory-daemon.sh start historyserver
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong><code>\u6CE8:</code></strong> \u542F\u52A8\u5386\u53F2\u670D\u52A1\u5668\u4E4B\u524D\uFF0C\u9700\u8981\u5148\u8FDB\u884C\u76F8\u5E94\u7684\u914D\u7F6E,</p><ol><li>\u914D\u7F6E\u65E5\u5FD7\u7684\u805A\u96C6</li></ol><ul><li>\u65E5\u5FD7\u805A\u96C6\u6982\u5FF5\uFF1A\u5E94\u7528\u8FD0\u884C\u5B8C\u6210\u4EE5\u540E\uFF0C\u5C06\u7A0B\u5E8F\u8FD0\u884C\u65E5\u5FD7\u4FE1\u606F\u4E0A\u4F20\u5230HDFS\u7CFB\u7EDF\u4E0A\u3002</li><li>\u65E5\u5FD7\u805A\u96C6\u529F\u80FD\u597D\u5904\uFF1A\u53EF\u4EE5\u65B9\u4FBF\u7684\u67E5\u770B\u5230\u7A0B\u5E8F\u8FD0\u884C\u8BE6\u60C5\uFF0C\u65B9\u4FBF\u5F00\u53D1\u8C03\u8BD5\u3002</li></ul><blockquote><p>\u6CE8\u610F\uFF1A\u5F00\u542F\u65E5\u5FD7\u805A\u96C6\u529F\u80FD\uFF0C\u9700\u8981\u91CD\u65B0\u542F\u52A8NodeManager \u3001ResourceManager\u548CHistoryManager\u3002</p></blockquote><p>\u5F00\u542F\u65E5\u5FD7\u805A\u96C6\u529F\u80FD\u5177\u4F53\u6B65\u9AA4\u5982\u4E0B\uFF1A</p><ul><li>(1) \u914D\u7F6E<code>yarn-site.xml</code></li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>[begin@hadoop102 hadoop]$ vim yarn-site.xml

#\u5728\u8BE5\u6587\u4EF6\u91CC\u9762\u589E\u52A0\u5982\u4E0B\u914D\u7F6E\u3002
<span class="token comment">&lt;!-- \u5F00\u542F\u65E5\u5FD7\u805A\u96C6\u529F\u80FD--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>yarn.log-aggregation-enable<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- \u8BBE\u7F6E\u65E5\u5FD7\u805A\u96C6\u670D\u52A1\u5668\u5730\u5740--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>yarn.log-server-url<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>http:hadoop102:19888/jobhistory/logs<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- \u65E5\u5FD7\u4FDD\u7559\u65F6\u95F4\u8BBE\u7F6E7\u5929 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>yarn.log-aggregation.retain-seconds<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>604800<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u5206\u53D1\u914D\u7F6E\uFF1A<code>xsynv $HADOOP_HOME/etc/hadoop/yarn-site.xml</code></strong></p><ul><li>(2) \u5173\u95ED<code>NodeManager</code>\xA0\u3001<code>ResourceManager</code>\u548C<code>HistoryServer</code></li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>[begin@hadoop102 hadoop-3.1.3]$ sbin/yarn-daemon.sh stop resourcemanager
[begin@hadoop102 hadoop-3.1.3]$ sbin/yarn-daemon.sh stop nodemanager
[begin@hadoop102 hadoop-3.1.3]$ mapred --daemon stop historyserver
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>(3) \u542F\u52A8<code>NodeManager</code>\xA0\u3001<code>ResourceManager</code>\u548C<code>HistoryServer</code></li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>[begin@hadoop102 hadoop-3.1.3]$ sbin/yarn-daemon.sh start resourcemanager
[begin@hadoop102 hadoop-3.1.3]$ sbin/yarn-daemon.sh start nodemanager
[begin@hadoop102 hadoop-3.1.3]$ mapred --daemon start historyserver|
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>(4) \u5220\u9664HDFS\u4E0A\u5DF2\u7ECF\u5B58\u5728\u7684\u8F93\u51FA\u6587\u4EF6</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>[begin@hadoop102 hadoop-3.1.3]$ bin/hdfs dfs -rm -R /output
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>\u2022 (5) \u6267\u884CWordCount\u7A0B\u5E8F</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>[begin@hadoop102 hadoop-3.1.3]$ [begin@hadoop102 hadoop-3.1.3]$ hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.3.jar  wordcount /wcinput /wcoutput
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>(6) \u67E5\u770B\u65E5\u5FD7</li></ul></li>`,1),mn=a(`<h3 id="_3-6-\u7FA4\u8D77\u96C6\u7FA4\u5E76\u6D4B\u8BD5" tabindex="-1"><a class="header-anchor" href="#_3-6-\u7FA4\u8D77\u96C6\u7FA4\u5E76\u6D4B\u8BD5" aria-hidden="true">#</a> 3.6 \u7FA4\u8D77\u96C6\u7FA4\u5E76\u6D4B\u8BD5</h3><ul><li>(1) \u4E0A\u4F20\u6587\u4EF6\u5230\u96C6\u7FA4</li></ul><p>\u4E0A\u4F20\u5C0F\u6587\u4EF6</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>[begin@hadoop102 hadoop-3.1.3]$ hadoop fs -mkdir /wcinput
[begin@hadoop102 hadoop-3.1.3]$ hadoop fs -put wcinput/word.txt/wcinput
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E0A\u4F20\u5927\u6587\u4EF6</p><ul><li>(2) \u4E0A\u4F20\u6587\u4EF6\u540E\u67E5\u770B\u6587\u4EF6\u5B58\u653E\u5728\u4EC0\u4E48\u4F4D\u7F6E</li></ul><p>\u67E5\u770BHDFS\u6587\u4EF6\u5B58\u50A8\u8DEF\u5F84</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>/opt/module/hadoop-3.1.3/data/dfs/data/current/BP-483549456-192.168.10.102-1667831825181/current/finalized/subdir0/subdir0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u67E5\u770BHDFS\u5728\u78C1\u76D8\u5B58\u50A8\u6587\u4EF6\u5185\u5BB9</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>[begin@hadoop102 subdir0]$ cat blk_1073741825
hadoop yarn
hadoop mapreduce 
begin
begin
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+P+`" alt="Untitled" loading="lazy"></p><ul><li>(3) \u62FC\u63A5</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>-rw-rw-r--. 1 begin begin 134217728 11\u6708 14 21:26 blk_1073741825
-rw-rw-r--. 1 begin begin   1048583 11\u6708 14 21:26 blk_1073741825_1001.meta
-rw-rw-r--. 1 begin begin  13944814 11\u6708 14 21:26 blk_1073741826
-rw-rw-r--. 1 begin begin    108951 11\u6708 14 21:26 blk_1073741826_1002.meta
[begin@hadoop102 subdir0]$ cat blk_1073741836&gt;&gt;tmp.file
[begin@hadoop102 subdir0]$ cat blk_1073741837&gt;&gt;tmp.file
[begin@hadoop102 subdir0]$ tar -zxvf tmp.file
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>(4) \u4E0B\u8F7D</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>[begin@hadoop102 hadoop-3.1.3]$ bin/hadoop fs -get /user/begin/input/hadoop-3.2.1.tar.gz ./
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>(5) \u6267\u884C wordcount \u7A0B\u5E8F\uFF0C\u67E5\u770B yarn \u6267\u884C\u6548\u679C</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>[begin@hadoop102 hadoop-3.1.3]$ hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.3.jar  wordcount /wcinput /wcoutput
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="`+M+'" alt="Untitled" loading="lazy"></p><p>\u67E5\u770B\u76EE\u5F55\u4E0B\u6267\u884C\u7ED3\u679C</p><p><img src="'+L+`" alt="Untitled" loading="lazy"></p><h3 id="_3-7-\u96C6\u7FA4\u542F\u52A8-\u505C\u6B62\u65B9\u5F0F\u603B\u7ED3" tabindex="-1"><a class="header-anchor" href="#_3-7-\u96C6\u7FA4\u542F\u52A8-\u505C\u6B62\u65B9\u5F0F\u603B\u7ED3" aria-hidden="true">#</a> 3.7 \u96C6\u7FA4\u542F\u52A8/\u505C\u6B62\u65B9\u5F0F\u603B\u7ED3</h3><ul><li>\uFF081\uFF09\u5404\u4E2A\u6A21\u5757\u6574\u4F53\u542F\u52A8/\u505C\u6B62 \uFF08\u914D\u7F6E SSH \u662F\u524D\u63D0\uFF09\u5E38\u7528</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>#\u6574\u4F53\u542F\u52A8/\u505C\u6B62HDFS
[begin@hadoop102 hadoop-3.1.3]start-dfs.sh / stop-dfs.sh

#\u6574\u4F53\u542F\u52A8/\u505C\u6B62YARN
[begin@hadoop102 hadoop-3.1.3]start-yarn.sh / stop-yarn.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>\uFF082\uFF09\u5206\u522B\u542F\u52A8/\u505C\u6B62HDFS\u7EC4\u4EF6</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>[begin@hadoop102 /]$ hadoop-daemon.sh  start / stop  namenode / datanode / secondarynamenode
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_3-8-\u4E24\u4E2A\u5E38\u7528\u811A\u672C" tabindex="-1"><a class="header-anchor" href="#_3-8-\u4E24\u4E2A\u5E38\u7528\u811A\u672C" aria-hidden="true">#</a> 3.8 \u4E24\u4E2A\u5E38\u7528\u811A\u672C</h3><ul><li><strong><strong>myhadoop.sh\u96C6\u7FA4\u542F\u52A8/\u505C\u6B62\u811A\u672C</strong></strong></li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>#!/bin/bash

if [ $# -lt 1 ]
then
    echo &quot;No Args Input...&quot;
    exit ;
fi

case $1 in
&quot;start&quot;)
        echo &quot; =================== \u542F\u52A8 hadoop\u96C6\u7FA4 ===================&quot;

        echo &quot; --------------- \u542F\u52A8 hdfs ---------------&quot;
        ssh hadoop102 &quot;/opt/module/hadoop-3.1.3/sbin/start-dfs.sh&quot;
        echo &quot; --------------- \u542F\u52A8 yarn ---------------&quot;
        ssh hadoop103 &quot;/opt/module/hadoop-3.1.3/sbin/start-yarn.sh&quot;
        echo &quot; --------------- \u542F\u52A8 historyserver ---------------&quot;
        ssh hadoop102 &quot;/opt/module/hadoop-3.1.3/bin/mapred --daemon start historyserver&quot;
;;
&quot;stop&quot;)
        echo &quot; =================== \u5173\u95ED hadoop\u96C6\u7FA4 ===================&quot;

        echo &quot; --------------- \u5173\u95ED historyserver ---------------&quot;
        ssh hadoop102 &quot;/opt/module/hadoop-3.1.3/bin/mapred --daemon stop historyserver&quot;
        echo &quot; --------------- \u5173\u95ED yarn ---------------&quot;
        ssh hadoop103 &quot;/opt/module/hadoop-3.1.3/sbin/stop-yarn.sh&quot;
        echo &quot; --------------- \u5173\u95ED hdfs ---------------&quot;
        ssh hadoop102 &quot;/opt/module/hadoop-3.1.3/sbin/stop-dfs.sh&quot;
;;
*)
    echo &quot;Input Args Error...&quot;
;;
esac
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4F7F\u7528\uFF1A</p>`,29),gn=s("[begin@hadoop102 hadoop-3.1.3]$ "),hn={href:"http://myhadoop.sh",target:"_blank",rel:"noopener noreferrer"},bn=s("myhadoop.sh"),kn=s(" stop xsync\u6587\u4EF6\u5185\u5BB9(\u6B64\u6587\u4EF6\u5B58\u653E\u4E8E\u64CD\u4F5C\u7528\u6237\u7684~/bin\u4E2D\uFF0C\u5E76\u9644\u52A0x\u6267\u884C\u6743\u9650)"),xn=a(`<ul><li><strong><strong>jpsall\u811A\u672C\u67E5\u770B\u5404\u8282\u70B9\u7EC4\u4EF6</strong></strong></li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>#!/bin/bash

for host in hadoop102 hadoop103 hadoop104
do
        echo =============== $host ===============
        ssh $host jps 
done
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-9-\u4E24\u9053\u9762\u8BD5\u9898-\u91CD\u70B9" tabindex="-1"><a class="header-anchor" href="#_3-9-\u4E24\u9053\u9762\u8BD5\u9898-\u91CD\u70B9" aria-hidden="true">#</a> 3.9 \u4E24\u9053\u9762\u8BD5\u9898 \uFF08\u91CD\u70B9\uFF09</h3>`,3),yn={href:"https://www.notion.so/d8e269292a324c4d8d0b3fcebe1781fb",target:"_blank",rel:"noopener noreferrer"},fn=s("\u9762\u8BD5\u9898\u53CA\u7B14\u8BB0"),_n=a(`<h3 id="_4-0-\u96C6\u7FA4\u65F6\u95F4\u540C\u6B65-\u96C6\u7FA4\u65E0\u6CD5\u540C\u6B65\u5916\u7F51\u65F6\u95F4\u65F6\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#_4-0-\u96C6\u7FA4\u65F6\u95F4\u540C\u6B65-\u96C6\u7FA4\u65E0\u6CD5\u540C\u6B65\u5916\u7F51\u65F6\u95F4\u65F6\u4F7F\u7528" aria-hidden="true">#</a> 4.0 \u96C6\u7FA4\u65F6\u95F4\u540C\u6B65\uFF08\u96C6\u7FA4\u65E0\u6CD5\u540C\u6B65\u5916\u7F51\u65F6\u95F4\u65F6\u4F7F\u7528\uFF09</h3><blockquote><p>\u65F6\u95F4\u540C\u6B65\u7684\u65B9\u5F0F\uFF1A\u627E\u4E00\u4E2A\u673A\u5668\uFF0C\u4F5C\u4E3A<strong>\u65F6\u95F4\u670D\u52A1\u5668</strong> \uFF0C\u6240\u6709\u7684\u673A\u5668\u4E0E\u8FD9\u53F0\u96C6\u7FA4\u65F6\u95F4\u8FDB\u884C\u5B9A\u65F6\u7684\u540C\u6B65\uFF0C\u6BD4\u5982\uFF0C\u6BCF\u9694\u5341\u5206\u949F\uFF0C\u540C\u6B65\u4E00\u6B21\u65F6\u95F4\u3002</p></blockquote><p>\u65F6\u95F4\u670D\u52A1\u5668\u914D\u7F6E\uFF08\u5FC5\u987Broot\u7528\u6237\uFF09\u6B65\u9AA4:</p><ol><li><strong><strong>\u68C0\u67E5ntp\u662F\u5426\u5B89\u88C5</strong></strong></li></ol><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>[root@hadoop102 bin]# rpm -qa|grep ntp

ntpdate-4.2.6p5-29.el7.centos.2.x86_64
ntp-4.2.6p5-29.el7.centos.2.x86_64

#\u672A\u5B89\u88C5\u60C5\u51B5\u4F7F\u7528yum\u5B89\u88C5\u518D\u6267\u884C\u64CD\u4F5C
[root@hadoop102 bin]# sudo yum -y install ntp

#\u67E5\u770B\u5E76\u8BBE\u7F6E\u6240\u6709\u8282\u70B9ntpd\u670D\u52A1\u72B6\u6001\u548C\u5F00\u673A\u81EA\u542F\u52A8\u72B6\u6001
[root@hadoop102 bin]# sudo systemctl status ntpd
[root@hadoop102 bin]# sudo systemctl start ntpd
[root@hadoop102 bin]# sudo systemctl is-enabled ntpd
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li><strong><strong>\u4FEE\u6539hadoop102\u7684 /etc/ntp.conf \u914D\u7F6E\u6587\u4EF6</strong></strong></li></ol><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>[root@hadoop102 /]$sudo vim /etc/ntp.conf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u4FEE\u6539\u5185\u5BB9\u5982\u4E0B:</p><ul><li>(1) \u4FEE\u65391\uFF08\u6388\u6743192.168.1.0-192.168.1.255\u7F51\u6BB5\u4E0A\u7684\u6240\u6709\u673A\u5668\u53EF\u4EE5\u4ECE\u8FD9\u53F0\u673A\u5668\u4E0A\u67E5\u8BE2\u548C\u540C\u6B65\u65F6\u95F4\uFF09</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>#restrict 192.168.1.0 mask 255.255.255.0 nomodify notrap\u4E3A
restrict 192.168.10.0 mask 255.255.255.0 nomodify notrap
(\u628A\u524D\u9762\u7684\u6CE8\u91CA\u7B26\u2019#&#39;\u53BB\u6389\u4E86)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>(2) \u4FEE\u65392\uFF08\u96C6\u7FA4\u5728\u5C40\u57DF\u7F51\u4E2D\uFF0C\u4E0D\u4F7F\u7528\u5176\u4ED6\u4E92\u8054\u7F51\u4E0A\u7684\u65F6\u95F4\uFF09</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>server 0.centos.pool.ntp.org iburst
server 1.centos.pool.ntp.org iburst
server 2.centos.pool.ntp.org iburst
server 3.centos.pool.ntp.org iburst \u4E3A
#server 0.centos.pool.ntp.org iburst
#server 1.centos.pool.ntp.org iburst
#server 2.centos.pool.ntp.org iburst
#server 3.centos.pool.ntp.org iburst
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>(3) \u6DFB\u52A03\uFF08\u5F53\u8BE5\u8282\u70B9\u4E22\u5931\u7F51\u7EDC\u8FDE\u63A5\uFF0C\u4F9D\u7136\u53EF\u4EE5\u91C7\u7528\u672C\u5730\u65F6\u95F4\u4F5C\u4E3A\u65F6\u95F4\u670D\u52A1\u5668\u4E3A\u96C6\u7FA4\u4E2D\u7684\u5176\u4ED6\u8282\u70B9\u63D0\u4F9B\u65F6\u95F4\u540C\u6B65\uFF09</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>server 127.127.1.0
fudge 127.127.1.0 stratum 10
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ol><li><strong><strong>\u4FEE\u6539 /etc/sysconfig/ntpd \u6587\u4EF6</strong></strong></li></ol><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>[root@hadoop102 /]$sudo vim /etc/sysconfig/ntpd

\u589E\u52A0\u5185\u5BB9\u5982\u4E0B\uFF08\u8BA9\u786C\u4EF6\u65F6\u95F4\u4E0E\u7CFB\u7EDF\u65F6\u95F4\u4E00\u8D77\u540C\u6B65\uFF09
SYNC_HWCLOCK=yes
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li><strong><strong>\u91CD\u65B0\u542F\u52A8ntpd\u670D\u52A1</strong></strong></li></ol><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>[root@hadoop102 /]$ service ntpd status
service ntpd status

[root@hadoop102 /]$ service ntpd start
Starting ntpd:                                       [  OK  ]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li><strong><strong>\u8BBE\u7F6Entpd\u670D\u52A1\u5F00\u673A\u542F\u52A8</strong></strong></li></ol><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>[root@hadoop100 /]$ chkconfig ntpd on
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol><li><strong><strong>\u5176\u4ED6\u673A\u5668\u914D\u7F6E\uFF08\u5FC5\u987Broot\u7528\u6237\uFF09</strong></strong></li></ol><p>\u6267\u884C\u524D\u5148\u5173\u95ED\u6240\u6709\u8282\u70B9\u4E0A ntp \u670D\u52A1\u548C\u81EA\u542F\u52A8</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>[begin@hadoop103 ~]$ sudo systemctl stop ntpd
[begin@hadoop103 ~]$ sudo systemctl disable ntpd
[begin@hadoop104 ~]$ sudo systemctl stop ntpd
[begin@hadoop104 ~]$ sudo systemctl disable ntpd
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>(1) \u5728\u5176\u4ED6\u673A\u5668\u914D\u7F6E10\u5206\u949F\u4E0E\u65F6\u95F4\u670D\u52A1\u5668\u540C\u6B65\u4E00\u6B21</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>[root@hadoop102 /]$ sudo crontab -e

\u7F16\u5199\u5B9A\u65F6\u4EFB\u52A1\u5982\u4E0B\uFF1A
*/10 * * * * /usr/sbin/ntpdate hadoop102
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>(2) \u4FEE\u6539\u4EFB\u610F\u673A\u5668\u65F6\u95F4</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>[root@hadoop103 /]$ sudo date -s &quot;2021-9-11 11:11:11&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>(3) \u5341\u5206\u949F\u540E\u67E5\u770B\u673A\u5668\u662F\u5426\u4E0E\u65F6\u95F4\u670D\u52A1\u5668\u540C\u6B65</li></ul><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>[root@hadoop101 /]$ date
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u8BF4\u660E\uFF1A\u6D4B\u8BD5\u7684\u65F6\u5019\u53EF\u4EE5\u5C0610\u5206\u949F\u8C03\u6574\u4E3A1\u5206\u949F\uFF0C\u8282\u7701\u65F6\u95F4\u3002</p>`,30);function An(Hn,qn){const e=d("ExternalLinkIcon");return i(),o("div",null,[z,n("p",null,[E,n("a",$,[I,t(e)])]),B,n("ol",null,[T,n("li",null,[F,n("p",null,[C,n("a",Y,[V,t(e)]),Z]),J,K,W]),Q]),X,n("ul",null,[G,n("li",null,[nn,n("p",null,[sn,n("strong",null,[n("a",an,[en,t(e)])]),tn]),ln,on,n("p",null,[dn,n("strong",null,[n("a",pn,[cn,t(e)])]),rn]),un]),vn]),mn,n("p",null,[gn,n("a",hn,[bn,t(e)]),kn]),xn,n("p",null,[n("a",yn,[fn,t(e)])]),_n])}var Dn=l(S,[["render",An],["__file","hadoop-base.html.vue"]]);export{Dn as default};
