"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var o=require("vuepress-plugin-sass-palette"),e=require("vuepress-shared"),n=require("@vuepress/shared"),t=require("@vuepress/utils");const s={"/en/":{backToTop:"Back to top"},"/zh/":{backToTop:"返回顶部"},"/zh-tw/":{backToTop:"返回頂部"},"/de-at/":{backToTop:"Zurück nach oben."},"/vi/":{backToTop:"Trở lại đầu trang"},"/uk/":{backToTop:"Повернутися до початку"},"/ru/":{backToTop:"Вернуться к началу"},"/br/":{backToTop:"Volta ao topo"},"/pl/":{backToTop:"Wróć na górę"},"/sk/":{backToTop:"Back to top"},"/fr/":{backToTop:"Back to top"},"/es/":{backToTop:"Volver arriba"}},p=new e.Logger("vuepress-plugin-components"),c=(o="")=>"fontawesome"===o||o.match(/^(?:https:)?\/\/kit\.fontawesome\.com\//)?"fas fa-":"iconfont"===o||o.match(/^(?:https:)?\/\/at\.alicdn\.com\/t\//)?"iconfont icon-":"",i=n.ensureEndingSlash(t.path.resolve(__dirname,"../client")),a=["Badge","CodePen","FontIcon","PDF","StackBlitz","YouTube"],r=(o,e)=>{let n="",t="",s="",c="",r=!1,T=!1,u=!1;return e.components.forEach((o=>{if(a.includes(o)&&(n+=`import ${o} from "${i}components/${o}";\n`,t+=`app.component("${o}", ${o});\n`),"FontIcon"===o&&e.iconAssets){const o=(o=>{if("fontawesome"===o)return{type:"script",content:"https://kit.fontawesome.com/ca37c296c5.js"};if("iconfont"===o)return{type:"style",content:'@import url("//at.alicdn.com/t/font_2410206_a0xb9hku9iu.css");'};const e=o.match(/^(?:https?:)?\/\//g)?o:`//${o}`;return e.endsWith(".css")?{type:"style",content:`@import url("${o}");`}:e.endsWith(".js")?{type:"script",content:o}:(p.error(`Can not recognize icon link: "${o}"`),null)})(e.iconAssets);if(o){const{type:e,content:n}=o;"script"===e?(T=!0,s+=`useScriptTag(\`${n}\`);\n`):(u=!0,s+=`useStyleTag(\`${n}\`, { id: "icon-assets" });\n`)}}})),"string"==typeof e.addThis&&(T=!0,s+=`useScriptTag(\`//s7.addthis.com/js/300/addthis_widget.js#pubid=${e.addThis}\`);\n`),e.backToTop&&(r=!0,n+=`import BackToTop from "${i}components/BackToTop";\n`,c+=`() => h(BackToTop, { threshold: ${"number"==typeof e.backToTop?e.backToTop:300} }),\n`),o.writeTemp("components/config.js",`${T?`import { useScriptTag } from "${i}composables";\n`:""}${u?`import { useStyleTag } from "${i}composables";\n`:""}${r?'import { h } from "vue";\n':""}import { defineClientConfig } from "@vuepress/client";\n${n}\n\nexport default defineClientConfig({\n  enhance: ({ app }) => {\n${t.split("\n").map((o=>`    ${o}`)).join("\n")}\n  },\n  setup: () => {\n${s.split("\n").map((o=>`    ${o}`)).join("\n")}\n  },\n  rootComponents: [\n${c.split("\n").map((o=>`    ${o}`)).join("\n")}\n  ],\n});`)},T=n=>t=>(t.env.isDebug&&p.info(`Options: ${n.toString()}`),o.useSassPalettePlugin(t,{id:"hope"}),{name:"vuepress-plugin-components",define:{BACK_TO_TOP_LOCALES:e.getLocales({app:t,name:"backToTop",default:s,config:n.backToTopLocales}),ICON_PREFIX:"string"==typeof n.iconPrefix?n.iconPrefix:c(n.iconAssets)},clientConfigFile:o=>r(o,n)});exports.backToTopLocales=s,exports.componentsPlugin=T,exports.default=T;
//# sourceMappingURL=index.js.map
