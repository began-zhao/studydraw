import{ClientOnly as e}from"@vuepress/client";import{useStorage as t}from"@vueuse/core";import{defineComponent as a,ref as l,watch as u,h as v}from"vue";import"../styles/tabs.scss";const r=t("VUEPRESS_TAB_STORE",{});var s=a({name:"Tabs",props:{active:{type:Number,default:0},data:{type:Array,required:!0},tabId:{type:String,default:""}},setup(t,{slots:a}){const s=l((()=>{if(t.tabId){const e=t.data.findIndex((({title:e,value:a=e})=>r.value[t.tabId]===a));if(-1!==e)return e}return t.active})()),i=l([]),n=()=>{if(t.tabId){const{title:e,value:a=e}=t.data[s.value];r.value[t.tabId]=a}},d=(e,t)=>{" "===e.key||"Enter"===e.key?(e.preventDefault(),s.value=t):"ArrowRight"===e.key?(e.preventDefault(),((e=s.value)=>{s.value=e<i.value.length-1?e+1:0,i.value[s.value].focus()})()):"ArrowLeft"===e.key&&(e.preventDefault(),((e=s.value)=>{s.value=e>0?e-1:i.value.length-1,i.value[s.value].focus()})()),n()};return u((()=>r.value[t.tabId]),((e,a)=>{if(t.tabId&&e!==a){const a=t.data.findIndex((({title:t,value:a=t})=>a===e));-1!==a&&(s.value=a)}})),()=>v(e,(()=>v("div",{class:"tab-list"},[v("div",{class:"tab-list-nav"},t.data.map((({title:e},t)=>{const a=t===s.value;return v("button",{ref:e=>{e&&(i.value[t]=e)},class:["tab-list-nav-item",{active:a}],"aria-pressed":a,"aria-expanded":a,onClick:()=>{s.value=t,n()},onKeydown:e=>d(e,t)},e)}))),t.data.map((({title:e,value:t=e},l)=>{const u=l===s.value;return v("div",{class:["tab-item",{active:u}],"aria-selected":u},a[`tab${l}`]?.({title:e,value:t,isActive:u}))}))])))}});export{s as default};
//# sourceMappingURL=Tabs.js.map
