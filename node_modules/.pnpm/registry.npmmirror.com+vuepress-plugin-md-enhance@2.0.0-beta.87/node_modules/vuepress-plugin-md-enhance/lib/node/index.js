"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("vuepress-plugin-sass-palette"),t=require("vuepress-shared"),n=require("@vuepress/utils"),o=require("@vuepress/shared"),r=require("markdown-it/lib/token"),s=require("markdown-it/lib/helpers/parse_link_label"),i=require("katex"),a=require("@vuepress/plugin-container");function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=l(r),p=l(s),f=l(i);const d=["math","maction","maligngroup","malignmark","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mlongdiv","mmutiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mscarries","mscarry","msgroup","msline","mspace","msqrt","msrow","mstack","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","semantics","annotation","annotation-xml"],u=new t.Logger("vuepress-plugin-md-enhance"),m=(e,t)=>{const o=e.filePathRelative||e.path,{pages:r}=t,s=e.links.filter((({raw:e})=>e.match(/.md((?:\?|#).*)?$/))),i=[...s.filter((({raw:e})=>!e.startsWith("/"))).filter((({relative:e})=>r.every((({filePathRelative:t})=>t!==e)))),...s.filter((({raw:e})=>e.startsWith("/"))).filter((({absolute:e})=>r.every((({filePathRelative:t})=>!t||`/${t}`!==e))))].map((({raw:e})=>e));i.length&&n.logger.warn(`Broken links found in ${o}: ${i.join(", ")}`)},h=({options:e,deprecatedOption:t,newOption:n,msg:o="",scope:r=""})=>{if(t in e){if(u.warn(`"${t}" is deprecated${r?` in ${r}`:""}, please use "${n}" instead.${o?`\n${o}`:""}`),n.includes(".")){const o=n.split(".");let r=e;o.forEach(((n,s)=>{s!==o.length-1?(r[n]=r[n]||{},r=r[n]):r[n]=e[t]}))}else e[n]=e[t];delete e[t]}},g=(e,t,n="",o="")=>{t in e&&(u.error(`"${t}" is removed${o?`, please use ${o} instead.`:" and no longer supported"}${n?`\n${n}`:""}`),o||delete e[t])},k=(e,{name:t,marker:n=":",validate:o=(e=>e.trim().split(" ",2)[0]===t),openRender:r=((e,n,o,r,s)=>(e[n].attrJoin("class",t),s.renderToken(e,n,o))),closeRender:s=((e,t,n,o,r)=>r.renderToken(e,t,n))}={name:""})=>{const i=n[0],a=n.length;e.block.ruler.before("fence",`container_${t}`,((e,r,s,l)=>{let c=e.bMarks[r]+e.tShift[r],p=e.eMarks[r];if(i!==e.src[c])return!1;let f=c+1;for(;f<=p&&n[(f-c)%a]===e.src[f];)f+=1;const d=Math.floor((f-c)/a);if(d<3)return!1;f-=(f-c)%a;const u=e.src.slice(c,f),m=e.src.slice(f,p);if(!o(m,u))return!1;if(l)return!0;let h=r,g=!1;for(;h<s&&(h+=1,c=e.bMarks[h]+e.tShift[h],p=e.eMarks[h],!(c<p&&e.sCount[h]<e.blkIndent));)if(i===e.src[c]&&e.sCount[h]-e.blkIndent<4){for(f=c+1;f<=p&&n[(f-c)%a]===e.src[f];f++);if(Math.floor((f-c)/a)>=d&&(f-=(f-c)%a,f=e.skipSpaces(f),f>=p)){g=!0;break}}const k=e.parentType,b=e.lineMax;e.parentType="container",e.lineMax=h;const $=e.push(`container_${t}_open`,"div",1);$.markup=u,$.block=!0,$.info=m,$.map=[r,h],e.md.block.tokenize(e,r+1,h);const y=e.push(`container_${t}_close`,"div",-1);return y.markup=e.src.slice(c,f),y.block=!0,e.parentType=k,e.lineMax=b,e.line=h+(g?1:0),!0}),{alt:["paragraph","reference","blockquote","list"]}),e.renderer.rules[`container_${t}_open`]=r,e.renderer.rules[`container_${t}_close`]=s},b=e=>{["left","center","right","justify"].forEach((t=>e.use((e=>k(e,{name:t,openRender:()=>`<div style="text-align: ${t}">`})))))},$=/[^\t\n\f />"'=]/,y=(e,t,{left:n,right:o,allowed:r})=>{let s="",i="",a=!0,l=!1;const c=[];for(let r=t+n.length;r<e.length;r++){if(e.slice(r,r+o.length)===o){""!==s&&c.push([s,i]);break}const t=e.charAt(r);if("="===t&&a)a=!1;else if("."!==t||""!==s)if("#"!==t||""!==s)if('"'!==t||""!==i)if('"'===t&&l)l=!1;else if(" "!==t||l)a&&-1===t.search($)||(a?s+=t:i+=t);else{if(""===s)continue;c.push([s,i]),s="",i="",a=!0}else l=!0;else s="id",a=!1;else"."===e.charAt(r+1)?(s="css-module",r+=1):s="class",a=!1}return r.length?c.filter((([e])=>r.some((t=>t instanceof RegExp?t.test(e):t===e)))):c},v=(e,t)=>{t&&e.forEach((e=>{const[n,o]=e;"class"===n?t.attrJoin("class",o):"css-module"===n?t.attrJoin("css-module",o):t.attrPush(e)}))},x=(e,{left:t,right:n})=>o=>{const r=t.length,s=n.length,i=r+1+s;if(!o||"string"!=typeof o||o.length<i)return!1;let a,l,c,p;const f=i-s;switch(e){case"start":c=o.slice(0,r),a=c===t?0:-1,l=-1===a?-1:o.indexOf(n,f),p=o.charAt(l+s),p&&-1!==n.indexOf(p)&&(l=-1);break;case"end":a=o.lastIndexOf(t),l=-1===a?-1:o.indexOf(n,a+f),l=l===o.length-s?l:-1;break;case"only":c=o.slice(0,r),a=c===t?0:-1,c=o.slice(o.length-s),l=c===n?o.length-s:-1}return-1!==a&&-1!==l&&(e=>{const t="."===e.charAt(r),n="#"===e.charAt(r);return t||n?e.length>=i+1:e.length>=i})(o.substring(a,l+s))},_=(e,t)=>{if("softbreak"===e[t].type)return null;if(0===e[t].nesting)return e[t];const n=e[t].level,o=e[t].type.replace("_close","_open");for(;t>=0;--t)if(e[t].type===o&&e[t].level===n)return e[t];return null},C=e=>Array.isArray(e)&&Boolean(e.length)&&e.every((e=>"object"==typeof e)),w=e=>Array.isArray(e)&&Boolean(e.length)&&e.every((e=>"function"==typeof e)),M=e=>e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),I=e=>[{name:"fenced code blocks",tests:[{shift:0,block:!0,info:x("end",e)}],transform:(t,n)=>{const o=t[n];let r="";const s=o.info.match(/{(?:[\d,-]+)}/);s&&(o.info=o.info.replace(s[0],""),r=s[0]);const i=o.info.lastIndexOf(e.left),a=y(o.info,i,e);v(a,o),o.info=`${r} ${((e,{left:t,right:n})=>{const o=M(t),r=M(n),s=e.search(new RegExp(`[ \\n]?${o}[^${o}${r}]+${r}$`));return-1!==s?e.slice(0,s):e})(o.info,e)}`}},{name:"inline nesting 0",tests:[{shift:0,type:"inline",children:[{shift:-1,type:e=>"image"===e||"code_inline"===e},{shift:0,type:"text",content:x("start",e)}]}],transform:(t,n,o)=>{const r=t[n].children[o],s=r.content.indexOf(e.right),i=t[n].children[o-1],a=y(r.content,0,e);v(a,i),r.content.length===s+e.right.length?t[n].children.splice(o,1):r.content=r.content.slice(s+e.right.length)}},{name:"tables",tests:[{shift:0,type:"table_close"},{shift:1,type:"paragraph_open"},{shift:2,type:"inline",content:x("only",e)}],transform:(t,n)=>{const o=t[n+2],r=_(t,n),s=y(o.content,0,e);v(s,r),t.splice(n+1,3)}},{name:"inline attributes",tests:[{shift:0,type:"inline",children:[{shift:-1,nesting:-1},{shift:0,type:"text",content:x("start",e)}]}],transform:(t,n,o)=>{const r=t[n].children[o],{content:s}=r,i=y(s,0,e),a=_(t[n].children,o-1);v(i,a),r.content=s.slice(s.indexOf(e.right)+e.right.length)}},{name:"list softbreak",tests:[{shift:-2,type:"list_item_open"},{shift:0,type:"inline",children:[{position:-2,type:"softbreak"},{position:-1,type:"text",content:x("only",e)}]}],transform:(t,n,o)=>{const r=t[n].children[o],s=y(r.content,0,e);let i=n-2;for(;t[i-1]&&"ordered_list_open"!==t[i-1].type&&"bullet_list_open"!==t[i-1].type;)i--;v(s,t[i-1]),t[n].children=t[n].children.slice(0,-2)}},{name:"list double softbreak",tests:[{shift:0,type:e=>"bullet_list_close"===e||"ordered_list_close"===e},{shift:1,type:"paragraph_open"},{shift:2,type:"inline",content:x("only",e),children:e=>1===e.length},{shift:3,type:"paragraph_close"}],transform:(t,n)=>{const o=t[n+2],r=y(o.content,0,e),s=_(t,n);v(r,s),t.splice(n+1,3)}},{name:"list item end",tests:[{shift:-2,type:"list_item_open"},{shift:0,type:"inline",children:[{position:-1,type:"text",content:x("end",e)}]}],transform:(t,n,o)=>{const r=t[n].children[o],{content:s}=r,i=y(s,s.lastIndexOf(e.left),e);v(i,t[n-2]);const a=s.slice(0,s.lastIndexOf(e.left));r.content=" "===a[a.length-1]?a.slice(0,-1):a}},{name:"\n{.a} softbreak then curly in start",tests:[{shift:0,type:"inline",children:[{position:-2,type:"softbreak"},{position:-1,type:"text",content:x("only",e)}]}],transform:(t,n,o)=>{const r=t[n].children[o],s=y(r.content,0,e);let i=n+1;for(;t[i+1]&&-1===t[i+1].nesting;)i++;const a=_(t,i);v(s,a),t[n].children=t[n].children.slice(0,-2)}},{name:"horizontal rule",tests:[{shift:0,type:"paragraph_open"},{shift:1,type:"inline",children:e=>1===e.length,content:t=>null!==t.match(new RegExp(`^ {0,3}[-*_]{3,} ?${M(e.left)}[^${M(e.right)}]`))},{shift:2,type:"paragraph_close"}],transform:(t,n)=>{const o=t[n];o.type="hr",o.tag="hr",o.nesting=0;const{content:r}=t[n+1],s=r.lastIndexOf(e.left),i=y(r,s,e);v(i,o),o.markup=r,t.splice(n+1,2)}},{name:"end of block",tests:[{shift:0,type:"inline",children:[{position:-1,content:x("end",e),type:e=>"code_inline"!==e&&"math_inline"!==e}]}],transform:(t,n,o)=>{const r=t[n].children[o],{content:s}=r,i=y(s,s.lastIndexOf(e.left),e);let a=n+1;for(;t[a+1]&&-1===t[a+1].nesting;)a++;const l=_(t,a);v(i,l);const c=s.slice(0,s.lastIndexOf(e.left));r.content=" "===c[c.length-1]?c.slice(0,-1):c}}],A=(e,t,n)=>{const o={match:!1,pos:null},r=void 0!==n.shift?t+n.shift:n.position;if(void 0!==n.shift&&r<0)return o;const s=(i=e,(a=r)>=0?i[a]:i[i.length+a]);var i,a;if(void 0===s)return o;for(const e of Object.keys(n)){if("shift"===e||"position"===e)continue;if(void 0===s[e])return o;if("children"===e&&C(n.children)){if(0===s.children?.length)return o;let e;const t=n.children,r=s.children;if(t?.every((e=>void 0!==e.position))){if(e=t.every((e=>A(r,e.position,e).match)),e){const e=t[t.length-1]?.position||0;o.pos=e>=0?e:r.length+e}}else for(let n=0;n<r.length;n++)if(e=t.every((e=>A(r,n,e).match)),e){o.pos=n;break}if(!1===e)return o;continue}const t=n[e];switch(typeof t){case"boolean":case"number":case"string":if(s[e]!==t)return o;break;case"function":if(!t(s[e]))return o;break;case"object":if(w(t)){if(!1===t.every((t=>t(s[e]))))return o;break}continue;default:throw new Error(`Unknown type of pattern test (key: ${e}). Test should be of type boolean, number, string, function or array of functions.`)}}return o.match=!0,o},S=(e,{left:t="{",right:n="}",allowed:o=[]}={})=>{const r=I({left:t,right:n,allowed:o});e.core.ruler.before("linkify","curly_attributes",(e=>{const t=e.tokens;for(let e=0;e<t.length;e++)for(let n=0;n<r.length;n++){const o=r[n];let s=null;o.tests.every((n=>{const o=A(t,e,n);return null!==o.pos&&(s=o.pos),o.match}))&&(o.transform(t,e,s),"inline attributes"!==o.name&&"inline nesting 0"!==o.name||n--)}}))},j=e=>{k(e,{name:"chart",openRender:(e,t)=>{const o=e[t].info.trimStart().slice(5).trim(),r=`chart-${n.hash(t)}`;let s="{}",i="";for(let n=t;n<e.length;n++){const{type:t,content:o,info:r}=e[n];if("container_chart_close"===t)break;o&&("fence"===t&&("json"===r?(s=encodeURIComponent(o),i="json"):"js"!==r&&"javascript"!==r||(s=encodeURIComponent(o),i="js")),e[n].type="chart_empty",e[n].hidden=!0)}return`<ChartJS id="${r}" config="${s}" ${o?`title="${encodeURIComponent(o)}" `:""}type="${i}">`},closeRender:()=>"</ChartJS>"})},O={useBabel:!1,jsLib:[],cssLib:[],codepenLayout:"left",codepenEditors:"101",babel:"https://unpkg.com/@babel/standalone/babel.min.js",vue:"https://unpkg.com/vue/dist/vue.global.prod.js",react:"https://unpkg.com/react/umd/react.production.min.js",reactDOM:"https://unpkg.com/react-dom/umd/react-dom.production.min.js"},R=e=>t=>k(t,{name:e,openRender:(t,o)=>{const r=t[o].info.trimStart().slice(e.length).trim();let s="";const i={};for(let n=o;n<t.length;n++){const{type:o,content:r,info:a}=t[n];if(o===`container_${e}_close`)break;r&&("fence"===o&&("json"===a?s=encodeURIComponent(r):i[a]=r))}return`\n<CodeDemo id="code-demo-${n.hash(i)}" type="${e.split("-")[0]}"${r?` title="${encodeURIComponent(r)}"`:""}${s?` config="${s}"`:""} code="${encodeURIComponent(JSON.stringify(i))}">\n`},closeRender:()=>"</CodeDemo>"}),E=R("normal-demo"),D=R("vue-demo"),T=R("react-demo"),P=(e,{name:t,component:n,getter:o}={name:"tabs",component:"Tabs",getter:()=>[]})=>{const r="@tab";e.block.ruler.before("fence",`${t}_tabs`,((e,o,r,s)=>{let i=e.bMarks[o]+e.tShift[o],a=e.eMarks[o];if(":"!==e.src[i])return!1;let l=i+1;for(;l<=a&&":"===e.src[l];)l+=1;const c=l-i;if(c<3)return!1;const p=e.src.slice(i,l),f=e.src.slice(l,a),[d,u=""]=f.split("#",2);if(d.trim()!==t)return!1;if(s)return!0;let m=o,h=!1;for(;m<r&&(m+=1,i=e.bMarks[m]+e.tShift[m],a=e.eMarks[m],!(i<a&&e.sCount[m]<e.blkIndent));)if(":"===e.src[i]&&e.sCount[m]-e.blkIndent<4){for(l=i+1;l<=a&&":"===e.src[l];l++);if(l-i>=c&&(l=e.skipSpaces(l),l>=a)){h=!0;break}}const g=e.parentType,k=e.lineMax;e.parentType=`${t}_tabs`,e.lineMax=m-(h?1:0);const b=e.push(`${t}_tabs_open`,n,1);b.markup=p,b.block=!0,b.info=d,b.meta={id:u.trim()},b.map=[o,m-(h?1:0)],e.md.block.tokenize(e,o+1,m-(h?1:0));const $=e.push(`${t}_tabs_close`,n,-1);return $.markup=e.src.slice(i,l),$.block=!0,e.parentType=g,e.lineMax=k,e.line=m+(h?1:0),!0}),{alt:["paragraph","reference","blockquote","list"]}),e.block.ruler.__rules__.find((({name:e})=>"tab"===e))||e.block.ruler.before("fence","tab",((e,t,n,o)=>{let s,i=e.bMarks[t]+e.tShift[t],a=e.eMarks[t];if("@"!==e.src.charAt(i))return!1;for(s=0;s<r.length;s++)if(r[s]!==e.src[i+s])return!1;const l=e.src.slice(i,i+s),c=e.src.slice(i+s,a);if(o)return!0;let p=t,f=!1;for(;p<n&&(p+=1,i=e.bMarks[p]+e.tShift[p],a=e.eMarks[p],!(i<a&&e.sCount[p]<e.blkIndent));)if("@"===e.src[i]&&e.sCount[p]<=e.sCount[t]){let t=!0;for(s=0;s<r.length;s++)if(r[s]!==e.src[i+s]){t=!1;break}if(t){f=!0,p-=1;break}}const d=e.parentType,u=e.lineMax;e.parentType="tab",e.lineMax=p;const m=e.push("tab_open","template",1),[h,g]=c.replace(/^:active/,"").split("#",2);m.block=!0,m.markup=l,m.info=h.trim(),m.meta={active:c.includes(":active")},g&&(m.meta.value=g.trim()),m.map=[t,p],e.md.block.tokenize(e,t+1,p);const k=e.push("tab_close","template",-1);return k.block=!0,k.markup="",e.parentType=d,e.lineMax=u,e.line=p+(f?1:0),!0}),{alt:["paragraph","reference","blockquote","list"]}),e.renderer.rules[`${t}_tabs_open`]=(e,r,s,i,a)=>{const{meta:l}=e[r],c=[],p=o(e,r,s,i,a);let f=-1,d=!1;for(let n=r;n<e.length;n++){const{block:o,meta:r,type:s,info:i}=e[n];if(o){if(s===`${t}_tabs_close`)break;if(s===`${t}_tabs_open`)continue;if("tab_open"===s){r.active&&(f=c.length),e[n].attrPush([`#tab${c.length}`,"{ title, value, isActive }"]),d=!0,c.push({title:i,...r.value?{value:r.value}:{}});continue}if("tab_close"===s)continue;d||(e[n].type=`${t}_tabs_empty`,e[n].hidden=!0)}}return`<${n} :data='${JSON.stringify(c.map(((e,t)=>({...e,...p[t]})))).replace(/'/g,"&#39")}'${-1!==f?` :active="${f}"`:""}${l.id?` tab-id="${l.id}"`:""}>\n`},e.renderer.rules[`${t}_tabs_close`]=()=>`</${n}>\n`},z=e=>{P(e,{name:"code-tabs",component:"CodeTabs",getter:(e,t)=>{let n=!1,o=!1;for(let r=t;r<e.length;r++){const{block:t,type:s}=e[r];if(t){if("code-tabs_tabs_close"===s)break;if("tab_close"===s){n=!1;continue}if("tab_open"===s){n=!0,o=!1;continue}if(n&&"fence"===s&&!o){o=!0;continue}e[r].type="code_tab_empty",e[r].hidden=!0}}return[]}})},N=e=>(t,n,r,s)=>{const i=t[n];if(1===i.nesting){let t=i.info.trim().slice(7).trim();if(!t&&e){const{filePathRelative:n}=s,r=o.ensureLeadingSlash(n??""),i=o.resolveLocalePath(e,r);t=(e[i]??{}).defaultInfo||"Details"}return`<details class="custom-container details"><summary>${t||"Details"}</summary>\n`}return"</details>\n"},L=e=>{k(e,{name:"echarts",openRender:(e,t)=>{const o=e[t].info.trimStart().slice(7).trim(),r=`echarts-${n.hash(t)}`;let s="{}",i="";for(let n=t;n<e.length;n++){const{type:t,content:o,info:r}=e[n];if("container_echarts_close"===t)break;o&&("fence"===t&&("json"===r?(s=encodeURIComponent(o),i="json"):"js"!==r&&"javascript"!==r||(s=encodeURIComponent(o),i="js")),e[n].type="echarts_empty",e[n].hidden=!0)}return`<ECharts id="${r}" config="${s}" ${o?`title="${encodeURIComponent(o)}" `:""}type="${i}">`},closeRender:()=>"</ECharts>"})},F=(e,t)=>{const o=e[t],r=`flowchart-${n.hash(t)}`,{content:s,info:i}=o;return`<FlowChart id="${r}" code="${encodeURIComponent(s)}" preset="${i.trim().split(":",2)[1]||"vue"}"></FlowChart>`},U=e=>{const t=e.renderer.rules.fence;e.renderer.rules.fence=(...e)=>{const[n,o]=e,{info:r}=n[o],s=r.split(":",2)[0];return"flow"===s||"flowchart"===s?F(n,o):t(...e)},e.renderer.rules.flowchart=F},q=(e,t)=>e[t].meta.subId>0?`:${e[t].meta.subId}`:"",B=(e,t,n,o)=>`${"string"==typeof o.docId?`-${o.docId}-`:""}${(e[t].meta.id+1).toString()}`,G=(e,t)=>`[${(e[t].meta.id+1).toString()}${q(e,t)}]`,J=(e,t,n,o,r)=>{const s=r.rules.footnoteAnchorName(e,t,n,o,r);return`<sup class="footnote-ref"><a href="#footnote${s}">${r.rules.footnoteCaption(e,t,n,o,r)}</a><a class="footnote-anchor" id="footnote-ref${s}${q(e,t)}" /></sup>`},V=(e,t,n)=>(n.xhtmlOut?'<hr class="footnotes-sep" />\n':'<hr class="footnotes-sep">\n')+'<section class="footnotes">\n<ol class="footnotes-list">\n',W=()=>"</ol>\n</section>\n",X=(e,t,n,o,r)=>`<li id="footnote${r.rules.footnoteAnchorName(e,t,n,o,r)}${q(e,t)}" class="footnote-item">`,Y=()=>"</li>\n",H=(e,t,n,o,r)=>` <a href="#footnote-ref${r.rules.footnoteAnchorName(e,t,n,o,r)}${q(e,t)}" class="footnote-backref">↩︎</a>`,K=(e,t,n,o)=>{let r,s,i,a;const l=e.bMarks[t]+e.tShift[t],p=e.eMarks[t];if(l+4>p)return!1;if("["!==e.src.charAt(l))return!1;if("^"!==e.src.charAt(l+1))return!1;for(r=l+2;r<p;r++){if(" "===e.src.charAt(r))return!1;if("]"===e.src.charAt(r))break}if(r===l+2)return!1;if(r+1>=p||":"!==e.src.charAt(++r))return!1;if(o)return!0;r+=1,e.env.footnotes||(e.env.footnotes={}),e.env.footnotes.refs||(e.env.footnotes.refs={});const f=e.src.slice(l+2,r-2);e.env.footnotes.refs[`:${f}`]=-1,s=new c.default("footnoteReferenceOpen","",1),s.meta={label:f},s.level=e.level++,e.tokens.push(s);const d=e.bMarks[t],u=e.tShift[t],m=e.sCount[t],h=e.parentType,g=r,k=e.sCount[t]+r-(e.bMarks[t]+e.tShift[t]);for(i=e.sCount[t]+r-(e.bMarks[t]+e.tShift[t]);r<p;){if(a=e.src.charAt(r),"\t"===a)i+=4-i%4;else{if(" "!==a)break;i+=1}r+=1}return e.tShift[t]=r-g,e.sCount[t]=i-k,e.bMarks[t]=g,e.blkIndent+=4,e.parentType="footnote",e.sCount[t]<e.blkIndent&&(e.sCount[t]+=e.blkIndent),e.md.block.tokenize(e,t,n),e.parentType=h,e.blkIndent-=4,e.tShift[t]=u,e.sCount[t]=m,e.bMarks[t]=d,s=new c.default("footnoteReferenceClose","",-1),s.level=--e.level,e.tokens.push(s),!0},Q=(e,t)=>{let n,o,r;const s=e.posMax,i=e.pos;if(i+2>=s)return!1;if("^"!==e.src.charAt(i))return!1;if("["!==e.src.charAt(i+1))return!1;const a=i+2,l=p.default(e,i+1);return!(l<0)&&(t||(e.env.footnotes||(e.env.footnotes={}),e.env.footnotes.list||(e.env.footnotes.list=[]),n=e.env.footnotes.list.length,e.md.inline.parse(e.src.slice(a,l),e.md,e.env,r=[]),o=e.push("footnoteRef","",0),o.meta={id:n},e.env.footnotes.list[n]={content:e.src.slice(a,l),tokens:r}),e.pos=l+1,e.posMax=s,!0)},Z=(e,t)=>{let n,o,r,s;const i=e.posMax,a=e.pos;if(a+3>i)return!1;if(!e.env.footnotes||!e.env.footnotes.refs)return!1;if("["!==e.src.charAt(a))return!1;if("^"!==e.src.charAt(a+1))return!1;for(n=a+2;n<i;n++){if(" "===e.src.charAt(n))return!1;if("\n"===e.src.charAt(n))return!1;if("]"===e.src.charAt(n))break}if(n===a+2)return!1;if(n>=i)return!1;n+=1;const l=e.src.slice(a+2,n-1);return void 0!==e.env.footnotes.refs[`:${l}`]&&(t||(e.env.footnotes.list||(e.env.footnotes.list=[]),e.env.footnotes.refs[`:${l}`]<0?(o=e.env.footnotes.list.length,e.env.footnotes.list[o]={label:l,count:0},e.env.footnotes.refs[`:${l}`]=o):o=e.env.footnotes.refs[`:${l}`],r=e.env.footnotes.list[o].count,e.env.footnotes.list[o].count=e.env.footnotes.list[o].count+1,s=e.push("footnoteRef","",0),s.meta={id:o,subId:r,label:l}),e.pos=n,e.posMax=i,!0)},ee=e=>{let t,n,o,r,s,i=!1;const a={};if(!e.env.footnotes)return!1;if(e.tokens=e.tokens.filter((e=>"footnoteReferenceOpen"===e.type?(i=!0,r=[],s=e.meta.label,!1):"footnoteReferenceClose"===e.type?(i=!1,a[`:${s}`]=r,!1):(i&&r.push(e),!i))),!e.env.footnotes.list)return!1;const{list:l}=e.env.footnotes;n=new c.default("footnoteBlockOpen","",1),e.tokens.push(n);for(let r=0,{length:s}=l;r<s;r++){n=new c.default("footnoteOpen","",1),n.meta={id:r,label:l[r].label},e.tokens.push(n),l[r].tokens?(o=[],n=new c.default("paragraph_open","p",1),n.block=!0,o.push(n),n=new c.default("inline","",0),n.children=l[r].tokens,n.content=l[r].content,o.push(n),n=new c.default("paragraph_close","p",-1),n.block=!0,o.push(n)):o=l[r].label?a[`:${l[r].label}`]:[],o&&(e.tokens=e.tokens.concat(o)),t="paragraph_close"===e.tokens[e.tokens.length-1].type&&e.tokens.pop()||null;for(let t=0;t<(Number(l[r].count)>0?l[r].count:1);t++)n=new c.default("footnoteAnchor","",0),n.meta={id:r,subId:t,label:l[r].label},e.tokens.push(n);t&&e.tokens.push(t),n=new c.default("footnoteClose","",-1),e.tokens.push(n)}return n=new c.default("footnoteBlockClose","",-1),e.tokens.push(n),!0},te=e=>{e.renderer.rules.footnoteRef=J,e.renderer.rules.footnoteBlockOpen=V,e.renderer.rules.footnoteBlockClose=W,e.renderer.rules.footnoteOpen=X,e.renderer.rules.footnoteClose=Y,e.renderer.rules.footnoteAnchor=H,e.renderer.rules.footnoteCaption=G,e.renderer.rules.footnoteAnchorName=B,e.block.ruler.before("reference","footnoteDef",K,{alt:["paragraph","reference"]}),e.inline.ruler.after("image","footnoteInline",Q),e.inline.ruler.after("footnoteInline","footnoteRef",Z),e.core.ruler.after("inline","footnoteTail",ee)},ne=(e,{light:t=["gh-light-mode-only","light"],dark:n=["gh-dark-mode-only","dark"]}={})=>{const o=e.renderer.rules.image;e.renderer.rules.image=(e,r,s,i,a)=>{const l=e[r],c=l.attrGet("src");return c&&(t.some((e=>c.endsWith(`#${e}`)))?(l.attrSet("data-mode","lightmode-only"),l.attrSet("src",c.replace(/#.*?$/,""))):n.some((e=>c.endsWith(`#${e}`)))&&(l.attrSet("data-mode","darkmode-only"),l.attrSet("src",c.replace(/#.*?$/,"")))),o(e,r,s,i,a)}},oe=(e,t,n)=>{let o;const r=t,s={ok:!1,pos:t,value:""};for(o=e.charCodeAt(t);t<n&&o>=48&&o<=57||37===o;)o=e.charCodeAt(++t);return s.ok=!0,s.pos=t,s.value=e.slice(r,t),s},re=(e,t)=>{const n=e.env,o=e.pos,r=e.posMax;if("!"!==e.src.charAt(e.pos))return!1;if("["!==e.src.charAt(e.pos+1))return!1;const s=e.pos+2,i=e.md.helpers.parseLinkLabel(e,e.pos+1,!1);if(i<0)return!1;let a,l=i+1,c="",p="",f="",d="";if(l<r&&"("===e.src.charAt(l)){for(l+=1;l<r&&(a=e.src.charCodeAt(l),e.md.utils.isSpace(a)||10===a);l++);if(l>=r)return!1;let t;t=e.md.helpers.parseLinkDestination(e.src,l,e.posMax),t.ok&&(c=e.md.normalizeLink(t.str),e.md.validateLink(c)?l=t.pos:c="");const n=l;for(;l<r&&(a=e.src.charCodeAt(l),e.md.utils.isSpace(a)||10===a);l++);if(t=e.md.helpers.parseLinkTitle(e.src,l,e.posMax),l<r&&n!==l&&t.ok)for(p=t.str,l=t.pos;l<r&&(a=e.src.charCodeAt(l),e.md.utils.isSpace(a)||10===a);l++);else p="";if(l-1>=0&&(a=e.src.charCodeAt(l-1),32===a&&(t=((e,t,n)=>{const o={ok:!1,pos:0,width:"",height:""};if(t>=n)return o;if("="!==e.charAt(t))return o;t+=1;const r=e.charCodeAt(t);if(120!==r&&(r<48||r>57))return o;const s=oe(e,t,n);if(t=s.pos,"x"!==e.charAt(t))return o;const i=oe(e,t+=1,n);return t=i.pos,o.width=s.value,o.height=i.value,o.pos=t,o.ok=!0,o})(e.src,l,e.posMax),t.ok)))for(f=t.width,d=t.height,l=t.pos;l<r&&(a=e.src.charCodeAt(l),32===a||10===a);l++);if(l>=r||")"!==e.src.charAt(l))return e.pos=o,!1;l+=1}else{let t="";if(void 0===n.references)return!1;if(l<r&&"["===e.src.charAt(l)){const n=l+1;l=e.md.helpers.parseLinkLabel(e,l),l>=0?t=e.src.slice(n,l++):l=i+1}else l=i+1;t||(t=e.src.slice(s,i));const a=n.references[e.md.utils.normalizeReference(t)];if(!a)return e.pos=o,!1;c=a.href,p=a.title||""}if(!t){const t=e.src.slice(s,i),n=[];e.md.inline.parse(t,e.md,e.env,n);const o=e.push("image","img",0);o.attrs=[["src",c],["alt",""]],p&&o.attrs.push(["title",p]),""!==f&&o.attrs.push(["width",f]),""!==d&&o.attrs.push(["height",d]),o.children=n,o.content=t}return e.pos=l,e.posMax=r,!0},se=e=>{e.inline.ruler.before("emphasis","image",re)},ie=/\r\n?|\n/g,ae=/\\([ \\!"#$%&'()*+,./:;<=>?@[\]^_`{|}~-])/gu,le=(e,t,n)=>{const o=e.attrIndex(t),r=[t,n];o<0?e.attrPush(r):e.attrs[o]=r},ce=(e,t)=>{const n=e[t].level-1;for(let o=t-1;o>=0;o--)if(e[o].level===n)return o;return-1},pe=e=>e.replace(/&/gu,"&amp;").replace(/</gu,"&lt;").replace(/>/gu,"&gt;").replace(/"/gu,"&quot;").replace(/'/gu,"&#039;"),fe=(e,t)=>{const n=t>0?e.src.charAt(t-1):"",o=t+1<=e.posMax?e.src.charAt(t+1):"";return{canOpen:" "!==o&&"\t"!==o,canClose:!(" "===n||"\t"===n||/[0-9]/u.exec(o))}},de=(e,t)=>{let n,o,r,s;if("$"!==e.src[e.pos])return!1;if(r=fe(e,e.pos),!r.canOpen)return t||(e.pending+="$"),e.pos+=1,!0;const i=e.pos+1;for(n=i;-1!==(n=e.src.indexOf("$",n));){for(o=n-1;"\\"===e.src[o];)o-=1;if((n-o)%2==1)break;n+=1}return-1===n?(t||(e.pending+="$"),e.pos=i,!0):n-i==0?(t||(e.pending+="$$"),e.pos=i+1,!0):(r=fe(e,n),r.canClose?(t||(s=e.push("math_inline","math",0),s.markup="$",s.content=e.src.slice(i,n)),e.pos=n+1,!0):(t||(e.pending+="$"),e.pos=i,!0))},ue=(e,t,n,o)=>{let r,s,i,a,l=!1,c=e.bMarks[t]+e.tShift[t],p=e.eMarks[t];if(c+2>p)return!1;if("$$"!==e.src.slice(c,c+2))return!1;if(c+=2,r=e.src.slice(c,p),o)return!0;for(r.trim().endsWith("$$")&&(r=r.trim().slice(0,-2),l=!0),i=t;!l&&(i+=1,!(i>=n))&&(c=e.bMarks[i]+e.tShift[i],p=e.eMarks[i],!(c<p&&e.tShift[i]<e.blkIndent));)e.src.slice(c,p).trim().endsWith("$$")&&(a=e.src.slice(0,p).lastIndexOf("$$"),s=e.src.slice(c,a),l=!0);e.line=i+1;const f=e.push("math_block","math",0);return f.block=!0,f.content=(r?.trim()?`${r}\n`:"")+e.getLines(t+1,i,e.tShift[t],!0)+(s?.trim()?s:""),f.map=[t,e.line],f.markup="$$",!0},me=(e,t={throwOnError:!1})=>{e.inline.ruler.after("escape","math_inline",de),e.block.ruler.after("blockquote","math_block",ue,{alt:["paragraph","reference","blockquote","list"]}),e.renderer.rules.math_inline=(e,n)=>((e,t)=>{try{return f.default.renderToString(e,{...t,displayMode:!1})}catch(n){return t.throwOnError&&console.warn(n),`<span class='katex-error' title='${pe(n.toString())}'>${pe(e)}</span>`}})(e[n].content,t),e.renderer.rules.math_block=(e,n)=>`${((e,t)=>{try{return`<p class='katex-block'>${f.default.renderToString(e,{...t,displayMode:!0,strict:e=>"newLineInDisplayMode"===e?"ignore":"warn"})}</p>`}catch(n){return t.throwOnError&&console.warn(n),`<p class='katex-block katex-error' title='${pe(n.toString())}'>${pe(e)}</p>`}})(e[n].content,t)}\n`},he=e=>{const t=e.renderer.rules.image;e.renderer.rules.image=(e,n,o,r,s)=>(e[n].attrSet("loading","lazy"),t(e,n,o,r,s))},ge=(e,t)=>{const n=e.pos,o=e.src.charAt(n);if(t||"="!==o)return!1;const r=e.scanDelims(e.pos,!0);let s,{length:i}=r;if(i<2)return!1;i%2&&(s=e.push("text","",0),s.content=o,i-=1);for(let t=0;t<i;t+=2)s=e.push("text","",0),s.content=`${o}${o}`,(r.can_open||r.can_close)&&e.delimiters.push({marker:61,length:0,jump:t/2,token:e.tokens.length-1,end:-1,open:r.can_open,close:r.can_close});return e.pos+=r.length,!0},ke=(e,t)=>{let n;const o=[],r=t.length;for(let s=0;s<r;s++){const r=t[s];if(61===r.marker&&-1!==r.end){const s=t[r.end];n=e.tokens[r.token],n.type="mark_open",n.tag="mark",n.nesting=1,n.markup="==",n.content="",n=e.tokens[s.token],n.type="mark_close",n.tag="mark",n.nesting=-1,n.markup="==",n.content="","text"===e.tokens[s.token-1].type&&"="===e.tokens[s.token-1].content&&o.push(s.token-1)}}for(;o.length;){const t=o.pop();let r=t+1;for(;r<e.tokens.length&&"mark_close"===e.tokens[r].type;)r+=1;r-=1,t!==r&&(n=e.tokens[r],e.tokens[r]=e.tokens[t],e.tokens[t]=n)}},be=e=>{e.inline.ruler.before("emphasis","mark",ge),e.inline.ruler2.before("emphasis","mark",(e=>{const t=e.tokens_meta||[];ke(e,e.delimiters);for(let n=0;n<t.length;n++){const o=t[n];o?.delimiters&&ke(e,o.delimiters)}return!0}))},$e=/^@include\(([^)]*?)(?:\{(\d+)?-(\d+)?\})?\)$/,ye=({filePath:e,lineStart:t,lineEnd:o},{cwd:r,includedFiles:s})=>{let i=e;if(!n.path.isAbsolute(e)){if(!r)return console.error(`Include: Error when resolving path: ${e}`),"\nError when resolving path\n";i=n.path.resolve(r,e)}if(s.push(i),!n.fs.existsSync(i))return console.error(`Include: ${i} not found`),"\nFile not found\n";return n.fs.readFileSync(i).toString().replace(ie,"\n").split("\n").slice(t?t-1:t,o).join("\n").replace(/\n?$/,"\n")},ve=(e,t,{cwd:o,includedFiles:r})=>e.split("\n").map((e=>{if(e.startsWith("@include")){const s=e.match($e);if(s){const[,e,i,a]=s,l=t.getPath(e),c=ye({filePath:l,lineStart:i?Number.parseInt(i,10):0,lineEnd:a?Number.parseInt(a,10):void 0},{cwd:o,includedFiles:r});return t.deep&&l.endsWith(".md")?ve(c,t,{cwd:n.path.isAbsolute(l)?n.path.dirname(l):o?n.path.resolve(o,n.path.dirname(l)):null,includedFiles:r}):c}}return e})).join("\n"),xe=e=>t=>{const o=t.env,r=o.includedFiles||(o.includedFiles=[]);t.src=ve(t.src,e,{cwd:o.filePath?n.path.dirname(o.filePath):null,includedFiles:r})},_e=(e,{getPath:t=(e=>e),deep:n=!1}={})=>{e.core.ruler.after("normalize","md_import",xe({getPath:t,deep:n}))},Ce=(e,t)=>{const o=e[t],r=`mermaid-${n.hash(t)}`,{content:s}=o;return`<Mermaid id="${r}" code="${encodeURIComponent(s)}"></Mermaid>`},we=(e,t,o)=>`<Mermaid id="mermaid-${n.hash(o)}" code="${encodeURIComponent(`${e}\n${t.split("\n").map((e=>e?`  ${e}`:"")).join("\n")}`)}"></Mermaid>`,Me=e=>{const t=e.renderer.rules.fence;e.renderer.rules.fence=(...e)=>{const[n,o]=e,{content:r,info:s}=n[o];return"mermaid"===s.trim()?Ce(...e):"sequence"===s.trim()?we("sequenceDiagram",r,o):"class"===s.trim()?we("classDiagram",r,o):"state"===s.trim()?we("stateDiagram-v2",r,o):"er"===s.trim()?we("erDiagram",r,o):"journey"===s.trim()?we("journey",r,o):"gantt"===s.trim()?we("gantt",r,o):"pie"===s.trim()?we("pie",r,o):"git-graph"===s.trim()?we("gitGraph",r,o):"c4c"===s.trim()?we("C4Context",r,o):t(...e)},e.renderer.rules.mermaid=Ce},Ie=(e,{name:t,open:n,close:o,render:r}={name:"uml",open:"start",close:"end",render:(e,t)=>{const n=e[t],{content:o,info:r,type:s}=n;return`<div class="${s}" title="${r}">${o}</div>`}})=>{const s=`@${n}`,i=`@${o}`;e.block.ruler.before("fence",t,((e,n,o,r)=>{let a,l=!1,c=e.bMarks[n]+e.tShift[n],p=e.eMarks[n];if("@"!==e.src.charAt(c))return!1;for(a=0;a<s.length;++a)if(s[a]!==e.src[c+a])return!1;const f=e.src.slice(c,c+a),d=e.src.slice(c+a,p);if(r)return!0;let u=n;for(;u<o&&(c=e.bMarks[u]+e.tShift[u],p=e.eMarks[u],!(c<p&&e.sCount[u]<e.blkIndent));){if("@"===e.src.charAt(c)&&e.sCount[u]<=e.sCount[n]){let t=!0;for(a=0;a<i.length;++a)if(i[a]!==e.src[c+a]){t=!1;break}if(t&&e.skipSpaces(c+a)>=p){l=!0;break}}u+=1}const m=e.src.split("\n").slice(n+1,u).join("\n"),h=e.push(t,"fence",0);return h.block=!0,h.info=d,h.content=m,h.map=[n,u],h.markup=f,e.line=u+(l?1:0),!0}),{alt:["paragraph","reference","blockquote","list"]}),e.renderer.rules[t]=r},Ae=e=>{e.use(Ie,{name:"presentation",open:"slidestart",close:"slideend",render:(e,t)=>{const o=e[t],r=`presentation-${n.hash(t)}`,{content:s,info:i}=o;return`<Presentation id="${r}" data-code="${encodeURIComponent(s)}" theme="${i.trim()||"auto"}"></Presentation>`}})},Se=(e,t)=>{let n,o;const r=e.posMax,s=e.pos;if("~"!==e.src.charAt(s))return!1;if(t)return!1;if(s+2>=r)return!1;for(e.pos=s+1;e.pos<r;){if("~"===e.src.charAt(e.pos)){n=!0;break}e.md.inline.skipToken(e)}if(!n||s+1===e.pos)return e.pos=s,!1;const i=e.src.slice(s+1,e.pos);return/(^|[^\\])(\\\\)*\s/u.exec(i)?(e.pos=s,!1):(e.posMax=e.pos,e.pos=s+1,o=e.push("sub_open","sub",1),o.markup="~",o=e.push("text","",0),o.content=i.replace(ae,"$1"),o=e.push("sub_close","sub",-1),o.markup="~",e.pos=e.posMax+1,e.posMax=r,!0)},je=e=>{e.inline.ruler.after("emphasis","sub",Se)},Oe=(e,t)=>{let n,o;const r=e.posMax,s=e.pos;if("^"!==e.src.charAt(s))return!1;if(t)return!1;if(s+2>=r)return!1;for(e.pos=s+1;e.pos<r;){if("^"===e.src.charAt(e.pos)){n=!0;break}e.md.inline.skipToken(e)}if(!n||s+1===e.pos)return e.pos=s,!1;const i=e.src.slice(s+1,e.pos);return/(^|[^\\])(\\\\)*\s/u.exec(i)?(e.pos=s,!1):(e.posMax=e.pos,e.pos=s+1,o=e.push("sup_open","sup",1),o.markup="^",o=e.push("text","",0),o.content=i.replace(ae,"$1"),o=e.push("sup_close","sup",-1),o.markup="^",e.pos=e.posMax+1,e.posMax=r,!0)},Re=e=>{e.inline.ruler.after("emphasis","sup",Oe)},Ee=(e,t)=>"inline"===e[t]?.type&&(e=>"paragraph_open"===e?.type)(e[t-1])&&(e=>"list_item_open"===e?.type)(e[t-2])&&(e=>/^\[[xX \u00A0]\][ \u00A0]/.test(e.content))(e[t]),De=(e,t,n)=>{const o="task-item-"+t.env.tasklists++;e.children=e.children||[],e.children[0].content=e.children[0].content.slice(3),n.label&&(e.children.unshift((e=>{const t=new c.default("label_open","label",1);return t.attrs=[["class","task-list-item-label"],["for",e]],t})(o)),e.children.push(new c.default("label_close","label",-1))),e.children.unshift(((e,t,n=!0)=>{const o=new c.default("checkbox_input","input",0);return o.attrs=[["type","checkbox"],["class","task-list-item-checkbox"],["id",t]],/^\[[xX]\][ \u00A0]/.test(e.content)&&o.attrs.push(["checked","checked"]),n&&o.attrs.push(["disabled","disabled"]),o})(e,o,n.disabled))},Te=(e,{disabled:t=!0,label:n=!0}={})=>{e.core.ruler.after("inline","github-task-lists",(e=>{const o=e.tokens;e.env.tasklists||(e.env.tasklists=0);for(let r=2;r<o.length;r++)Ee(o,r)&&(De(o[r],e,{disabled:t,label:n}),le(o[r-2],"class","task-list-item"),le(o[ce(o,r-2)],"class","task-list-container"));return!0}))},Pe=e=>{k(e,{name:"v-pre",openRender:()=>"<div v-pre>\n",closeRender:()=>"</div>\n"})},ze=(e,t=[])=>{0!=Object.keys(t).length&&e.core.ruler.push("stylize_tag",(({env:e,tokens:n})=>{const{noStylize:o}=e.frontmatter||{};n.forEach((({type:e,children:n})=>{"inline"===e&&((e,t,n=[])=>{for(let o=1,r=e.length;o<r-1;o++){const r=e[o],{content:s,type:i}=r;if("text"!==i||n.includes(s))continue;const a=t.find((({matcher:e})=>"string"==typeof e?e===s:e.test(s))),l=e[o-1],c=e[o+1];if(a&&l.tag===c.tag&&1===l.nesting&&-1===c.nesting){const e=a.replacer({tag:l.tag,content:r.content,attrs:Object.fromEntries(l.attrs||[])});e&&(l.tag=c.tag=e.tag,l.attrs=Object.entries(e.attrs),r.content=e.content),o+=2}}})(n||[],t,o)}))}))},Ne=e=>{e.use(k,{name:"demo",openRender:(e,t)=>{const{info:o}=e[t],r=/\[(.*)\]/u.exec(o),s=/^ demo\s*(?:\[.*?\])?\s*(.*)\s*$/u.exec(o);let i="";const a={};for(let n=t;n<e.length;n++){const{type:t,content:o,info:r}=e[n];if("container_demo_close"===t)break;o&&("fence"===t&&("json"===r?i=encodeURIComponent(o):a[r]=o))}return`\n<CodeDemo id="code-demo-${n.hash(a)}" type="${r?.[1]||"normal"}"${s?` title="${encodeURIComponent(s[1])}"`:""}${i?` config="${i}"`:""} code="${encodeURIComponent(JSON.stringify(a))}">\n`},closeRender:()=>"</CodeDemo>"})},Le=e=>{e.use(k,{name:"code-group",openRender:(e,t,n,o)=>(u.warn("Deprecated code-group syntax found"+(o.filePathRelative?`in ${o.filePathRelative}`:"")),"<CodeGroup>\n"),closeRender:()=>"</CodeGroup>\n"}),e.use(k,{name:"code-group-item",openRender:(e,t)=>{const{info:n}=e[t],o="active"===n.split(":").pop();return`<CodeGroupItem title="${o?n.replace(/:active$/,""):n}"${o?" active":""}>\n`},closeRender:()=>"</CodeGroupItem>\n"})},Fe=e=>{Ie(e,{name:"flowchart",open:"flowstart",close:"flowend",render:(e,t)=>{console.warn('"@flowstart ... @flowend" is deprecated, you should use ```flow ... ``` instead.');const o=e[t],r=`flowchart_${n.hash(t)}`,{content:s,info:i}=o;return`<FlowChart id="${r}" code="${encodeURIComponent(s)}" preset="${i.trim()||"vue"}"></FlowChart>`}})},Ue=o.ensureEndingSlash(n.path.resolve(__dirname,"../client")),qe={"/en/":{info:"Info",note:"Note",tip:"Tips",warning:"Note",danger:"Warning",details:"Details"},"/zh/":{info:"相关信息",note:"注",tip:"提示",warning:"注意",danger:"警告",details:"详情"},"/zh-tw/":{info:"相關信息",note:"注",tip:"提示",warning:"注意",danger:"警告",details:"詳情"},"/de-at/":{info:"Information",note:"Note",tip:"Tips",warning:"Notiz",danger:"Warnung",details:"Details"},"/vi/":{info:"Thông tin",note:"Note",tip:"Tips",warning:"Lưu ý",danger:"Cẩn thận",details:"Chi tiết"},"/uk/":{info:"Інформація",note:"Note",tip:"Поради",warning:"Примітка",danger:"Увага",details:"Деталь"},"/ru/":{info:"Инфо",note:"Заметка",tip:"Совет",warning:"Примечание",danger:"Предупреждение",details:"Подробности"},"/br/":{info:"Informativo",note:"Note",tip:"Dicas",warning:"Avisos",danger:"Cuidado",details:"Detalhe"},"/pl/":{info:"Info",note:"Notatka",tip:"Porady",warning:"Notatka",danger:"Ostrzeżenie",details:"Dane"},"/sk/":{info:"Info",note:"Poznámka",tip:"Tip",warning:"Upozornenie",danger:"Pozor",details:"Podrobnosti"},"/fr/":{info:"Info",note:"Note",tip:"Conseil",warning:"Note",danger:"Avertissement",details:"Details"},"/es/":{info:"Información",note:"Nota",tip:"Consejos",warning:"Aviso",danger:"Advertencia",details:"Detalles"}},Be=(n={gfm:!0},o=!1)=>r=>{o&&(e=>{h({options:e,deprecatedOption:"codegroup",newOption:"codetabs"}),h({options:e,deprecatedOption:"mdImport",newOption:"include"}),g(e,"lineNumbers"),g(e,"imageFix")})(n),r.env.isDebug&&u.info(`Options: ${n.toString()}`),n.enableAll&&u.error('Do not use "enableAll" option in production, this option is only built for demo!\nTo avoid including large chunks of some features, enable features you are using ONLY.');const s=(e,t=!1)=>e in n?Boolean(n[e]):t&&"gfm"in n?Boolean(n.gfm):n.enableAll||!1,i=s("chart"),l=s("echarts"),c=s("flowchart"),p=s("footnote",!0),f=s("imageMark",!0),k=s("tasklist",!0),$=s("mermaid"),y=s("presentation"),v=s("tex"),x=((e,t)=>{const{linkCheck:n="dev"}=t;return"boolean"==typeof n?n:"always"===n||e.env.isDev&&"dev"===n||e.env.isBuild&&"build"===n||!1})(r,n),_={macros:{"\\liiiint":"\\int\\!\\!\\!\\iiint","\\iiiint":"\\int\\!\\!\\!\\!\\iiint","\\idotsint":"\\int\\!\\cdots\\!\\int"},..."object"==typeof n.tex?n.tex:{}},C="object"==typeof n.presentation&&Array.isArray(n.presentation.plugins)?n.presentation.plugins:[];return e.useSassPalettePlugin(r,{id:"hope"}),((e,n)=>{const o=t.getLocales({app:e,name:"md-enhance",default:qe,config:n.locales}),r=e=>Object.fromEntries(Object.keys(o).map((t=>[t,{defaultInfo:o[t][e]}])));(n.container||n.enableAll)&&(["info","note","tip","warning","danger"].forEach((t=>e.use(a.containerPlugin({type:t,locales:r(t)})))),e.use(a.containerPlugin({type:"details",render:N(r("details"))})))})(r,n),{name:"vuepress-plugin-md-enhance",define:()=>({MARKDOWN_ENHANCE_DELAY:n.delay||500,CODE_DEMO_OPTIONS:{...O,..."object"==typeof n.demo?n.demo:{}},MERMAID_OPTIONS:"object"==typeof n.mermaid?n.mermaid:{},REVEAL_CONFIG:"object"==typeof n.presentation&&"object"==typeof n.presentation.revealConfig?n.presentation.revealConfig:{}}),extendsBundlerOptions:(e,n)=>{"html"!==_.output&&t.addCustomElement({app:n,config:e},d),i&&(t.addViteOptimizeDepsInclude({app:n,config:e},"chart.js/auto"),t.addViteSsrExternal({app:n,config:e},"chart.js")),l&&(t.addViteOptimizeDepsInclude({app:n,config:e},"echarts"),t.addViteSsrExternal({app:n,config:e},"echarts")),c&&(t.addViteOptimizeDepsInclude({app:n,config:e},"flowchart.js"),t.addViteSsrExternal({app:n,config:e},"flowchart.js")),$&&(t.addViteOptimizeDepsInclude({app:n,config:e},"mermaid"),t.addViteSsrExternal({app:n,config:e},"mermaid")),y&&(t.addViteOptimizeDepsExclude({app:n,config:e},["reveal.js/dist/reveal.esm.js","reveal.js/plugin/markdown/markdown.esm.js",...C.map((e=>`reveal.js/plugin/${e}/${e}.esm.js`))]),t.addViteSsrExternal({app:n,config:e},"reveal.js"))},extendsMarkdown:e=>{s("gfm")&&(e.options.linkify=!0),s("attrs")&&e.use(S,"object"==typeof n.attrs?n.attrs:{}),s("align")&&e.use(b),s("lazyLoad")&&e.use(he),f&&e.use(ne,"object"==typeof n.imageMark?n.imageMark:{}),s("imageSize")&&e.use(se),s("sup")&&e.use(Re),s("sub")&&e.use(je),p&&e.use(te),s("mark")&&e.use(be),k&&e.use(Te,["object"==typeof n.tasklist?n.tasklist:{}]),(s("vpre")||o)&&e.use(Pe),v&&e.use(me,_),s("include")&&e.use(_e,"object"==typeof n.include?n.include:{}),s("stylize")&&e.use(ze,n.stylize),s("codetabs")&&(e.use(z),o&&e.use(Le)),s("tabs")&&e.use(P),c&&(e.use(U),e.use(Fe)),i&&e.use(j),l&&e.use(L),s("demo")&&(e.use(E),e.use(D),e.use(T),o&&e.use(Ne)),$&&e.use(Me),y&&e.use(Ae)},extendsPage:(e,t)=>{x&&t.pages&&m(e,t)},onInitialized:async e=>{x&&e.pages.forEach((t=>m(t,e))),await(async(e,t)=>{const n=["reveal","revealMarkdown",...t.map((e=>`reveal${e[0].toUpperCase()}${e.substring(1)}`))];await e.writeTemp("md-enhance/reveal.js",`import { ${n.join(", ")} } from "${Ue}reveal";\n\nexport const useReveal = () => [${n.map((e=>`${e}()`)).join(", ")}\n];`)})(e,C)},clientConfigFile:e=>(async(e,t,n=!1)=>{let o="",r="";const s=(e,n=!1)=>e in t?Boolean(t[e]):n&&"gfm"in t?Boolean(t.gfm):t.enableAll||!1;return s("chart")&&(o+=`import ChartJS from "${Ue}components/ChartJS";\n`,r+='app.component("ChartJS", ChartJS);\n'),s("echarts")&&(o+=`import ECharts from "${Ue}components/ECharts";\n`,r+='app.component("ECharts", ECharts);\n'),s("demo")&&(o+=`import CodeDemo from "${Ue}components/CodeDemo";\n`,r+='app.component("CodeDemo", CodeDemo);\n'),s("codetabs")&&(o+=`import CodeTabs from "${Ue}components/CodeTabs";\n`,r+='app.component("CodeTabs", CodeTabs);\n',n&&(o+=`import { CodeGroup, CodeGroupItem } from "${Ue}compact";\n`,r+='app.component("CodeGroup", CodeGroup);\n',r+='app.component("CodeGroupItem", CodeGroupItem);\n')),s("flowchart")&&(o+=`import FlowChart from "${Ue}components/FlowChart";\n`,r+='app.component("FlowChart", FlowChart);\n'),s("mermaid")&&(o+=`import Mermaid from "${Ue}components/Mermaid";\n`,r+='app.component("Mermaid", Mermaid);\n'),s("presentation")&&(o+=`import Presentation from "${Ue}components/Presentation";\n`,r+='app.component("Presentation", Presentation);\n'),s("container")&&(o+=`import "${Ue}styles/container/index.scss";\n`),s("footnote")&&(o+=`import "${Ue}styles/footnote.scss";\n`),s("imageMark")&&(o+=`import "${Ue}styles/image-mark.scss";\n`),s("tabs")&&(o+=`import Tabs from "${Ue}components/Tabs";\n`,r+='app.component("Tabs", Tabs);\n'),s("tasklist")&&(o+=`import "${Ue}styles/tasklist.scss";\n`),s("tex")&&(o+=`import "${Ue}styles/tex.scss";\n`),e.writeTemp("md-enhance/config.js",`import { defineClientConfig } from "@vuepress/client";\n${o}\n\nexport default defineClientConfig({\n  enhance: ({ app }) => {\n${r.split("\n").map((e=>`    ${e}`)).join("\n")}\n  }\n});`)})(e,n,o)}};exports.CODE_DEMO_DEFAULT_SETTING=O,exports.align=b,exports.attrs=S,exports.chart=j,exports.codeTabs=z,exports.container=k,exports.createIncludeCoreRule=xe,exports.default=Be,exports.echarts=L,exports.flowchart=U,exports.footnote=te,exports.getAttrs=y,exports.getDetailsRender=N,exports.handleInclude=ye,exports.imageMark=ne,exports.imageSize=se,exports.include=_e,exports.katex=me,exports.lazyLoad=he,exports.mark=be,exports.markdownEnhanceLocales=qe,exports.mdEnhancePlugin=Be,exports.mermaid=Me,exports.normalDemo=E,exports.presentation=Ae,exports.reactDemo=T,exports.resolveInclude=ve,exports.stylize=ze,exports.sub=je,exports.sup=Re,exports.tabs=P,exports.tasklist=Te,exports.uml=Ie,exports.vPre=Pe,exports.vueDemo=D;
//# sourceMappingURL=index.js.map
