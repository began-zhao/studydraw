import{ClientOnly as e}from"@vuepress/client";import{useStorage as a}from"@vueuse/core";import{defineComponent as t,ref as l,watch as u,h as v}from"vue";import"../styles/code-tabs.scss";const r=a("VUEPRESS_CODE_TAB_STORE",{});var s=t({name:"CodeTabs",props:{active:{type:Number,default:0},data:{type:Array,required:!0},tabId:{type:String,default:""}},setup(a,{slots:t}){const s=l((()=>{if(a.tabId){const e=a.data.findIndex((({title:e,value:t=e})=>r.value[a.tabId]===t));if(-1!==e)return e}return a.active})()),d=l([]),i=(e,t)=>{if(" "===e.key||"Enter"===e.key?(e.preventDefault(),s.value=t):"ArrowRight"===e.key?(e.preventDefault(),((e=s.value)=>{s.value=e<d.value.length-1?e+1:0,d.value[s.value].focus()})()):"ArrowLeft"===e.key&&(e.preventDefault(),((e=s.value)=>{s.value=e>0?e-1:d.value.length-1,d.value[s.value].focus()})()),a.tabId){const{title:e,value:t=e}=a.data[s.value];r.value[a.tabId]=t}};return u((()=>r.value[a.tabId]),((e,t)=>{if(a.tabId&&e!==t){const t=a.data.findIndex((({title:a,value:t=a})=>t===e));-1!==t&&(s.value=t)}})),()=>v(e,(()=>a.data.length?v("div",{class:"code-tabs"},[v("div",{class:"code-tabs-nav"},a.data.map((({title:e},t)=>{const l=t===s.value;return v("button",{ref:e=>{e&&(d.value[t]=e)},class:["code-tabs-nav-tab",{active:l}],"aria-pressed":l,"aria-expanded":l,onClick:()=>{s.value=t,(()=>{if(a.tabId){const{title:e,value:t=e}=a.data[s.value];r.value[a.tabId]=t}})()},onKeydown:e=>i(e,t)},e)}))),a.data.map((({title:e,value:a=e},l)=>{const u=l===s.value;return v("div",{class:["code-tab",{active:u}],"aria-selected":u},t[`tab${l}`]?.({title:e,value:a,isActive:u}))}))]):null))}});export{s as default};
//# sourceMappingURL=CodeTabs.js.map
