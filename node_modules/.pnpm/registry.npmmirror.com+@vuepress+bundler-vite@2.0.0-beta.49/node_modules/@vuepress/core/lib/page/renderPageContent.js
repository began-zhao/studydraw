"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.renderPageContent = void 0;
/**
 * Render page content and extract related info
 */
const renderPageContent = async ({ app, content, filePath, filePathRelative, options, }) => {
    const markdownEnv = {
        base: app.options.base,
        filePath,
        filePathRelative,
        frontmatter: { ...options.frontmatter },
    };
    const contentRendered = app.markdown.render(content, markdownEnv);
    /* istanbul ignore next */
    const { excerpt = '', frontmatter = {}, headers = [], importedFiles = [], links = [], sfcBlocks = [], title = '', } = markdownEnv;
    return {
        contentRendered,
        deps: importedFiles,
        excerpt,
        frontmatter,
        headers,
        links,
        sfcBlocks,
        title: frontmatter.title ?? title,
    };
};
exports.renderPageContent = renderPageContent;
