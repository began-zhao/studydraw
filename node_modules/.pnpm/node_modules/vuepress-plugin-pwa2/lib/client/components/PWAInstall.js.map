{"version":3,"file":"PWAInstall.js","sources":["../../../src/client/components/icons.ts","../../../src/client/define.ts","../../../src/client/components/PWAInstallModal.ts","../../../src/client/components/PWAInstall.ts"],"sourcesContent":[null,null,null,null],"names":["ArrowLeftIcon","h","IconBase","name","d","displayName","ArrowRightIcon","CloseIcon","locales","PWA_LOCALES","PWAInstallModal","defineComponent","components","props","useHint","Boolean","emits","setup","emit","locale","useLocaleConfig","manifest","ref","deferredprompt","scrolltoLeft","screenshotsDiv","document","querySelector","scrollBy","left","clientWidth","top","behavior","scrolltoRight","install","async","value","prompt","dispatchEvent","CustomEvent","userChoice","outcome","console","info","hint","onMounted","window","hasOwnProperty","useEventListener","event","preventDefault","key","manifestContent","localStorage","getItem","JSON","parse","response","fetch","withBase","data","json","setItem","stringify","err","error","getManifest","id","class","onClick","close","icons","src","alt","short_name","explain","features","feature","map","screenshots","prevImage","screenshot","nextImage","desc","description","iOSInstall","cancel","PWAInstall","canInstall","hasRelatedApps","isOpen","isIOS","isSafari","hinted","computed","showInstall","navigator","standalone","matchMedia","matches","userAgent","includes","maxTouchPoints","getInstalledRelatedApps","then","result","length","style","display","onCanInstall","onHint","onToggle"],"mappings":"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"}